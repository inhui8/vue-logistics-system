"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[8832],{8832:(e,l,a)=>{a.r(l),a.d(l,{default:()=>_});var t=a(641),o=a(953),d=a(33),u=a(7918),n=a(163),s=a(8548);const i={class:"supplier-list-container"},r={class:"card-header"},p={style:{"margin-bottom":"15px",display:"flex","justify-content":"flex-end"}},b={key:0,class:"quote-details"},c={key:0,class:"warehouse-details"},m={key:1},f={key:2},h={key:1},v={class:"dialog-footer"},k={__name:"SupplierList",setup(e){const l=[{value:"pickup",label:"提框"},{value:"delivery",label:"派送"},{value:"both",label:"提框 & 派送"},{value:"warehouse",label:"仓储"},{value:"customs",label:"报关"},{value:"other",label:"其他"}],a=[{value:"freight_forwarding",label:"货代"},{value:"ocean_shipping",label:"船东"},{value:"express",label:"快递"},{value:"warehousing",label:"仓储"},{value:"air_freight",label:"航空"},{value:"customs_brokerage",label:"报关"},{value:"clearance",label:"清关"},{value:"transportation",label:"运输"},{value:"insurance",label:"保险"}],k=[{value:"active",label:"合作中",tag:"success"},{value:"inactive",label:"已停止",tag:"info"},{value:"pending",label:"待审批",tag:"warning"}],F=[{value:"lax_wh1",label:"美西一号仓 (LAX)"},{value:"lax_wh2",label:"美西二号仓 (LGB)"},{value:"ewr_wh1",label:"新泽西仓库 (EWR)"},{value:"sav_wh1",label:"萨凡纳仓库 (SAV)"},{value:"dfw_wh1",label:"达拉斯仓库 (DFW)"}],g=(0,o.KR)([{id:"role_pickup_standard",name:"标准提框商"},{id:"role_delivery_standard",name:"标准派送商"},{id:"role_supplier_admin",name:"供应商管理员"},{id:"role_admin",name:"后台管理员"}]),_=(0,o.KR)([]),y=(e=15)=>{const a=[];for(let t=0;t<e;t++){const e=Object.keys(l),o=Object.keys(k),d=Object.keys(F),u=Math.floor(Math.random()*d.length)+1;let n=[];const s=l[t%e.length].value;"pickup"===s?n.push("role_pickup_standard"):"delivery"===s?n.push("role_delivery_standard"):"both"===s&&n.push("role_pickup_standard","role_delivery_standard"),Math.random()>.6&&n.push("role_supplier_admin"),n=[...new Set(n)],a.push({id:t+1,name:`测试供应商 ${String.fromCharCode(65+t)} - ${l[t%e.length].label}专家`,supplierCode:`SUP${String(2024e3+t+1)}`,type:s,industryTypes:["transportation"],address:{country:"US",state:["CA","NY","TX","GA"][t%4],city:["Los Angeles","New York","Dallas","Savannah"][t%4],street:`1${t} Mock Street`},serviceAreas:[...d].sort((()=>.5-Math.random())).slice(0,u).map((e=>F[e].value)),settlement:{method:["invoice","monthly","weekly","biweekly"][t%4],days:[0,30,7,15][t%4]},dataPermission:"all",contacts:[{name:`联系人${t+1}-A`,phone:`13${t}00001111`,position:"销售经理",qq:`${t+1}0001`,email:`contactA_${t+1}@supplier.com`,remark:"主要对接人"},t%3===0?{name:`联系人${t+1}-B`,phone:`13${t}00002222`,position:"操作员",qq:`${t+1}0002`,email:`contactB_${t+1}@supplier.com`,remark:""}:null].filter((e=>null!==e)),status:k[t%o.length].value,associatedRoles:n})}_.value=a},w=(0,o.Kh)({name:"",type:"",status:""}),V=(0,o.Kh)({currentPage:1,pageSize:10}),C=(0,t.EW)((()=>_.value.filter((e=>{const l=!w.name||e.name.includes(w.name),a=!w.type||e.type===w.type,t=!w.status||e.status===w.status;return l&&a&&t})))),W=(0,t.EW)((()=>C.value.length)),S=(0,t.EW)((()=>{const e=(V.currentPage-1)*V.pageSize,l=e+V.pageSize;return C.value.slice(e,l)})),U=(0,o.KR)(!1),x=(0,o.KR)(""),$=(0,o.KR)(!1),A=(0,o.KR)(null),q=(0,o.KR)("basicInfo"),M={id:null,name:"",supplierCode:"",type:"",industryTypes:["transportation"],address:{country:"US",state:"",city:"",street:""},serviceAreas:[],settlement:{method:"invoice",days:0},dataPermission:"all",contacts:[],status:"active",associatedRoles:[],costs:[]},R=(0,o.Kh)({...M}),T=(0,o.Kh)({name:[{required:!0,message:"请输入供应商名称",trigger:"blur"}],type:[{required:!0,message:"请选择供应商类型",trigger:"change"}],"address.country":[{required:!0,message:"请选择国家",trigger:"change"}],"address.state":[{required:!0,message:"请输入省/州",trigger:"blur"}],"address.city":[{required:!0,message:"请输入城市",trigger:"blur"}],"address.street":[{required:!0,message:"请输入详细地址",trigger:"blur"}],serviceAreas:[{required:!0,type:"array",message:"请至少选择一个服务区域",trigger:"change"}],"settlement.method":[{required:!0,message:"请选择结算方式",trigger:"change"}],"settlement.days":[{required:!0,message:"请输入结算天数",trigger:"blur"},{type:"number",message:"结算天数必须是数字"}],dataPermission:[{required:!0,message:"请选择数据权限范围",trigger:"change"}],status:[{required:!0,message:"请选择合作状态",trigger:"change"}]}),D=e=>l.find((l=>l.value===e))?.label||e,z=e=>k.find((l=>l.value===e))?.label||e,K=e=>k.find((l=>l.value===e))?.tag||"info",B=e=>e&&0!==e.length?e.includes("transportation")?a.find((e=>"transportation"===e.value))?.label||"运输":e.map((e=>a.find((l=>l.value===e))?.label||e)).join(", "):"-",I=e=>e&&0!==e.length?e.map((e=>F.find((l=>l.value===e))?.label||e)).join(", "):"-",N=e=>e&&0!==e.length?e.map((e=>g.value.find((l=>l.id===e))?.name||e)).join(", "):"-",X=()=>{V.currentPage=1},E=e=>{V.pageSize=e,V.currentPage=1},O=e=>{V.currentPage=e},P=()=>{Object.assign(R,JSON.parse(JSON.stringify(M))),R.contacts=[],R.associatedRoles=[],R.costs=[],(0,t.dY)((()=>{A.value?.clearValidate()}))},L=()=>{R.contacts||(R.contacts=[]),R.contacts.push({name:"",phone:"",position:"",qq:"",email:"",remark:""})},j=e=>{R.contacts&&R.contacts.splice(e,1)},J=()=>{P(),q.value="basicInfo",$.value=!1,x.value="新增供应商",U.value=!0},Q=e=>{P(),q.value="basicInfo",$.value=!0,x.value="编辑供应商";const l=JSON.parse(JSON.stringify(e));l.costs||(l.costs=he(l.id)),Object.assign(R,l),R.contacts||(R.contacts=[]),R.associatedRoles||(R.associatedRoles=[]),R.costs||(R.costs=[]),R.industryTypes=["transportation"],U.value=!0},Y=e=>{u.s.confirm(`确定要删除供应商 "${e.name}" 吗?`,"确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log("删除供应商:",e.id);const l=_.value.findIndex((l=>l.id===e.id));-1!==l?(_.value.splice(l,1),n.nk.success("删除成功")):n.nk.error("删除失败")})).catch((()=>{}))},H=()=>{P(),Z.value=!1,ee.value=!1,ae.value=!1},G=async()=>{if(A.value)try{await A.value.validate(),R.industryTypes=["transportation"];const e=JSON.parse(JSON.stringify(R));if(console.log("提交的表单数据:",e),$.value){const l=_.value.findIndex((l=>l.id===e.id));if(-1!==l){const a=_.value[l],t={...a,...e};e.contacts&&e.contacts.length>0?t.primaryContact={name:e.contacts[0].name,phone:e.contacts[0].phone}:t.primaryContact={name:"-",phone:"-"},_.value[l]=t,n.nk.success("供应商信息更新成功")}else n.nk.error("更新失败: 未找到供应商")}else{const l=Date.now(),a={...e,id:l,supplierCode:`SUP${String(2024e3+_.value.length+1)}`,primaryContact:e.contacts&&e.contacts.length>0?{name:e.contacts[0].name,phone:e.contacts[0].phone}:{name:"-",phone:"-"}};_.value.push(a),n.nk.success("供应商新增成功")}U.value=!1}catch(e){console.log("表单验证失败:",e),n.nk.error("请检查表单填写是否完整且正确")}},Z=(0,o.KR)(!1),ee=(0,o.KR)(!1),le=(0,o.KR)(null),ae=(0,o.KR)(!1),te=(0,o.KR)(!1),oe=(0,o.KR)(null),de=["FBA","FBX","直送","拆柜","提柜"],ue=(0,o.Kh)({id:null,feeName:"",quoteType:"FBA",effectiveDate:"",endDate:"",remarks:"",effectiveStatus:"pending",details:[],serviceWarehouse:""}),ne=[{value:"active",label:"生效中",tag:"success"},{value:"pending",label:"待生效",tag:"warning"},{value:"expired",label:"已过期",tag:"info"},{value:"ended",label:"已结束",tag:"danger"}],se=(0,t.EW)((()=>R.costs?.filter((e=>"active"===e.effectiveStatus||"pending"===e.effectiveStatus))||[])),ie=(0,t.EW)((()=>R.costs?.filter((e=>"expired"===e.effectiveStatus||"ended"===e.effectiveStatus))||[])),re=e=>ne.find((l=>l.value===e))?.label||e,pe=e=>ne.find((l=>l.value===e))?.tag||"info",be=async()=>{if(console.log("保存报价:",ue),R.costs||(R.costs=[]),te.value)n.nk.info("编辑报价功能暂未实现");else{const e={...ue,id:Date.now(),effectiveStatus:"pending"};R.costs.push(e),n.nk.success("报价新增成功")}ae.value=!1},ce=e=>{u.s.confirm(`确定要将报价 "${e.feeName}" 设为生效状态吗?`,"确认生效",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=R.costs.find((l=>l.id===e.id));l&&(l.effectiveStatus="active",n.nk.success("报价已生效"))})).catch((()=>{}))},me=e=>{u.s.confirm(`确定要结束当前生效的报价 "${e.feeName}" 吗?结束后不可恢复。`,"确认结束报价",{confirmButtonText:"确定结束",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=R.costs.find((l=>l.id===e.id));l&&(l.effectiveStatus="ended",l.endDate=(new Date).toISOString().split("T")[0],n.nk.success("报价已结束"))})).catch((()=>{}))},fe=e=>{console.log("查看报价详情:",e),le.value=e,ee.value=!0},he=e=>{const l=[],a=["FBA固定报价","卡车派送","海运附加费"],t=["LA","NY","SAV","DAL"],o=Math.floor(3*Math.random())+1;for(let u=0;u<o;u++){const o=Math.random();let d="pending",n=de[u%de.length];o<.4?d="active":o<.7&&(d="expired");const s=new Date(2023+Math.floor(2*Math.random()),Math.floor(12*Math.random()),Math.floor(28*Math.random())+1),i=new Date(s);i.setMonth(s.getMonth()+Math.floor(12*Math.random())+1);let r=[];const p=`${a[u%a.length]}-${t[u%t.length]}`;if("FBA"===n){const l=Math.floor(10*Math.random())+5;for(let a=0;a<l;a++){const l=["ONT9","HOU2","XUS8","FTW1","FTW2","RIC1","RIC2","RIC3","BF11","BF13","XUSD","BF14","BF15"],t=["CA","TX","VA","WA"],o=["Redlands","Houston","Dallas","Petersburg","Richmond","Sumner","Dupont","Stockton","Kent"],d=["96inch","72inch","不限高","80inch"];r.push({id:`detail_${e}_${u+1}_${a+1}`,platform:"Amazon",warehouseCode:l[a%l.length],country:"US",state:t[a%t.length],city:o[a%o.length],address:`${1e3+150*a} Mock Warehouse St, ${o[a%o.length]}`,zipcode:`${9e4+10*a}-${1e3+a}`,price:parseFloat((1e3*Math.random()+100).toFixed(2)),palletRule:d[a%d.length]})}}l.push({id:`cost_${e}_${u+1}`,feeName:p,quoteType:n,effectiveDate:s.toISOString().split("T")[0],endDate:i.toISOString().split("T")[0],effectiveStatus:d,remarks:`这是第 ${u+1} 条模拟报价备注信息 (${d})`,details:r})}l.some((e=>"active"===e.effectiveStatus||"pending"===e.effectiveStatus))||l.length>0&&(l[0].effectiveStatus=Math.random()>.5?"active":"pending");const d=Math.floor(2*Math.random());for(let u=0;u<d;u++){const o=new Date(2022,Math.floor(12*Math.random()),Math.floor(28*Math.random())+1),d=new Date(o);d.setMonth(o.getMonth()+Math.floor(6*Math.random())+1);let n=[];const s=`${a[(u+1)%a.length]}-历史-${t[(u+1)%t.length]}`;let i=de[(u+1)%de.length];if("FBA"===i){const l=Math.floor(5*Math.random())+2;for(let a=0;a<l;a++)n.push({id:`ended_detail_${e}_${u+1}_${a+1}`,platform:"Amazon",warehouseCode:`WH${100+a}`,country:"US",state:"CA",city:"Old City",address:`${a+1} Old St`,zipcode:"99999",price:parseFloat((50*Math.random()+50).toFixed(2)),palletRule:"72inch"})}l.push({id:`cost_${e}_ended_${u+1}`,feeName:s,quoteType:i,effectiveDate:o.toISOString().split("T")[0],endDate:d.toISOString().split("T")[0],effectiveStatus:"ended",remarks:`这是第 ${u+1} 条模拟已结束报价 (${i})`,details:n})}return l},ve=[{value:"west1",label:"美西一号仓"},{value:"west2",label:"美西二号仓"},{value:"east",label:"美东仓"}];return(0,t.sV)((()=>{y()})),(e,a)=>{const u=(0,t.g2)("el-icon"),n=(0,t.g2)("el-button"),_=(0,t.g2)("el-input"),y=(0,t.g2)("el-form-item"),C=(0,t.g2)("el-option"),$=(0,t.g2)("el-select"),M=(0,t.g2)("el-form"),P=(0,t.g2)("el-table-column"),te=(0,t.g2)("el-tag"),ne=(0,t.g2)("el-table"),he=(0,t.g2)("el-pagination"),ke=(0,t.g2)("el-divider"),Fe=(0,t.g2)("el-col"),ge=(0,t.g2)("el-row"),_e=(0,t.g2)("el-upload"),ye=(0,t.g2)("el-radio"),we=(0,t.g2)("el-radio-group"),Ve=(0,t.g2)("el-input-number"),Ce=(0,t.g2)("QuestionFilled"),We=(0,t.g2)("el-tooltip"),Se=(0,t.g2)("el-tab-pane"),Ue=(0,t.g2)("el-empty"),xe=(0,t.g2)("el-dialog"),$e=(0,t.g2)("el-descriptions-item"),Ae=(0,t.g2)("el-descriptions"),qe=(0,t.g2)("el-alert"),Me=(0,t.g2)("el-date-picker"),Re=(0,t.g2)("el-tabs"),Te=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(Te,null,{header:(0,t.k6)((()=>[(0,t.Lk)("div",r,[a[32]||(a[32]=(0,t.Lk)("span",null,"供应商列表",-1)),(0,t.bF)(n,{type:"primary",onClick:J},{default:(0,t.k6)((()=>[(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(s.FWt))])),_:1}),a[31]||(a[31]=(0,t.eW)(" 新增供应商 "))])),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(M,{inline:!0,model:w,class:"filter-form"},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"供应商名称"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:w.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.name=e),placeholder:"输入名称关键字",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"供应商类型"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:w.type,"onUpdate:modelValue":a[1]||(a[1]=e=>w.type=e),placeholder:"选择类型",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(l,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"合作状态"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:w.status,"onUpdate:modelValue":a[2]||(a[2]=e=>w.status=e),placeholder:"选择状态",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(k,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(y,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{type:"primary",onClick:X},{default:(0,t.k6)((()=>a[33]||(a[33]=[(0,t.eW)("查询")]))),_:1})])),_:1})])),_:1},8,["model"]),(0,t.bF)(ne,{data:S.value,style:{width:"100%"},border:""},{default:(0,t.k6)((()=>[(0,t.bF)(P,{prop:"name",label:"供应商名称","min-width":"180","show-overflow-tooltip":""}),(0,t.bF)(P,{prop:"type",label:"供应商类型",width:"120"},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(D(e.row.type)),1)])),_:1}),(0,t.bF)(P,{prop:"industryTypes",label:"行业类型",width:"120"},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(B(e.row.industryTypes)),1)])),_:1}),(0,t.bF)(P,{prop:"associatedRoles",label:"关联角色",width:"200","show-overflow-tooltip":""},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(N(e.row.associatedRoles)),1)])),_:1}),(0,t.bF)(P,{prop:"serviceAreas",label:"服务区域",width:"200","show-overflow-tooltip":""},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(I(e.row.serviceAreas)),1)])),_:1}),(0,t.bF)(P,{prop:"primaryContact.name",label:"主要联系人",width:"120"}),(0,t.bF)(P,{prop:"primaryContact.phone",label:"联系电话",width:"130"}),(0,t.bF)(P,{prop:"status",label:"合作状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(te,{type:K(e.row.status)},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(z(e.row.status)),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(P,{prop:"supplierCode",label:"供应商编号",width:"140"}),(0,t.bF)(P,{label:"操作",fixed:"right",width:"180"},{default:(0,t.k6)((e=>[(0,t.bF)(n,{text:"",type:"primary",size:"small",onClick:l=>Q(e.row)},{default:(0,t.k6)((()=>a[34]||(a[34]=[(0,t.eW)("编辑")]))),_:2},1032,["onClick"]),(0,t.bF)(n,{text:"",type:"danger",size:"small",onClick:l=>Y(e.row)},{default:(0,t.k6)((()=>a[35]||(a[35]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(he,{style:{"margin-top":"20px","justify-content":"flex-end"},background:"",layout:"total, sizes, prev, pager, next, jumper",total:W.value,"page-sizes":[10,20,50,100],"page-size":V.pageSize,"current-page":V.currentPage,onSizeChange:E,onCurrentChange:O},null,8,["total","page-size","current-page"]),(0,t.bF)(xe,{modelValue:U.value,"onUpdate:modelValue":a[30]||(a[30]=e=>U.value=e),title:x.value,width:"75%",top:"5vh",onClose:H,"close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",v,[(0,t.bF)(n,{onClick:a[29]||(a[29]=e=>U.value=!1)},{default:(0,t.k6)((()=>a[61]||(a[61]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(n,{type:"primary",onClick:G},{default:(0,t.k6)((()=>a[62]||(a[62]=[(0,t.eW)("保存")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(Re,{modelValue:q.value,"onUpdate:modelValue":a[28]||(a[28]=e=>q.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(Se,{label:"基础信息",name:"basicInfo"},{default:(0,t.k6)((()=>[(0,t.bF)(M,{ref_key:"supplierFormRef",ref:A,model:R,rules:T,"label-width":"110px",style:{"max-height":"65vh","overflow-y":"auto","padding-right":"10px"}},{default:(0,t.k6)((()=>[(0,t.bF)(ke,{"content-position":"left"},{default:(0,t.k6)((()=>a[36]||(a[36]=[(0,t.eW)("基础信息")]))),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"行业类型"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{value:"运输",disabled:""})])),_:1})])),_:1}),(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"供应商类型",prop:"type"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:R.type,"onUpdate:modelValue":a[3]||(a[3]=e=>R.type=e),placeholder:"选择供应商主要服务类型",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(l,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"供应商名称",prop:"name"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:R.name,"onUpdate:modelValue":a[4]||(a[4]=e=>R.name=e),placeholder:"请输入供应商公司全称"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"供应商编号"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{value:R.supplierCode||"提交后自动生成",disabled:""},null,8,["value"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"国家",prop:"address.country"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:R.address.country,"onUpdate:modelValue":a[5]||(a[5]=e=>R.address.country=e),placeholder:"请选择国家",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(C,{label:"美国",value:"US"}),(0,t.bF)(C,{label:"中国(CN)",value:"CN"}),(0,t.bF)(C,{label:"加拿大",value:"CA"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"省/州",prop:"address.state"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:R.address.state,"onUpdate:modelValue":a[6]||(a[6]=e=>R.address.state=e),placeholder:"例如：CA, NY"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"城市",prop:"address.city"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:R.address.city,"onUpdate:modelValue":a[7]||(a[7]=e=>R.address.city=e),placeholder:"例如：Los Angeles"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:16},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"详细地址",prop:"address.street"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:R.address.street,"onUpdate:modelValue":a[8]||(a[8]=e=>R.address.street=e),placeholder:"请输入详细街道地址"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"营业执照"},{default:(0,t.k6)((()=>[(0,t.bF)(_e,{action:"#",limit:1,"auto-upload":!1},{trigger:(0,t.k6)((()=>[(0,t.bF)(n,{type:"primary",link:""},{default:(0,t.k6)((()=>a[37]||(a[37]=[(0,t.eW)("点击上传")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:24},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"服务区域",prop:"serviceAreas"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:R.serviceAreas,"onUpdate:modelValue":a[9]||(a[9]=e=>R.serviceAreas=e),multiple:"",filterable:"",placeholder:"请选择供应商可服务的仓库区域",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(F,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ke,{"content-position":"left"},{default:(0,t.k6)((()=>a[38]||(a[38]=[(0,t.eW)("结算")]))),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"结算方式",prop:"settlement.method"},{default:(0,t.k6)((()=>[(0,t.bF)(we,{modelValue:R.settlement.method,"onUpdate:modelValue":a[10]||(a[10]=e=>R.settlement.method=e)},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"invoice"},{default:(0,t.k6)((()=>a[39]||(a[39]=[(0,t.eW)("票结")]))),_:1}),(0,t.bF)(ye,{label:"monthly"},{default:(0,t.k6)((()=>a[40]||(a[40]=[(0,t.eW)("月结")]))),_:1}),(0,t.bF)(ye,{label:"weekly"},{default:(0,t.k6)((()=>a[41]||(a[41]=[(0,t.eW)("周结")]))),_:1}),(0,t.bF)(ye,{label:"biweekly"},{default:(0,t.k6)((()=>a[42]||(a[42]=[(0,t.eW)("半月结")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"结算天数",prop:"settlement.days"},{default:(0,t.k6)((()=>[(0,t.bF)(Ve,{modelValue:R.settlement.days,"onUpdate:modelValue":a[11]||(a[11]=e=>R.settlement.days=e),min:0,placeholder:"例如：30",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ke,{"content-position":"left"},{default:(0,t.k6)((()=>[a[43]||(a[43]=(0,t.eW)("数据权限 ")),(0,t.bF)(We,{content:"控制该供应商信息及相关数据（如成本）对内部哪些用户可见",placement:"top"},{default:(0,t.k6)((()=>[(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,t.bF)(Ce)])),_:1})])),_:1})])),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:24},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"使用人员",prop:"dataPermission"},{default:(0,t.k6)((()=>[(0,t.bF)(we,{modelValue:R.dataPermission,"onUpdate:modelValue":a[12]||(a[12]=e=>R.dataPermission=e)},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"all"},{default:(0,t.k6)((()=>a[44]||(a[44]=[(0,t.eW)("全部")]))),_:1}),(0,t.bF)(ye,{label:"department",disabled:""},{default:(0,t.k6)((()=>a[45]||(a[45]=[(0,t.eW)("指定部门 (待实现)")]))),_:1}),(0,t.bF)(ye,{label:"position",disabled:""},{default:(0,t.k6)((()=>a[46]||(a[46]=[(0,t.eW)("指定岗位 (待实现)")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(ke,{"content-position":"left"},{default:(0,t.k6)((()=>a[47]||(a[47]=[(0,t.eW)("联系方式")]))),_:1}),(0,t.bF)(ne,{data:R.contacts,style:{width:"100%","margin-bottom":"15px"},border:"",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{label:"联系人",prop:"name",width:"120"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l,size:"small",placeholder:"姓名"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"电话号码",prop:"phone",width:"150"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.phone,"onUpdate:modelValue":l=>e.row.phone=l,size:"small",placeholder:"手机或座机"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"岗位",prop:"position",width:"120"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.position,"onUpdate:modelValue":l=>e.row.position=l,size:"small",placeholder:"如：销售经理"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"QQ",prop:"qq",width:"120"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.qq,"onUpdate:modelValue":l=>e.row.qq=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"邮箱",prop:"email"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.email,"onUpdate:modelValue":l=>e.row.email=l,size:"small",placeholder:"常用邮箱"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"备注",prop:"remark"},{default:(0,t.k6)((e=>[(0,t.bF)(_,{modelValue:e.row.remark,"onUpdate:modelValue":l=>e.row.remark=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.bF)(P,{label:"操作",width:"80",align:"center"},{default:(0,t.k6)((e=>[(0,t.bF)(n,{type:"danger",icon:(0,o.R1)(s.epd),circle:"",size:"small",onClick:l=>j(e.$index)},null,8,["icon","onClick"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(n,{type:"primary",link:"",icon:(0,o.R1)(s.FWt),onClick:L},{default:(0,t.k6)((()=>a[48]||(a[48]=[(0,t.eW)("添加联系人")]))),_:1},8,["icon"]),(0,t.bF)(ke,{"content-position":"left"},{default:(0,t.k6)((()=>a[49]||(a[49]=[(0,t.eW)("其他信息")]))),_:1}),(0,t.bF)(ge,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"合作状态",prop:"status"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:R.status,"onUpdate:modelValue":a[13]||(a[13]=e=>R.status=e),placeholder:"请选择合作状态",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(k,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(Fe,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"关联角色",prop:"associatedRoles"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:R.associatedRoles,"onUpdate:modelValue":a[14]||(a[14]=e=>R.associatedRoles=e),multiple:"",placeholder:"选择关联的角色",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(g.value,(e=>((0,t.uX)(),(0,t.Wv)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,t.bF)(Se,{label:"合同信息",name:"contractInfo",disabled:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ue,{description:"合同信息功能待开发"})])),_:1}),(0,t.bF)(Se,{label:"开票信息",name:"billingInfo",disabled:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ue,{description:"开票信息功能待开发"})])),_:1}),(0,t.bF)(Se,{label:"考核管理",name:"assessmentInfo",disabled:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ue,{description:"考核管理功能待开发"})])),_:1}),(0,t.bF)(Se,{label:"成本管理",name:"costManagement"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",p,[(0,t.bF)(n,{type:"primary",onClick:a[15]||(a[15]=e=>Z.value=!0)},{default:(0,t.k6)((()=>a[50]||(a[50]=[(0,t.eW)("查看历史报价")]))),_:1})]),(0,t.bF)(ne,{data:se.value,style:{width:"100%"},border:"",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{prop:"feeName",label:"费用名称","min-width":"180","show-overflow-tooltip":""}),(0,t.bF)(P,{prop:"quoteType",label:"费用类型",width:"100"}),(0,t.bF)(P,{prop:"effectiveDate",label:"生效日期",width:"120"}),(0,t.bF)(P,{prop:"endDate",label:"结束日期",width:"120"}),(0,t.bF)(P,{prop:"effectiveStatus",label:"生效状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(te,{type:pe(e.row.effectiveStatus)},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(re(e.row.effectiveStatus)),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(P,{prop:"remarks",label:"备注","min-width":"150","show-overflow-tooltip":""}),(0,t.bF)(P,{label:"操作",fixed:"right",width:"220"},{default:(0,t.k6)((e=>[(0,t.bF)(n,{text:"",type:"primary",size:"small",onClick:l=>ce(e.row),disabled:"pending"!==e.row.effectiveStatus},{default:(0,t.k6)((()=>a[51]||(a[51]=[(0,t.eW)("报价生效")]))),_:2},1032,["onClick","disabled"]),(0,t.bF)(n,{text:"",type:"warning",size:"small",onClick:l=>me(e.row),disabled:"active"!==e.row.effectiveStatus},{default:(0,t.k6)((()=>a[52]||(a[52]=[(0,t.eW)("结束报价")]))),_:2},1032,["onClick","disabled"]),(0,t.bF)(n,{text:"",type:"info",size:"small",onClick:l=>fe(e.row)},{default:(0,t.k6)((()=>a[53]||(a[53]=[(0,t.eW)("查看报价")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(xe,{modelValue:Z.value,"onUpdate:modelValue":a[17]||(a[17]=e=>Z.value=e),title:"历史成本报价",width:"70%","append-to-body":""},{footer:(0,t.k6)((()=>[(0,t.bF)(n,{onClick:a[16]||(a[16]=e=>Z.value=!1)},{default:(0,t.k6)((()=>a[56]||(a[56]=[(0,t.eW)("关闭")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(ne,{data:ie.value,style:{width:"100%"},border:"",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{prop:"feeName",label:"费用名称","min-width":"180","show-overflow-tooltip":""}),(0,t.bF)(P,{prop:"quoteType",label:"费用类型",width:"100"}),(0,t.bF)(P,{prop:"effectiveDate",label:"生效日期",width:"120"}),(0,t.bF)(P,{prop:"endDate",label:"结束日期",width:"120"}),(0,t.bF)(P,{prop:"effectiveStatus",label:"状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(te,{type:"info"},{default:(0,t.k6)((()=>a[54]||(a[54]=[(0,t.eW)("已过期")]))),_:1})])),_:1}),(0,t.bF)(P,{prop:"remarks",label:"备注","min-width":"150","show-overflow-tooltip":""}),(0,t.bF)(P,{label:"操作",fixed:"right",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(n,{text:"",type:"info",size:"small",onClick:l=>fe(e.row)},{default:(0,t.k6)((()=>a[55]||(a[55]=[(0,t.eW)("查看报价")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue"]),(0,t.bF)(xe,{modelValue:ee.value,"onUpdate:modelValue":a[19]||(a[19]=e=>ee.value=e),title:"查看报价详情",width:"60%","append-to-body":""},{footer:(0,t.k6)((()=>[(0,t.bF)(n,{onClick:a[18]||(a[18]=e=>ee.value=!1)},{default:(0,t.k6)((()=>a[58]||(a[58]=[(0,t.eW)("关闭")]))),_:1})])),default:(0,t.k6)((()=>[le.value?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(Ae,{column:2,border:"",title:"报价详情","title-style":{fontWeight:"bold"},style:{"margin-bottom":"20px"}},{default:(0,t.k6)((()=>[(0,t.bF)($e,{label:"供应商"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(R.name),1)])),_:1}),(0,t.bF)($e,{label:"报价类型"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(le.value.quoteType),1)])),_:1}),(0,t.bF)($e,{label:"服务描述",span:2},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(le.value.feeName),1)])),_:1}),(0,t.bF)($e,{label:"生效日期",span:2},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(le.value.effectiveDate)+" 至 "+(0,d.v_)(le.value.endDate),1)])),_:1}),"FBA"===le.value.quoteType?((0,t.uX)(),(0,t.Wv)($e,{key:0,label:"服务仓库"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ve.find((e=>e.value===le.value.serviceWarehouse))?.label||"-"),1)])),_:1})):(0,t.Q3)("",!0)])),_:1}),"FBA"===le.value.quoteType&&le.value.details&&le.value.details.length>0?((0,t.uX)(),(0,t.CE)("div",c,[a[57]||(a[57]=(0,t.Lk)("h3",{style:{"margin-bottom":"10px","font-size":"16px","font-weight":"bold"}},"仓库报价明细",-1)),(0,t.bF)(ne,{data:le.value.details,border:"",stripe:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(P,{prop:"platform",label:"平台名称",width:"100"}),(0,t.bF)(P,{prop:"warehouseCode",label:"仓库代码",width:"120"}),(0,t.bF)(P,{prop:"country",label:"国家",width:"80"}),(0,t.bF)(P,{prop:"state",label:"省/州",width:"80"}),(0,t.bF)(P,{prop:"city",label:"城市",width:"120"}),(0,t.bF)(P,{prop:"address",label:"详细地址","min-width":"200","show-overflow-tooltip":""}),(0,t.bF)(P,{prop:"zipcode",label:"邮编",width:"100"}),(0,t.bF)(P,{prop:"price",label:"报价 (USD)",width:"120"},{default:(0,t.k6)((({row:e})=>[(0,t.eW)((0,d.v_)(e.price?.toFixed(2)||"-"),1)])),_:1}),(0,t.bF)(P,{prop:"palletRule",label:"打板规则",width:"100"})])),_:1},8,["data"])])):"FBA"===le.value.quoteType?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(qe,{title:"无FBA仓库报价明细数据",type:"info","show-icon":"",closable:!1})])):((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(qe,{title:`非FBA报价类型 (${le.value.quoteType})，无仓库明细。`,type:"info","show-icon":"",closable:!1},null,8,["title"])]))])):((0,t.uX)(),(0,t.CE)("div",h,[(0,t.bF)(Ue,{description:"无法加载报价详情"})]))])),_:1},8,["modelValue"]),(0,t.bF)(xe,{modelValue:ae.value,"onUpdate:modelValue":a[27]||(a[27]=e=>ae.value=e),title:e.costDialogTitle,width:"60%","append-to-body":"","close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.bF)(n,{onClick:a[26]||(a[26]=e=>ae.value=!1)},{default:(0,t.k6)((()=>a[59]||(a[59]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(n,{type:"primary",onClick:be},{default:(0,t.k6)((()=>a[60]||(a[60]=[(0,t.eW)("保存报价")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(M,{ref_key:"costFormRef",ref:oe,model:ue,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"费用名称",prop:"feeName"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:ue.feeName,"onUpdate:modelValue":a[20]||(a[20]=e=>ue.feeName=e),placeholder:"例如：FBA-固定报价-LA"},null,8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"费用类型",prop:"quoteType"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:ue.quoteType,"onUpdate:modelValue":a[21]||(a[21]=e=>ue.quoteType=e),placeholder:"选择费用类型",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(de,(e=>(0,t.bF)(C,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"生效日期",prop:"effectiveDate"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:ue.effectiveDate,"onUpdate:modelValue":a[22]||(a[22]=e=>ue.effectiveDate=e),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"结束日期",prop:"endDate"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:ue.endDate,"onUpdate:modelValue":a[23]||(a[23]=e=>ue.endDate=e),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,t.bF)(y,{label:"备注",prop:"remarks"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelValue:ue.remarks,"onUpdate:modelValue":a[24]||(a[24]=e=>ue.remarks=e),type:"textarea",placeholder:"请输入备注"},null,8,["modelValue"])])),_:1}),"FBA"===ue.quoteType?((0,t.uX)(),(0,t.Wv)(y,{key:0,label:"服务仓库",prop:"serviceWarehouse"},{default:(0,t.k6)((()=>[(0,t.bF)($,{modelValue:ue.serviceWarehouse,"onUpdate:modelValue":a[25]||(a[25]=e=>ue.serviceWarehouse=e),placeholder:"选择服务仓库",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(ve,(e=>(0,t.bF)(C,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})):(0,t.Q3)("",!0)])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1})])}}};var F=a(6262);const g=(0,F.A)(k,[["__scopeId","data-v-37d7e38c"]]),_=g}}]);
//# sourceMappingURL=8832.73337d16.js.map