"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[3468],{1412:(e,l,a)=>{a.r(l),a.d(l,{default:()=>q});var t=a(641),s=a(33);const o=a.p+"img/empty-box.fa7fd795.svg",i={class:"expense-details-container"},b={class:"function-bar"},n={class:"button-group"},d={class:"content-container"},r={class:"main-content"},c={class:"function-buttons"},u={class:"detail-section"},k={class:"section-header"},p={class:"section-left"},m={class:"section-actions"},v={class:"section-right"},F={class:"status-tags"},f={class:"display-control"},y={class:"section-header"},_={class:"section-left"},h={class:"section-actions"},L={class:"section-right"},g={key:0,class:"empty-container"},z={class:"summary-sidebar"},W={class:"panel-header"},S={class:"sidebar-section"},C={class:"summary-table"},w={class:"summary-row"},T={class:"sidebar-section"},R={class:"function-panel"};function x(e,l,a,x,D,A){const P=(0,t.g2)("el-button"),K=(0,t.g2)("el-button-group"),B=(0,t.g2)("Top"),q=(0,t.g2)("el-icon"),E=(0,t.g2)("Bottom"),N=(0,t.g2)("el-table-column"),U=(0,t.g2)("el-tag"),X=(0,t.g2)("el-table"),M=(0,t.g2)("el-radio-button"),Q=(0,t.g2)("el-radio-group");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",b,[l[2]||(l[2]=(0,t.Fv)('<div class="tab-list" data-v-7a89a772><div class="tab-item" data-v-7a89a772>基础资料</div><div class="tab-item" data-v-7a89a772>流转详情</div><div class="tab-item" data-v-7a89a772>文件管理</div><div class="tab-item" data-v-7a89a772>操作日志</div><div class="tab-item active" data-v-7a89a772>费用明细</div></div>',1)),(0,t.Lk)("div",n,[(0,t.bF)(P,{size:"small",plain:"",onClick:x.handleSend},{default:(0,t.k6)((()=>l[1]||(l[1]=[(0,t.eW)("详情")]))),_:1},8,["onClick"])])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",r,[(0,t.Lk)("div",c,[(0,t.bF)(K,null,{default:(0,t.k6)((()=>[(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[3]||(l[3]=[(0,t.eW)("应收应付")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[4]||(l[4]=[(0,t.eW)("索赔")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[5]||(l[5]=[(0,t.eW)("审核")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[6]||(l[6]=[(0,t.eW)("变更")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[7]||(l[7]=[(0,t.eW)("生成单据")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[8]||(l[8]=[(0,t.eW)("凭据应用")]))),_:1})])),_:1})]),(0,t.Lk)("div",u,[(0,t.Lk)("div",k,[(0,t.Lk)("div",p,[l[19]||(l[19]=(0,t.Lk)("span",{class:"section-title"},"应收明细",-1)),(0,t.Lk)("div",m,[(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[9]||(l[9]=[(0,t.eW)("添加")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[10]||(l[10]=[(0,t.eW)("删除")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[11]||(l[11]=[(0,t.eW)("还原")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[12]||(l[12]=[(0,t.eW)("应收完成")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[13]||(l[13]=[(0,t.eW)("审核")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[14]||(l[14]=[(0,t.eW)("取消审核")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[15]||(l[15]=[(0,t.eW)("复制")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[16]||(l[16]=[(0,t.eW)("复制到应付")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[17]||(l[17]=[(0,t.eW)("生成账单")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[18]||(l[18]=[(0,t.eW)("撤回费用")]))),_:1}),(0,t.bF)(P,{size:"small",onClick:x.scrollToTop},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(B)])),_:1})])),_:1},8,["onClick"]),(0,t.bF)(P,{size:"small",onClick:x.scrollToBottom},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(E)])),_:1})])),_:1},8,["onClick"])])]),(0,t.Lk)("div",v,[(0,t.bF)(P,{icon:x.Setting,size:"small",circle:""},null,8,["icon"]),(0,t.bF)(P,{type:"primary",size:"small"},{default:(0,t.k6)((()=>l[20]||(l[20]=[(0,t.eW)("保存")]))),_:1})])]),(0,t.bF)(X,{ref:"receivableTable",data:x.receivableData,style:{width:"100%"},border:"",stripe:"",onSelectionChange:x.handleReceivableSelectionChange},{default:(0,t.k6)((()=>[(0,t.bF)(N,{type:"selection",width:"50"}),(0,t.bF)(N,{label:"序号",width:"60",type:"index"}),(0,t.bF)(N,{label:"状态",width:"80"},{default:(0,t.k6)((e=>[(0,t.Lk)("div",F,["审"===e.row.status?((0,t.uX)(),(0,t.Wv)(U,{key:0,size:"small",type:"primary"},{default:(0,t.k6)((()=>l[21]||(l[21]=[(0,t.eW)("审")]))),_:1})):(0,t.Q3)("",!0),"报"===e.row.status?((0,t.uX)(),(0,t.Wv)(U,{key:1,size:"small",type:"success"},{default:(0,t.k6)((()=>l[22]||(l[22]=[(0,t.eW)("报")]))),_:1})):(0,t.Q3)("",!0),"补"===e.row.status?((0,t.uX)(),(0,t.Wv)(U,{key:2,size:"small",type:"warning"},{default:(0,t.k6)((()=>l[23]||(l[23]=[(0,t.eW)("补")]))),_:1})):(0,t.Q3)("",!0)])])),_:1}),(0,t.bF)(N,{prop:"systemId",label:"系统SO号",sortable:""}),(0,t.bF)(N,{prop:"warehouseCode",label:"仓库代码",sortable:""}),(0,t.bF)(N,{prop:"expenseName",label:"费用名称",sortable:""}),(0,t.bF)(N,{prop:"unit",label:"单位",sortable:"",width:"80"}),(0,t.bF)(N,{prop:"unitPrice",label:"单价",sortable:"",width:"80"}),(0,t.bF)(N,{prop:"quantity",label:"数量",sortable:"",width:"80"}),(0,t.bF)(N,{prop:"originalAmount",label:"原币金额",sortable:""}),(0,t.bF)(N,{prop:"currency",label:"币种",sortable:"",width:"80"}),(0,t.bF)(N,{prop:"exchangeRate",label:"汇率",sortable:"",width:"80"}),(0,t.bF)(N,{prop:"convertedAmount",label:"折算金额",sortable:""})])),_:1},8,["data","onSelectionChange"]),(0,t.Lk)("div",f,[(0,t.bF)(Q,{modelValue:x.displayMode,"onUpdate:modelValue":l[0]||(l[0]=e=>x.displayMode=e),size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(M,{label:"all"},{default:(0,t.k6)((()=>l[24]||(l[24]=[(0,t.eW)("全部显示")]))),_:1}),(0,t.bF)(M,{label:"received"},{default:(0,t.k6)((()=>l[25]||(l[25]=[(0,t.eW)("只显示已收")]))),_:1}),(0,t.bF)(M,{label:"receivable"},{default:(0,t.k6)((()=>l[26]||(l[26]=[(0,t.eW)("只显示应付")]))),_:1})])),_:1},8,["modelValue"])]),(0,t.Lk)("div",y,[(0,t.Lk)("div",_,[l[37]||(l[37]=(0,t.Lk)("span",{class:"section-title"},"应付明细",-1)),(0,t.Lk)("div",h,[(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[27]||(l[27]=[(0,t.eW)("添加")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[28]||(l[28]=[(0,t.eW)("删除")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[29]||(l[29]=[(0,t.eW)("还原")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[30]||(l[30]=[(0,t.eW)("应收完成")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[31]||(l[31]=[(0,t.eW)("审核")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[32]||(l[32]=[(0,t.eW)("取消审核")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[33]||(l[33]=[(0,t.eW)("复制")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[34]||(l[34]=[(0,t.eW)("复制到应收")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[35]||(l[35]=[(0,t.eW)("生成账单")]))),_:1}),(0,t.bF)(P,{size:"small"},{default:(0,t.k6)((()=>l[36]||(l[36]=[(0,t.eW)("撤回费用")]))),_:1}),(0,t.bF)(P,{size:"small",onClick:x.scrollToTopPayable},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(B)])),_:1})])),_:1},8,["onClick"]),(0,t.bF)(P,{size:"small",onClick:x.scrollToBottomPayable},{default:(0,t.k6)((()=>[(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.bF)(E)])),_:1})])),_:1},8,["onClick"])])]),(0,t.Lk)("div",L,[(0,t.bF)(P,{icon:x.Setting,size:"small",circle:""},null,8,["icon"])])]),(0,t.bF)(X,{ref:"payableTable",data:x.payableData,style:{width:"100%"},border:"",stripe:"",onSelectionChange:x.handlePayableSelectionChange},{default:(0,t.k6)((()=>[(0,t.bF)(N,{type:"selection",width:"50"}),(0,t.bF)(N,{label:"序号",width:"60",type:"index"}),(0,t.bF)(N,{prop:"exchangeRate",label:"汇率",sortable:""}),(0,t.bF)(N,{prop:"convertedAmount",label:"折算金额",sortable:""}),(0,t.bF)(N,{prop:"taxRate",label:"税率",sortable:""}),(0,t.bF)(N,{prop:"taxAmount",label:"税金",sortable:""}),(0,t.bF)(N,{prop:"paymentMethod",label:"付款方式",sortable:""}),(0,t.bF)(N,{prop:"expenseDate",label:"费用日期",sortable:""}),(0,t.bF)(N,{prop:"voucherNumber",label:"凭单号",sortable:""}),(0,t.bF)(N,{prop:"operator",label:"操作人",sortable:""}),(0,t.bF)(N,{prop:"operationTime",label:"操作时间",sortable:""}),(0,t.bF)(N,{prop:"paymentReference",label:"付款参考号",sortable:""}),(0,t.bF)(N,{prop:"outputTime",label:"出账时间",sortable:""})])),_:1},8,["data","onSelectionChange"]),0===x.payableData.length?((0,t.uX)(),(0,t.CE)("div",g,l[38]||(l[38]=[(0,t.Lk)("img",{src:o,class:"empty-icon",alt:"暂无数据"},null,-1),(0,t.Lk)("div",{class:"empty-text"},"暂无数据",-1)]))):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",z,[(0,t.Lk)("div",W,[l[39]||(l[39]=(0,t.Lk)("div",{class:"panel-title"},[(0,t.Lk)("span",null,"汇总面板")],-1)),(0,t.bF)(P,{icon:x.Refresh,size:"small",circle:"",onClick:x.refreshSummary},null,8,["icon","onClick"])]),(0,t.Lk)("div",S,[l[44]||(l[44]=(0,t.Lk)("h4",null,"币种",-1)),(0,t.Lk)("table",C,[l[43]||(l[43]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"币种"),(0,t.Lk)("th",null,"应收"),(0,t.Lk)("th",null,"应付"),(0,t.Lk)("th",null,"利润")])],-1)),(0,t.Lk)("tbody",null,[l[41]||(l[41]=(0,t.Lk)("tr",null,[(0,t.Lk)("td",null,"USD"),(0,t.Lk)("td",null,"75"),(0,t.Lk)("td",null,"0"),(0,t.Lk)("td",null,"75")],-1)),l[42]||(l[42]=(0,t.Lk)("tr",null,[(0,t.Lk)("td",null,"合计(USD)"),(0,t.Lk)("td",null,"75"),(0,t.Lk)("td",null,"0"),(0,t.Lk)("td",null,"75")],-1)),(0,t.Lk)("tr",w,[l[40]||(l[40]=(0,t.Lk)("td",null,"选中合计(USD)",-1)),(0,t.Lk)("td",null,(0,s.v_)(x.selectedSummary.receivable),1),(0,t.Lk)("td",null,(0,s.v_)(x.selectedSummary.payable),1),(0,t.Lk)("td",null,(0,s.v_)(x.selectedSummary.profit),1)])])])]),(0,t.Lk)("div",T,[l[49]||(l[49]=(0,t.Lk)("h4",null,"功能面板",-1)),(0,t.Lk)("div",R,[(0,t.bF)(P,{type:"primary",size:"small",block:""},{default:(0,t.k6)((()=>l[45]||(l[45]=[(0,t.eW)("全部审核")]))),_:1}),(0,t.bF)(P,{type:"warning",size:"small",block:""},{default:(0,t.k6)((()=>l[46]||(l[46]=[(0,t.eW)("全部取消审核")]))),_:1}),(0,t.bF)(P,{type:"success",size:"small",block:""},{default:(0,t.k6)((()=>l[47]||(l[47]=[(0,t.eW)("导出数据")]))),_:1}),(0,t.bF)(P,{type:"info",size:"small",block:""},{default:(0,t.k6)((()=>l[48]||(l[48]=[(0,t.eW)("打印费用明细")]))),_:1})])])])])])}var D=a(953),A=a(8548);const P={name:"ExpenseDetails",setup(){const e=(0,D.KR)(null),l=(0,D.KR)(null),a=(0,D.KR)("all"),t=(0,D.KR)([{id:1,status:"审",systemId:"990250400000858",warehouseCode:"SWF2",expenseName:"拖车费",unit:"",unitPrice:"",quantity:"",originalAmount:75,currency:"USD",exchangeRate:1,convertedAmount:75}]),s=(0,D.KR)([]),o=(0,D.KR)([]),i=(0,D.KR)([]),b=(0,D.Kh)({receivable:0,payable:0,profit:0}),n=e=>{o.value=e,r()},d=e=>{i.value=e,r()},r=()=>{let e=0,l=0;o.value.forEach((l=>{e+=Number(l.convertedAmount)||0})),i.value.forEach((e=>{l+=Number(e.convertedAmount)||0})),b.receivable=e,b.payable=l,b.profit=e-l},c=()=>{console.log("发送")},u=()=>{console.log("刷新汇总"),r()},k=()=>{if(e.value){const l=e.value.$el.querySelector(".el-table__body-wrapper");l&&(l.scrollTop=0)}},p=()=>{if(e.value){const l=e.value.$el.querySelector(".el-table__body-wrapper");l&&(l.scrollTop=l.scrollHeight)}},m=()=>{if(l.value){const e=l.value.$el.querySelector(".el-table__body-wrapper");e&&(e.scrollTop=0)}},v=()=>{if(l.value){const e=l.value.$el.querySelector(".el-table__body-wrapper");e&&(e.scrollTop=e.scrollHeight)}};return{displayMode:a,receivableData:t,payableData:s,selectedReceivables:o,selectedPayables:i,selectedSummary:b,handleReceivableSelectionChange:n,handlePayableSelectionChange:d,handleSend:c,refreshSummary:u,scrollToTop:k,scrollToBottom:p,scrollToTopPayable:m,scrollToBottomPayable:v,receivableTable:e,payableTable:l,Setting:A.B5R,Top:A.EjV,Bottom:A.i5o,Refresh:A.C42}}};var K=a(6262);const B=(0,K.A)(P,[["render",x],["__scopeId","data-v-7a89a772"]]),q=B}}]);
//# sourceMappingURL=3468.c9d399b1.js.map