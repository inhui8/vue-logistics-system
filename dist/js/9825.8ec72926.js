"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[9825],{9825:(e,s,a)=>{a.r(s),a.d(s,{default:()=>R});var n=a(641),t=a(33);const l={class:"message-detail"},c={class:"card-header"},i={class:"message-number"},r={class:"message-info"},m={class:"info-item"},d={class:"value"},k={class:"info-item"},o={class:"value"},u={class:"info-item"},v={class:"value"},p={class:"info-item"},g={class:"value"},L={class:"info-item"},f=["innerHTML"],y={class:"message-actions"};function b(e,s,a,b,_,C){const T=(0,n.g2)("el-button"),h=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(h,null,{header:(0,n.k6)((()=>[(0,n.Lk)("div",c,[(0,n.Lk)("span",{class:(0,t.C4)(["message-type",b.message.type])},(0,t.v_)(b.getTypeText(b.message.type)),3),(0,n.Lk)("span",i,"单号："+(0,t.v_)(b.message.number),1)])])),default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.Lk)("div",m,[s[0]||(s[0]=(0,n.Lk)("span",{class:"label"},"标题：",-1)),(0,n.Lk)("span",d,(0,t.v_)(b.message.title),1)]),(0,n.Lk)("div",k,[s[1]||(s[1]=(0,n.Lk)("span",{class:"label"},"发送时间：",-1)),(0,n.Lk)("span",o,(0,t.v_)(b.formatTime(b.message.createTime)),1)]),(0,n.Lk)("div",u,[s[2]||(s[2]=(0,n.Lk)("span",{class:"label"},"发送方式：",-1)),(0,n.Lk)("span",v,(0,t.v_)(b.message.isSystem?"系统自动":"人工发送"),1)]),(0,n.Lk)("div",p,[s[3]||(s[3]=(0,n.Lk)("span",{class:"label"},"接收对象：",-1)),(0,n.Lk)("span",g,(0,t.v_)(b.formatReceivers(b.message.receivers)),1)]),(0,n.Lk)("div",L,[s[4]||(s[4]=(0,n.Lk)("span",{class:"label"},"状态：",-1)),(0,n.Lk)("span",{class:(0,t.C4)(["value",{unread:!b.message.read}])},(0,t.v_)(b.message.read?"已读":"未读"),3)])]),(0,n.Lk)("div",{class:"message-content",innerHTML:b.message.content},null,8,f),(0,n.Lk)("div",y,[b.message.read?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(T,{key:0,type:"primary",onClick:b.markAsRead},{default:(0,n.k6)((()=>s[5]||(s[5]=[(0,n.eW)("标记已读")]))),_:1},8,["onClick"])),(0,n.bF)(T,{type:"danger",onClick:b.deleteMessage},{default:(0,n.k6)((()=>s[6]||(s[6]=[(0,n.eW)("删除")]))),_:1},8,["onClick"]),(0,n.bF)(T,{onClick:b.goBack},{default:(0,n.k6)((()=>s[7]||(s[7]=[(0,n.eW)("返回")]))),_:1},8,["onClick"])])])),_:1})])}var _=a(953),C=a(5220),T=a(163),h=a(7918),M=a(6340);const w={name:"MessageDetail",setup(){const e=(0,C.lq)(),s=(0,C.rd)(),a=(0,_.KR)({id:0,type:"",number:"",title:"",content:"",createTime:new Date,read:!1,isSystem:!1,receivers:[]}),t=e=>{const s={command:"指令工单",exception:"异常工单","value-added":"增值服务",announcement:"系统公告",admin:"管理员信息"};return s[e]||"未知类型"},l=e=>e.includes("all")?"全体用户":e.length+"个用户",c=e=>{const s={id:e,type:"command",number:"CMD20240315001",title:"新的指令工单",content:"<p>您有一个新的指令工单需要处理</p><p>工单号：CMD20240315001</p><p>请及时处理</p>",createTime:new Date,read:!1,isSystem:!0,receivers:["all"]};a.value=s},i=()=>{a.value.read=!0,T.nk.success("已标记为已读")},r=()=>{h.s.confirm("确定要删除这条消息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{T.nk.success("删除成功"),m()}))},m=()=>{s.back()};return(0,n.sV)((()=>{const s=e.query.id;s&&c(s)})),{message:a,formatTime:M.f,getTypeText:t,formatReceivers:l,markAsRead:i,deleteMessage:r,goBack:m}}};var x=a(6262);const D=(0,x.A)(w,[["render",b],["__scopeId","data-v-64a238b6"]]),R=D}}]);
//# sourceMappingURL=9825.8ec72926.js.map