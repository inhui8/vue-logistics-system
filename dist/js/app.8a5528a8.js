(()=>{"use strict";var e={1178:e=>{e.exports=JSON.parse('[{"prop":"trainNumber","label":"车次号","width":140,"sortable":true,"filterType":"text"},{"prop":"issueDate","label":"出单日期","width":120,"sortable":true,"filterType":"date"},{"prop":"issuer","label":"出单人","width":100,"sortable":true,"filterType":"text"},{"prop":"loadingType","label":"装车类型","width":120,"sortable":true,"filterType":"select","filterOptions":[{"label":"卡板","value":"卡板"},{"label":"地板","value":"地板"},{"label":"混装","value":"混装"},{"label":"快递","value":"快递"}]},{"prop":"deliveryType","label":"派送类型","width":120,"sortable":true,"filterType":"select","filterOptions":[{"label":"整车","value":"整车"},{"label":"散板","value":"散板"},{"label":"一提多卸","value":"一提多卸"},{"label":"多提一卸","value":"多提一卸"},{"label":"多提多卸","value":"多提多卸"},{"label":"快递","value":"快递"}]},{"prop":"deliveryArea","label":"派送区域","width":120,"sortable":true,"filterType":"select","filterOptions":[{"label":"Local","value":"Local"},{"label":"中长途","value":"中长途"},{"label":"长途","value":"长途"}]},{"prop":"driverRegisterTime","label":"司机登记时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"loadingStartTime","label":"装车开始时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"loadingEndTime","label":"装车结束时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"carNumber","label":"车厢号","width":100,"sortable":true,"filterType":"text"},{"prop":"loader","label":"装车人","width":100,"sortable":true,"filterType":"text"},{"prop":"dockNumber","label":"DOCK号","width":120,"sortable":true,"filterType":"text"},{"prop":"loadingStatus","label":"装车状态","width":120,"sortable":true,"filterType":"select","type":"status","options":[{"value":"未装车","type":"info"},{"value":"已登记","type":"warning"},{"value":"装车中","type":"warning"},{"value":"装车完成","type":"success"},{"value":"交仓中","type":"warning"},{"value":"交仓完成","type":"success"},{"value":"POD回传","type":"success"}],"filterOptions":[{"label":"未装车","value":"未装车"},{"label":"已登记","value":"已登记"},{"label":"装车中","value":"装车中"},{"label":"装车完成","value":"装车完成"},{"label":"交仓中","value":"交仓中"},{"label":"交仓完成","value":"交仓完成"},{"label":"POD回传","value":"POD回传"}]},{"prop":"warehouseRemarks","label":"调度备注","width":150,"sortable":false,"filterType":"text"},{"prop":"driverLicense","label":"司机驾照","width":120,"sortable":true,"filterType":"text"},{"prop":"driverName","label":"司机名字","width":120,"sortable":true,"filterType":"text"},{"prop":"licensePlate","label":"司机车牌号","width":120,"sortable":true,"filterType":"text"},{"prop":"driverPhone","label":"司机电话","width":120,"sortable":true,"filterType":"text"},{"prop":"OPName","label":"出单人","width":120,"sortable":true,"filterType":"text"},{"prop":"supplier","label":"提货供应商","width":150,"sortable":true,"filterType":"text"},{"prop":"actualPallets","label":"实际出库板数","width":140,"sortable":true,"filterType":"number"},{"prop":"palletsMerged","label":"合板数量","width":120,"sortable":true,"filterType":"number"},{"prop":"loadingAppointmentTime","label":"装车预约时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"weight","label":"重量","width":100,"sortable":true,"filterType":"number"},{"prop":"cubicMeter","label":"方数","width":100,"sortable":true,"filterType":"number"},{"prop":"totalPallets","label":"总板数","width":100,"sortable":true,"filterType":"number"},{"prop":"deliveryCost","label":"派送成本","width":120,"sortable":true,"filterType":"number"},{"prop":"Memo","label":"Memo","width":120,"sortable":true,"filterType":"text"},{"prop":"Followup","label":"跟进记录","width":120,"sortable":true,"filterType":"text"},{"prop":"DriverStartTime","label":"司机出发时间","width":120,"sortable":true,"filterType":"datetime"},{"prop":"operation","label":"操作","width":150,"fixed":"right","sortable":false,"type":"operation"}]')},2068:(e,l,a)=>{var t=a(3751),i=a(641),o=a(33);const n={id:"app"},r={class:"header"},s={class:"logo-container"},d={class:"header-right"},u={class:"main-container"},c={class:"custom-menu"},m={class:"submenu"},p={class:"submenu"},g={class:"submenu"},v={class:"submenu"},b={class:"submenu"},h={class:"submenu submenu-level-2"},k={class:"submenu submenu-level-2"},f={class:"submenu submenu-level-2"},y={class:"submenu"},C={class:"submenu"},w={class:"submenu"},F={class:"submenu"},T={class:"submenu"},V={class:"main-content"},L={class:"breadcrumb"},S={class:"content-wrapper"};function _(e,l,a,_,D,M){const A=(0,i.g2)("MessageNotification"),E=(0,i.g2)("el-dropdown-item"),W=(0,i.g2)("el-dropdown-menu"),x=(0,i.g2)("el-dropdown"),N=(0,i.g2)("el-breadcrumb-item"),P=(0,i.g2)("el-breadcrumb"),O=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",r,[(0,i.Lk)("div",s,[(0,i.Q3)("",!0),l[50]||(l[50]=(0,i.Lk)("h1",{class:"logo-text"},"物流管理系统",-1))]),(0,i.Lk)("div",d,[(0,i.bF)(A),(0,i.bF)(x,{trigger:"click"},{dropdown:(0,i.k6)((()=>[(0,i.bF)(W,null,{default:(0,i.k6)((()=>[(0,i.bF)(E,{icon:"el-icon-user"},{default:(0,i.k6)((()=>l[51]||(l[51]=[(0,i.eW)("个人中心")]))),_:1}),(0,i.bF)(E,{icon:"el-icon-setting"},{default:(0,i.k6)((()=>l[52]||(l[52]=[(0,i.eW)("系统设置")]))),_:1}),(0,i.bF)(E,{divided:"",icon:"el-icon-switch-button"},{default:(0,i.k6)((()=>l[53]||(l[53]=[(0,i.eW)("退出登录")]))),_:1})])),_:1})])),default:(0,i.k6)((()=>[l[54]||(l[54]=(0,i.Lk)("span",{class:"user-info"},[(0,i.Lk)("img",{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"user-avatar"}),(0,i.Lk)("span",{class:"username"},"管理员"),(0,i.Lk)("i",{class:"el-icon-arrow-down"})],-1))])),_:1})])]),(0,i.Lk)("div",u,[(0,i.Lk)("div",{class:(0,o.C4)(["sidebar",{collapsed:D.isCollapsed}])},[(0,i.Lk)("div",c,[(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:"/"===D.activeMenu}]),onClick:l[0]||(l[0]=e=>M.navigateTo("/"))},l[55]||(l[55]=[(0,i.Lk)("i",{class:"el-icon-s-home menu-icon"},null,-1),(0,i.Lk)("span",{class:"menu-title"},"首页",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/overseas")||D.activeMenu.startsWith("/fbx")||D.activeMenu.startsWith("/dockyard")}]),onClick:l[1]||(l[1]=e=>M.toggleSubmenu("overseas"))},[l[56]||(l[56]=(0,i.Lk)("i",{class:"el-icon-ship menu-icon"},null,-1)),l[57]||(l[57]=(0,i.Lk)("span",{class:"menu-title"},"海外操作",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("overseas")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",m,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[2]||(l[2]=e=>M.navigateTo("/dockyard"))},l[58]||(l[58]=[(0,i.Lk)("span",{class:"submenu-title"},"码头停车图",-1)]))],512),[[t.aG,D.expandedMenus.includes("overseas")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item highlight",{active:D.activeMenu.startsWith("/lastmile")||D.activeMenu.startsWith("/tms")||D.activeMenu.startsWith("/appointment")}]),onClick:l[3]||(l[3]=e=>M.toggleSubmenu("lastmile"))},[l[59]||(l[59]=(0,i.Lk)("i",{class:"el-icon-office-building menu-icon"},null,-1)),l[60]||(l[60]=(0,i.Lk)("span",{class:"menu-title"},"尾程仓管",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("lastmile")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",p,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[4]||(l[4]=e=>M.navigateTo("/newfbx"))},l[61]||(l[61]=[(0,i.Lk)("span",{class:"submenu-title"},"FBX管理",-1)])),(0,i.Lk)("div",{class:"submenu-item",onClick:l[5]||(l[5]=e=>M.navigateTo("/lastmile/appointment"))},l[62]||(l[62]=[(0,i.Lk)("span",{class:"submenu-title"},"货量统筹",-1)]))],512),[[t.aG,D.expandedMenus.includes("lastmile")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/inventory")||D.activeMenu.startsWith("/dispatch")}]),onClick:l[6]||(l[6]=e=>M.toggleSubmenu("inventory"))},[l[63]||(l[63]=(0,i.Lk)("i",{class:"el-icon-box menu-icon"},null,-1)),l[64]||(l[64]=(0,i.Lk)("span",{class:"menu-title"},"调度管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("inventory")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",g,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[7]||(l[7]=e=>M.navigateTo("/dispatch/outgoing-batch"))},l[65]||(l[65]=[(0,i.Lk)("span",{class:"submenu-title"},"出库批次",-1)])),(0,i.Lk)("div",{class:"submenu-item",onClick:l[8]||(l[8]=e=>M.navigateTo("/dispatch/delivery-trains"))},l[66]||(l[66]=[(0,i.Lk)("span",{class:"submenu-title"},"派送车次",-1)]))],512),[[t.aG,D.expandedMenus.includes("inventory")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/supplier/appointment-management")}]),onClick:l[9]||(l[9]=e=>M.toggleSubmenu("supplier-appointment"))},[l[67]||(l[67]=(0,i.Lk)("i",{class:"el-icon-date menu-icon"},null,-1)),l[68]||(l[68]=(0,i.Lk)("span",{class:"menu-title"},"卡派预约管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("supplier-appointment")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",v,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[10]||(l[10]=e=>M.navigateTo("/supplier/appointment-management"))},l[69]||(l[69]=[(0,i.Lk)("span",{class:"submenu-title"},"预约管理",-1)])),(0,i.Lk)("div",{class:"submenu-item",onClick:l[11]||(l[11]=e=>M.navigateTo("/admin/quote-management/amazon-warehouse"))},l[70]||(l[70]=[(0,i.Lk)("span",{class:"submenu-title"},"平台地址管理",-1)]))],512),[[t.aG,D.expandedMenus.includes("supplier-appointment")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/supplier")}]),onClick:l[12]||(l[12]=e=>M.toggleSubmenu("supplier"))},[l[71]||(l[71]=(0,i.Lk)("i",{class:"el-icon-s-shop menu-icon"},null,-1)),l[72]||(l[72]=(0,i.Lk)("span",{class:"menu-title"},"供应商门户",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("supplier")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",b,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[13]||(l[13]=e=>M.toggleSubmenu("supplier-order"))},[l[73]||(l[73]=(0,i.Lk)("span",{class:"submenu-title"},"订单管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-right",{"is-open":D.expandedMenus.includes("supplier-order")}])},null,2)]),(0,i.bo)((0,i.Lk)("div",h,[(0,i.Lk)("div",{class:"submenu-item",onClick:l[14]||(l[14]=e=>M.navigateTo("/supplier/order/seas-order"))},l[74]||(l[74]=[(0,i.Lk)("span",{class:"submenu-title"},"海柜订单",-1)])),(0,i.Lk)("div",{class:"submenu-item",onClick:l[15]||(l[15]=e=>M.navigateTo("/supplier/order/delivery-order"))},l[75]||(l[75]=[(0,i.Lk)("span",{class:"submenu-title"},"派送订单",-1)]))],512),[[t.aG,D.expandedMenus.includes("supplier-order")]]),(0,i.Lk)("div",{class:"submenu-item",onClick:l[16]||(l[16]=e=>M.toggleSubmenu("supplier-quote"))},[l[76]||(l[76]=(0,i.Lk)("span",{class:"submenu-title"},"报价管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-right",{"is-open":D.expandedMenus.includes("supplier-quote")}])},null,2)]),(0,i.bo)((0,i.Lk)("div",k,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/quote-management/fixed-quote"===D.activeMenu}]),onClick:l[17]||(l[17]=e=>M.navigateTo("/admin/quote-management/fixed-quote"))},l[77]||(l[77]=[(0,i.Lk)("span",{class:"submenu-title"},"固定报价",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/quote-management/inquiry"===D.activeMenu}]),onClick:l[18]||(l[18]=e=>M.navigateTo("/admin/quote-management/inquiry"))},l[78]||(l[78]=[(0,i.Lk)("span",{class:"submenu-title"},"单次询价",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/quote-management/bidding"===D.activeMenu}]),onClick:l[19]||(l[19]=e=>M.navigateTo("/admin/quote-management/bidding"))},l[79]||(l[79]=[(0,i.Lk)("span",{class:"submenu-title"},"竞价管理",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/quote-management/comparison-history"===D.activeMenu}]),onClick:l[20]||(l[20]=e=>M.navigateTo("/admin/quote-management/comparison-history"))},l[80]||(l[80]=[(0,i.Lk)("span",{class:"submenu-title"},"对比与历史",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("supplier-quote")]]),(0,i.Lk)("div",{class:"submenu-item",onClick:l[21]||(l[21]=e=>M.toggleSubmenu("supplier-rating"))},[l[81]||(l[81]=(0,i.Lk)("span",{class:"submenu-title"},"评分管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-right",{"is-open":D.expandedMenus.includes("supplier-rating")}])},null,2)]),(0,i.bo)((0,i.Lk)("div",f,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/rating-management/dashboard"===D.activeMenu}]),onClick:l[22]||(l[22]=e=>M.navigateTo("/admin/rating-management/dashboard"))},l[82]||(l[82]=[(0,i.Lk)("span",{class:"submenu-title"},"评分看板",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/rating-management/indicator-config"===D.activeMenu}]),onClick:l[23]||(l[23]=e=>M.navigateTo("/admin/rating-management/indicator-config"))},l[83]||(l[83]=[(0,i.Lk)("span",{class:"submenu-title"},"指标配置",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/rating-management/rules-config"===D.activeMenu}]),onClick:l[24]||(l[24]=e=>M.navigateTo("/admin/rating-management/rules-config"))},l[84]||(l[84]=[(0,i.Lk)("span",{class:"submenu-title"},"规则配置",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("supplier-rating")]])],512),[[t.aG,D.expandedMenus.includes("supplier")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/work-order")}]),onClick:l[25]||(l[25]=e=>M.toggleSubmenu("work-order"))},[l[85]||(l[85]=(0,i.Lk)("i",{class:"el-icon-document menu-icon"},null,-1)),l[86]||(l[86]=(0,i.Lk)("span",{class:"menu-title"},"工单管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("work-order")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",y,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/work-order/command"===D.activeMenu}]),onClick:l[26]||(l[26]=e=>M.navigateTo("/work-order/command"))},l[87]||(l[87]=[(0,i.Lk)("span",{class:"submenu-title"},"指令工单",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/work-order/exception"===D.activeMenu}]),onClick:l[27]||(l[27]=e=>M.navigateTo("/work-order/exception"))},l[88]||(l[88]=[(0,i.Lk)("span",{class:"submenu-title"},"异常工单",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/work-order/alert"===D.activeMenu}]),onClick:l[28]||(l[28]=e=>M.navigateTo("/work-order/alert"))},l[89]||(l[89]=[(0,i.Lk)("span",{class:"submenu-title"},"订单预警",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/work-order/value-added"===D.activeMenu}]),onClick:l[29]||(l[29]=e=>M.navigateTo("/work-order/value-added"))},l[90]||(l[90]=[(0,i.Lk)("span",{class:"submenu-title"},"增值服务",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/work-order/analysis"===D.activeMenu}]),onClick:l[30]||(l[30]=e=>M.navigateTo("/work-order/analysis"))},l[91]||(l[91]=[(0,i.Lk)("span",{class:"submenu-title"},"工单分析",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("work-order")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/messages")}]),onClick:l[31]||(l[31]=e=>M.toggleSubmenu("messages"))},[l[92]||(l[92]=(0,i.Lk)("i",{class:"el-icon-message menu-icon"},null,-1)),l[93]||(l[93]=(0,i.Lk)("span",{class:"menu-title"},"消息管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("messages")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",C,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/messages"===D.activeMenu}]),onClick:l[32]||(l[32]=e=>M.navigateTo("/messages"))},l[94]||(l[94]=[(0,i.Lk)("span",{class:"submenu-title"},"消息列表",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/messages/manage"===D.activeMenu}]),onClick:l[33]||(l[33]=e=>M.navigateTo("/messages/manage"))},l[95]||(l[95]=[(0,i.Lk)("span",{class:"submenu-title"},"消息管理",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("messages")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/admin")}]),onClick:l[34]||(l[34]=e=>M.toggleSubmenu("admin"))},[l[96]||(l[96]=(0,i.Lk)("i",{class:"el-icon-setting menu-icon"},null,-1)),l[97]||(l[97]=(0,i.Lk)("span",{class:"menu-title"},"后台管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("admin")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",w,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/supplier-management"===D.activeMenu}]),onClick:l[35]||(l[35]=e=>M.navigateTo("/admin/supplier-management"))},l[98]||(l[98]=[(0,i.Lk)("span",{class:"submenu-title"},"供应商管理",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/role-management"===D.activeMenu}]),onClick:l[36]||(l[36]=e=>M.navigateTo("/admin/role-management"))},l[99]||(l[99]=[(0,i.Lk)("span",{class:"submenu-title"},"角色管理",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/operation-log"===D.activeMenu}]),onClick:l[37]||(l[37]=e=>M.navigateTo("/admin/operation-log"))},l[100]||(l[100]=[(0,i.Lk)("span",{class:"submenu-title"},"操作日志",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/vehicle-management"===D.activeMenu}]),onClick:l[38]||(l[38]=e=>M.navigateTo("/admin/vehicle-management"))},l[101]||(l[101]=[(0,i.Lk)("span",{class:"submenu-title"},"车辆档案",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/driver-management"===D.activeMenu}]),onClick:l[39]||(l[39]=e=>M.navigateTo("/admin/driver-management"))},l[102]||(l[102]=[(0,i.Lk)("span",{class:"submenu-title"},"驾驶员管理",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/gps-tracking"===D.activeMenu}]),onClick:l[40]||(l[40]=e=>M.navigateTo("/admin/gps-tracking"))},l[103]||(l[103]=[(0,i.Lk)("span",{class:"submenu-title"},"GPS 实时监控",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/alert-management"===D.activeMenu}]),onClick:l[41]||(l[41]=e=>M.navigateTo("/admin/alert-management"))},l[104]||(l[104]=[(0,i.Lk)("span",{class:"submenu-title"},"异常预警",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/table-demo"===D.activeMenu}]),onClick:l[42]||(l[42]=e=>M.navigateTo("/table-demo"))},l[105]||(l[105]=[(0,i.Lk)("span",{class:"submenu-title"},"表格示例",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/admin/contract-management")}]),onClick:l[43]||(l[43]=e=>M.toggleSubmenu("admin-contract"))},[l[106]||(l[106]=(0,i.Lk)("i",{class:"el-icon-document menu-icon"},null,-1)),l[107]||(l[107]=(0,i.Lk)("span",{class:"menu-title"},"合同管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("admin-contract")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",F,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/contract-management/list"===D.activeMenu}]),onClick:l[44]||(l[44]=e=>M.navigateTo("/admin/contract-management/list"))},l[108]||(l[108]=[(0,i.Lk)("span",{class:"submenu-title"},"合同列表",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/contract-management/templates"===D.activeMenu}]),onClick:l[45]||(l[45]=e=>M.navigateTo("/admin/contract-management/templates"))},l[109]||(l[109]=[(0,i.Lk)("span",{class:"submenu-title"},"合同模板",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("admin-contract")]]),(0,i.Lk)("div",{class:(0,o.C4)(["menu-item",{active:D.activeMenu.startsWith("/admin/tag-management")}]),onClick:l[46]||(l[46]=e=>M.toggleSubmenu("admin-tag"))},[l[110]||(l[110]=(0,i.Lk)("i",{class:"el-icon-price-tag menu-icon"},null,-1)),l[111]||(l[111]=(0,i.Lk)("span",{class:"menu-title"},"标签管理",-1)),(0,i.Lk)("i",{class:(0,o.C4)(["menu-arrow el-icon-arrow-down",{"is-open":D.expandedMenus.includes("admin-tag")}])},null,2)],2),(0,i.bo)((0,i.Lk)("div",T,[(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/tags"===D.activeMenu}]),onClick:l[47]||(l[47]=e=>M.navigateTo("/admin/tags"))},l[112]||(l[112]=[(0,i.Lk)("span",{class:"submenu-title"},"标签管理",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/tag-groups"===D.activeMenu}]),onClick:l[48]||(l[48]=e=>M.navigateTo("/admin/tag-groups"))},l[113]||(l[113]=[(0,i.Lk)("span",{class:"submenu-title"},"标签分组",-1)]),2),(0,i.Lk)("div",{class:(0,o.C4)(["submenu-item",{active:"/admin/tag-management-new/list"===D.activeMenu}]),onClick:l[49]||(l[49]=e=>M.navigateTo("/admin/tag-management-new/list"))},l[114]||(l[114]=[(0,i.Lk)("span",{class:"submenu-title"},"标签管理新",-1)]),2)],512),[[t.aG,D.expandedMenus.includes("admin-tag")]])],512),[[t.aG,D.expandedMenus.includes("admin")]])])],2),(0,i.Lk)("div",V,[(0,i.Lk)("div",L,[(0,i.bF)(P,{separator:"/"},{default:(0,i.k6)((()=>[(0,i.bF)(N,{to:{path:"/"}},{default:(0,i.k6)((()=>l[115]||(l[115]=[(0,i.eW)("首页")]))),_:1}),e.$route.meta&&e.$route.meta.parentTitle?((0,i.uX)(),(0,i.Wv)(N,{key:0},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.$route.meta.parentTitle),1)])),_:1})):(0,i.Q3)("",!0),e.$route.meta&&e.$route.meta.title?((0,i.uX)(),(0,i.Wv)(N,{key:1},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.$route.meta.title),1)])),_:1})):(0,i.Q3)("",!0)])),_:1})]),(0,i.Lk)("div",S,[(0,i.bF)(O)])])])])}const D={class:"message-notification"},M={class:"message-list"},A={class:"message-header"},E={class:"message-number"},W={class:"message-time"},x=["onClick"],N={class:"message-title"},P={class:"message-summary"},O={class:"message-order-status"},R={class:"message-footer"},K={class:"message-source"},U={class:"message-header"},I={class:"message-number"},X={class:"message-time"},z=["onClick"],B={class:"message-title"},G={class:"message-summary"},$={class:"message-order-status"},q={class:"message-footer"},j={class:"message-source"},J={class:"message-header"},Q={class:"message-number"},Y={class:"message-time"},H=["onClick"],Z={class:"message-title"},ee={class:"message-summary"},le={class:"message-footer"},ae={class:"message-source"},te={class:"message-header"},ie={class:"message-number"},oe={class:"message-time"},ne=["onClick"],re={class:"message-title"},se={class:"message-summary"},de={class:"message-footer"},ue={class:"message-source"},ce={class:"message-header"},me={class:"message-number"},pe={class:"message-time"},ge=["onClick"],ve={class:"message-title"},be={class:"message-summary"},he={class:"message-footer"},ke={class:"message-source"},fe={class:"message-header"},ye={class:"message-number"},Ce={class:"message-time"},we=["onClick"],Fe={class:"message-title"},Te={class:"message-summary"},Ve={class:"message-footer"},Le={class:"message-source"};function Se(e,l,a,t,n,r){const s=(0,i.g2)("Bell"),d=(0,i.g2)("el-icon"),u=(0,i.g2)("el-button"),c=(0,i.g2)("el-badge"),m=(0,i.g2)("el-tag"),p=(0,i.g2)("el-tab-pane"),g=(0,i.g2)("el-tabs"),v=(0,i.g2)("el-drawer");return(0,i.uX)(),(0,i.CE)("div",D,[(0,i.bF)(c,{value:t.unreadCount,max:99,class:"badge"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{type:"text",onClick:t.toggleMessageList},{default:(0,i.k6)((()=>[(0,i.bF)(d,null,{default:(0,i.k6)((()=>[(0,i.bF)(s)])),_:1})])),_:1},8,["onClick"])])),_:1},8,["value"]),(0,i.bF)(v,{title:"消息通知",modelValue:t.drawerVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>t.drawerVisible=e),direction:"rtl",size:"50%","before-close":t.handleClose},{default:(0,i.k6)((()=>[(0,i.Lk)("div",M,[(0,i.bF)(g,{modelValue:t.activeTab,"onUpdate:modelValue":l[0]||(l[0]=e=>t.activeTab=e)},{default:(0,i.k6)((()=>[(0,i.bF)(p,{label:"全部",name:"all"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.messages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",A,[(0,i.Lk)("span",{class:(0,o.C4)(["message-type",e.type])},(0,o.v_)(t.getTypeText(e.type)),3),(0,i.Lk)("span",E,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",W,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",N,(0,o.v_)(e.title),1),(0,i.Lk)("p",P,(0,o.v_)(e.summary),1),(0,i.Lk)("div",O,[(0,i.bF)(m,{size:"small",type:t.getOrderStatusType(e.orderStatus)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(t.getOrderStatusText(e.orderStatus)),1)])),_:2},1032,["type"])])],8,x),(0,i.Lk)("div",R,[(0,i.Lk)("span",K,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1}),(0,i.bF)(p,{label:"指令工单",name:"command"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.commandMessages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",U,[l[2]||(l[2]=(0,i.Lk)("span",{class:"message-type command"},"指令工单",-1)),(0,i.Lk)("span",I,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",X,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",B,(0,o.v_)(e.title),1),(0,i.Lk)("p",G,(0,o.v_)(e.summary),1),(0,i.Lk)("div",$,[(0,i.bF)(m,{size:"small",type:t.getOrderStatusType(e.orderStatus)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(t.getOrderStatusText(e.orderStatus)),1)])),_:2},1032,["type"])])],8,z),(0,i.Lk)("div",q,[(0,i.Lk)("span",j,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1}),(0,i.bF)(p,{label:"异常工单",name:"exception"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.exceptionMessages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",J,[l[3]||(l[3]=(0,i.Lk)("span",{class:"message-type exception"},"异常工单",-1)),(0,i.Lk)("span",Q,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",Y,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",Z,(0,o.v_)(e.title),1),(0,i.Lk)("p",ee,(0,o.v_)(e.summary),1)],8,H),(0,i.Lk)("div",le,[(0,i.Lk)("span",ae,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1}),(0,i.bF)(p,{label:"增值服务",name:"value-added"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.valueAddedMessages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",te,[l[4]||(l[4]=(0,i.Lk)("span",{class:"message-type value-added"},"增值服务",-1)),(0,i.Lk)("span",ie,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",oe,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",re,(0,o.v_)(e.title),1),(0,i.Lk)("p",se,(0,o.v_)(e.summary),1)],8,ne),(0,i.Lk)("div",de,[(0,i.Lk)("span",ue,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1}),(0,i.bF)(p,{label:"系统公告",name:"announcement"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.announcementMessages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",ce,[l[5]||(l[5]=(0,i.Lk)("span",{class:"message-type announcement"},"系统公告",-1)),(0,i.Lk)("span",me,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",pe,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",ve,(0,o.v_)(e.title),1),(0,i.Lk)("p",be,(0,o.v_)(e.summary),1)],8,ge),(0,i.Lk)("div",he,[(0,i.Lk)("span",ke,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1}),(0,i.bF)(p,{label:"管理员信息",name:"admin"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.adminMessages,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,o.C4)(["message-item",{unread:!e.read}])},[(0,i.Lk)("div",fe,[l[6]||(l[6]=(0,i.Lk)("span",{class:"message-type admin"},"管理员信息",-1)),(0,i.Lk)("span",ye,"单号："+(0,o.v_)(e.number),1),(0,i.Lk)("span",Ce,(0,o.v_)(t.formatTime(e.createTime)),1)]),(0,i.Lk)("div",{class:"message-content",onClick:l=>t.handleMessageClick(e)},[(0,i.Lk)("h4",Fe,(0,o.v_)(e.title),1),(0,i.Lk)("p",Te,(0,o.v_)(e.summary),1)],8,we),(0,i.Lk)("div",Ve,[(0,i.Lk)("span",Le,(0,o.v_)(e.isSystem?"系统自动":"人工发送"),1),(0,i.Lk)("span",{class:(0,o.C4)(["message-status",{unread:!e.read}])},(0,o.v_)(e.read?"已读":"未读"),3)])],2)))),128))])),_:1})])),_:1},8,["modelValue"])])])),_:1},8,["modelValue","before-close"])])}var _e=a(953),De=a(5220),Me=a(8548),Ae=a(6340),Ee=a(3366);const We={name:"MessageNotification",components:{Bell:Me.IrQ},setup(){const e=(0,De.rd)(),l=(0,_e.KR)(!1),a=(0,_e.KR)("all"),t=(0,_e.KR)([{id:1,type:"command",number:"CMD20240315001",title:"新的指令工单",summary:"您有一个新的指令工单需要处理",createTime:new Date,read:!1,isSystem:!0,orderStatus:"pending"},{id:2,type:"exception",number:"EXP20240315001",title:"异常工单提醒",summary:"发现异常情况，请及时处理",createTime:new Date(Date.now()-18e5),read:!1,isSystem:!0,orderStatus:"processing"},{id:3,type:"value-added",number:"VAS20240315001",title:"增值服务通知",summary:"您申请的增值服务已受理",createTime:new Date(Date.now()-36e5),read:!0,isSystem:!1,orderStatus:"completed"},{id:4,type:"announcement",number:"ANN20240315001",title:"系统维护通知",summary:"系统将于今晚进行例行维护",createTime:new Date(Date.now()-72e5),read:!0,isSystem:!0,orderStatus:"scheduled"},{id:5,type:"admin",number:"ADM20240315001",title:"管理员通知",summary:"请及时更新您的个人信息",createTime:new Date(Date.now()-864e5),read:!0,isSystem:!1,orderStatus:"resolved"}]),o=(0,i.EW)((()=>t.value.filter((e=>!e.read)).length)),n=(0,i.EW)((()=>t.value.filter((e=>"command"===e.type)))),r=(0,i.EW)((()=>t.value.filter((e=>"exception"===e.type)))),s=(0,i.EW)((()=>t.value.filter((e=>"value-added"===e.type)))),d=(0,i.EW)((()=>t.value.filter((e=>"announcement"===e.type)))),u=(0,i.EW)((()=>t.value.filter((e=>"admin"===e.type)))),c=e=>{const l={command:"指令工单",exception:"异常工单","value-added":"增值服务",announcement:"系统公告",admin:"管理员信息"};return l[e]||"未知类型"},m=e=>{const l={pending:"待开始",processing:"处理中",scheduled:"已安排",completed:"已完成",resolved:"已解决",cancelled:"已取消"};return l[e]||"未知状态"},p=e=>{const l={pending:"info",processing:"warning",scheduled:"primary",completed:"success",resolved:"success",cancelled:"danger"};return l[e]||"info"},g=(0,Ee.A)((()=>{l.value=!l.value}),200),v=(0,Ee.A)((e=>{e()}),200),b=(0,Ee.A)((l=>{l.read=!0,e.push({path:"/messages/detail",query:{id:l.id}})}),200);return{drawerVisible:l,activeTab:a,messages:t,unreadCount:o,commandMessages:n,exceptionMessages:r,valueAddedMessages:s,announcementMessages:d,adminMessages:u,formatTime:Ae.f,getTypeText:c,getOrderStatusText:m,getOrderStatusType:p,toggleMessageList:g,handleClose:v,handleMessageClick:b}}};var xe=a(6262);const Ne=(0,xe.A)(We,[["render",Se],["__scopeId","data-v-76c7ce19"]]),Pe=Ne,Oe={name:"App",components:{MessageNotification:Pe},data(){return{isCollapsed:!1,activeMenu:"/",expandedMenus:["lastmile","inventory","overseas","supplier","supplier-order","supplier-quote","supplier-rating","admin","admin-contract","supplier-appointment","work-order","admin-tag","admin-tag-system"]}},methods:{toggleCollapse(){this.isCollapsed=!this.isCollapsed},toggleSubmenu(e){const l=this.expandedMenus.indexOf(e);-1===l?this.expandedMenus.push(e):this.expandedMenus.splice(l,1)},navigateTo(e){this.activeMenu=e,this.$router.push(e)}},created(){this.activeMenu=this.$route.path}},Re=(0,xe.A)(Oe,[["render",_]]),Ke=Re,Ue={class:"home-container"},Ie={class:"dashboard"},Xe={class:"card-footer"},ze={class:"card-footer"};function Be(e,l,a,t,o,n){const r=(0,i.g2)("router-link"),s=(0,i.g2)("el-card"),d=(0,i.g2)("el-col"),u=(0,i.g2)("el-row");return(0,i.uX)(),(0,i.CE)("div",Ue,[l[7]||(l[7]=(0,i.Lk)("h1",null,"联宇物流系统",-1)),(0,i.Lk)("div",Ie,[(0,i.bF)(u,{gutter:20},{default:(0,i.k6)((()=>[(0,i.bF)(d,{span:8},{default:(0,i.k6)((()=>[(0,i.bF)(s,{class:"dashboard-card"},{default:(0,i.k6)((()=>[l[1]||(l[1]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",null,"FBX预约管理")],-1)),l[2]||(l[2]=(0,i.Lk)("div",{class:"card-content"},[(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"今日预约"),(0,i.Lk)("div",{class:"stat-value"},"12")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"待处理"),(0,i.Lk)("div",{class:"stat-value"},"35")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"已完成"),(0,i.Lk)("div",{class:"stat-value"},"128")])],-1)),(0,i.Lk)("div",Xe,[(0,i.bF)(r,{to:"/fbx",class:"view-more"},{default:(0,i.k6)((()=>l[0]||(l[0]=[(0,i.eW)("查看更多")]))),_:1})])])),_:1})])),_:1}),(0,i.bF)(d,{span:8},{default:(0,i.k6)((()=>[(0,i.bF)(s,{class:"dashboard-card"},{default:(0,i.k6)((()=>[l[4]||(l[4]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",null,"海柜停车图")],-1)),l[5]||(l[5]=(0,i.Lk)("div",{class:"card-content"},[(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"当前停靠"),(0,i.Lk)("div",{class:"stat-value"},"8")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"今日到达"),(0,i.Lk)("div",{class:"stat-value"},"3")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"明日预计"),(0,i.Lk)("div",{class:"stat-value"},"5")])],-1)),(0,i.Lk)("div",ze,[(0,i.bF)(r,{to:"/ockyard",class:"view-more"},{default:(0,i.k6)((()=>l[3]||(l[3]=[(0,i.eW)("查看更多")]))),_:1})])])),_:1})])),_:1}),(0,i.bF)(d,{span:8},{default:(0,i.k6)((()=>[(0,i.bF)(s,{class:"dashboard-card"},{default:(0,i.k6)((()=>l[6]||(l[6]=[(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",null,"系统概览")],-1),(0,i.Lk)("div",{class:"card-content"},[(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"用户数"),(0,i.Lk)("div",{class:"stat-value"},"24")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"今日操作"),(0,i.Lk)("div",{class:"stat-value"},"156")]),(0,i.Lk)("div",{class:"stat-item"},[(0,i.Lk)("div",{class:"stat-label"},"系统消息"),(0,i.Lk)("div",{class:"stat-value"},"3")])],-1),(0,i.Lk)("div",{class:"card-footer"},[(0,i.Lk)("a",{href:"#",class:"view-more"},"查看更多")],-1)]))),_:1})])),_:1})])),_:1})])])}const Ge={name:"HomeView"},$e=(0,xe.A)(Ge,[["render",Be],["__scopeId","data-v-065e645d"]]),qe=$e,je={class:"appointment-management"},Je={class:"card-header"},Qe={class:"header-buttons"},Ye={class:"search-area"},He={class:"view-management"},Ze=["onDblclick"],el={key:1},ll=["onDblclick"],al={key:1},tl=["onDblclick"],il={key:1},ol=["onDblclick"],nl={key:1},rl=["onDblclick"],sl={key:1},dl=["onDblclick"],ul={key:1},cl=["onDblclick"],ml={key:1},pl=["onDblclick"],gl={key:1},vl=["onDblclick"],bl=["onDblclick"],hl={key:1},kl=["onDblclick"],fl={key:1},yl={class:"dialog-footer"},Cl={class:"view-options-menu"},wl={class:"group-settings"},Fl={class:"group-level"},Tl={class:"group-level"},Vl={class:"group-level"},Ll={class:"dialog-footer"},Sl={class:"sort-settings"},_l={class:"sort-actions"},Dl={class:"dialog-footer"},Ml={class:"column-settings"},Al={class:"column-settings-header"},El={class:"column-list"},Wl={class:"dialog-footer"};function xl(e,l,a,n,r,s){const d=(0,i.g2)("el-button"),u=(0,i.g2)("el-option"),c=(0,i.g2)("el-select"),m=(0,i.g2)("el-form-item"),p=(0,i.g2)("el-input"),g=(0,i.g2)("el-form"),v=(0,i.g2)("el-radio-button"),b=(0,i.g2)("el-radio-group"),h=(0,i.g2)("el-tag"),k=(0,i.g2)("el-table-column"),f=(0,i.g2)("el-date-picker"),y=(0,i.g2)("el-dropdown-item"),C=(0,i.g2)("el-dropdown-menu"),w=(0,i.g2)("el-dropdown"),F=(0,i.g2)("groupable-table"),T=(0,i.g2)("el-card"),V=(0,i.g2)("el-dialog"),L=(0,i.g2)("filter-panel"),S=(0,i.g2)("el-checkbox"),_=(0,i.g2)("el-checkbox-group"),D=(0,i.gN)("focus"),M=(0,i.gN)("loading");return(0,i.uX)(),(0,i.CE)("div",je,[(0,i.bF)(T,{class:"box-card"},{header:(0,i.k6)((()=>[(0,i.Lk)("div",Je,[l[54]||(l[54]=(0,i.Lk)("span",null,"预约管理",-1)),(0,i.Lk)("div",Qe,[(0,i.bF)(d,{type:"primary",size:"small",onClick:s.handleAdd},{default:(0,i.k6)((()=>l[52]||(l[52]=[(0,i.eW)("添加预约")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"info",size:"small",onClick:s.showLogs},{default:(0,i.k6)((()=>l[53]||(l[53]=[(0,i.eW)("操作日志")]))),_:1},8,["onClick"])])])])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Ye,[(0,i.bF)(g,{inline:!0,model:r.searchForm,class:"demo-form-inline"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{label:"平台"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:r.searchForm.platform,"onUpdate:modelValue":l[0]||(l[0]=e=>r.searchForm.platform=e),placeholder:"请选择平台",style:{width:"200px"}},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"全部",value:""}),(0,i.bF)(u,{label:"Amazon",value:"Amazon"}),(0,i.bF)(u,{label:"Walmart",value:"Walmart"}),(0,i.bF)(u,{label:"eBay",value:"eBay"}),(0,i.bF)(u,{label:"Shopify",value:"Shopify"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"仓库代码"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.searchForm.warehouseCode,"onUpdate:modelValue":l[1]||(l[1]=e=>r.searchForm.warehouseCode=e),placeholder:"请输入仓库代码"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(d,{type:"primary",onClick:s.handleSearch},{default:(0,i.k6)((()=>l[55]||(l[55]=[(0,i.eW)("查询")]))),_:1},8,["onClick"]),(0,i.bF)(d,{onClick:s.resetForm},{default:(0,i.k6)((()=>l[56]||(l[56]=[(0,i.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),(0,i.Lk)("div",He,[l[62]||(l[62]=(0,i.Lk)("span",{class:"view-label"},null,-1)),(0,i.bF)(b,{modelValue:r.currentView,"onUpdate:modelValue":l[2]||(l[2]=e=>r.currentView=e),size:"small",class:"status-view-group"},{default:(0,i.k6)((()=>[(0,i.bF)(v,{value:"all"},{default:(0,i.k6)((()=>[(0,i.eW)("全部("+(0,o.v_)(s.total)+")",1)])),_:1}),(0,i.bF)(v,{value:"unused"},{default:(0,i.k6)((()=>[(0,i.eW)("未使用("+(0,o.v_)(s.getStatusCount("unused"))+")",1)])),_:1}),(0,i.bF)(v,{value:"used"},{default:(0,i.k6)((()=>[(0,i.eW)("已使用("+(0,o.v_)(s.getStatusCount("used"))+")",1)])),_:1}),(0,i.bF)(v,{value:"amazon_deleted"},{default:(0,i.k6)((()=>[(0,i.eW)("亚马逊删约("+(0,o.v_)(s.getStatusCount("amazon_deleted"))+")",1)])),_:1}),(0,i.bF)(v,{value:"deleted"},{default:(0,i.k6)((()=>[(0,i.eW)("删约("+(0,o.v_)(s.getStatusCount("deleted"))+")",1)])),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.customViews,(e=>((0,i.uX)(),(0,i.Wv)(v,{key:e.id,label:e.id,onContextmenu:(0,t.D$)((l=>s.handleContextMenu(l,e)),["prevent"])},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.name),1)])),_:2},1032,["label","onContextmenu"])))),128))])),_:1},8,["modelValue"]),(0,i.bF)(d,{type:"text",size:"small",onClick:s.handleSaveView},{default:(0,i.k6)((()=>l[57]||(l[57]=[(0,i.eW)("新增视图")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"text",size:"small",onClick:s.showGroupModal},{default:(0,i.k6)((()=>l[58]||(l[58]=[(0,i.eW)("高级分组")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"text",size:"small",onClick:s.showSortModal},{default:(0,i.k6)((()=>l[59]||(l[59]=[(0,i.eW)("高级排序")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"text",size:"small",onClick:s.showFilterPanel},{default:(0,i.k6)((()=>l[60]||(l[60]=[(0,i.eW)("筛选")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"text",size:"small",onClick:s.showColumnSettings},{default:(0,i.k6)((()=>l[61]||(l[61]=[(0,i.eW)("字段配置")]))),_:1},8,["onClick"])]),(0,i.bo)(((0,i.uX)(),(0,i.Wv)(F,{ref:"mainTable",data:r.displayData,"row-key":"id","group-fields":r.groupField?[r.groupField]:[],"show-selection":!0,"show-group-column":!!r.groupField,"group-column-label":r.groupField?s.getGroupColumnLabel(r.groupField):"分组","default-expand-all":!1,"show-pagination":!0,"current-page":r.currentPage,"page-size":r.pageSize,"page-sizes":[10,20,50,100],total:s.total,onSelectionChange:s.handleSelectionChange,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,onCellClick:s.handleCellClick,onCellDblclick:s.handleCellDbClick,style:{width:"100%"}},{default:(0,i.k6)((()=>[(0,i.bF)(k,{prop:"platform",label:"平台",width:"100"},{default:(0,i.k6)((e=>[(0,i.bF)(h,{type:s.getPlatformType(e.row.platform)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.row.platform),1)])),_:2},1032,["type"])])),_:1}),(0,i.bF)(k,{prop:"warehouseCode",label:"仓库代码",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"warehouseCode")},[r.editingCell.rowId===e.row.id&&"warehouseCode"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"warehouseCode"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"warehouseCode")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",el,(0,o.v_)(e.row.warehouseCode),1))],40,Ze))])),_:1}),(0,i.bF)(k,{prop:"account",label:"预约账户",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"account")},[r.editingCell.rowId===e.row.id&&"account"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[4]||(l[4]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"account"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"account")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",al,(0,o.v_)(e.row.account),1))],40,ll))])),_:1}),(0,i.bF)(k,{prop:"appointmentId",label:"预约号",width:"150"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"appointmentId")},[r.editingCell.rowId===e.row.id&&"appointmentId"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[5]||(l[5]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"appointmentId"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"appointmentId")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",il,(0,o.v_)(e.row.appointmentId),1))],40,tl))])),_:1}),(0,i.bF)(k,{prop:"pcNumber",label:"PC号",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"pcNumber")},[r.editingCell.rowId===e.row.id&&"pcNumber"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"pcNumber"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"pcNumber")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",nl,(0,o.v_)(e.row.pcNumber),1))],40,ol))])),_:1}),(0,i.bF)(k,{prop:"crdd",label:"CRDD",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"crdd")},[r.editingCell.rowId===e.row.id&&"crdd"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(f,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[7]||(l[7]=e=>r.editingCell.value=e),type:"date",size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"crdd")},null,8,["modelValue","onBlur"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",sl,(0,o.v_)(e.row.crdd),1))],40,rl))])),_:1}),(0,i.bF)(k,{prop:"appointmentType",label:"预约类型",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"appointmentType")},[r.editingCell.rowId===e.row.id&&"appointmentType"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(c,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[8]||(l[8]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"appointmentType"),onChange:l=>s.handleCellEditConfirm(e.row,"appointmentType")},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"地板",value:"floor"}),(0,i.bF)(u,{label:"卡板",value:"pallet"})])),_:2},1032,["modelValue","onBlur","onChange"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",ul,(0,o.v_)("floor"===e.row.appointmentType?"地板":"卡板"),1))],40,dl))])),_:1}),(0,i.bF)(k,{prop:"appointmentTime",label:"预约时间",width:"160"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"appointmentTime")},[r.editingCell.rowId===e.row.id&&"appointmentTime"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(f,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[9]||(l[9]=e=>r.editingCell.value=e),type:"datetime",size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"appointmentTime")},null,8,["modelValue","onBlur"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",ml,(0,o.v_)(e.row.appointmentTime),1))],40,cl))])),_:1}),(0,i.bF)(k,{prop:"earliestAppointmentTime",label:"最早预约时间",width:"160"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"earliestAppointmentTime")},[r.editingCell.rowId===e.row.id&&"earliestAppointmentTime"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(f,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[10]||(l[10]=e=>r.editingCell.value=e),type:"datetime",size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"earliestAppointmentTime")},null,8,["modelValue","onBlur"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",gl,(0,o.v_)(e.row.earliestAppointmentTime),1))],40,pl))])),_:1}),(0,i.bF)(k,{prop:"status",label:"状态",width:"120"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"status")},[r.editingCell.rowId===e.row.id&&"status"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(c,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[11]||(l[11]=e=>r.editingCell.value=e),size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"status"),onChange:l=>s.handleCellEditConfirm(e.row,"status")},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"未使用",value:"unused"}),(0,i.bF)(u,{label:"已使用",value:"used"}),(0,i.bF)(u,{label:"亚马逊删约",value:"amazon_deleted"}),(0,i.bF)(u,{label:"删约",value:"deleted"})])),_:2},1032,["modelValue","onBlur","onChange"])),[[D]]):((0,i.uX)(),(0,i.Wv)(h,{key:1,type:s.getStatusType(e.row.status)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(s.getStatusText(e.row.status)),1)])),_:2},1032,["type"]))],40,vl))])),_:1}),(0,i.bF)(k,{prop:"followUpRecord",label:"跟进记录","min-width":"150"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"followUpRecord")},[r.editingCell.rowId===e.row.id&&"followUpRecord"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[12]||(l[12]=e=>r.editingCell.value=e),type:"textarea",size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"followUpRecord"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"followUpRecord")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",hl,(0,o.v_)(e.row.followUpRecord),1))],40,bl))])),_:1}),(0,i.bF)(k,{prop:"memo",label:"Memo","min-width":"150"},{default:(0,i.k6)((e=>[e.row.isGroup?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"editable-cell",onDblclick:l=>s.handleCellDbClick(e.row,"memo")},[r.editingCell.rowId===e.row.id&&"memo"===r.editingCell.prop?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(p,{key:0,modelValue:r.editingCell.value,"onUpdate:modelValue":l[13]||(l[13]=e=>r.editingCell.value=e),type:"textarea",size:"small",onBlur:l=>s.handleCellEditConfirm(e.row,"memo"),onKeyup:(0,t.jR)((l=>s.handleCellEditConfirm(e.row,"memo")),["enter"])},null,8,["modelValue","onBlur","onKeyup"])),[[D]]):((0,i.uX)(),(0,i.CE)("span",fl,(0,o.v_)(e.row.memo),1))],40,kl))])),_:1}),(0,i.bF)(k,{label:"操作",width:"180",fixed:"right"},{default:(0,i.k6)((e=>[(0,i.bF)(d,{size:"small",onClick:l=>s.handleDetail(e.row)},{default:(0,i.k6)((()=>l[63]||(l[63]=[(0,i.eW)("详情")]))),_:2},1032,["onClick"]),(0,i.bF)(w,{onCommand:s.handleCommand,style:{"margin-left":"10px"}},{dropdown:(0,i.k6)((()=>[(0,i.bF)(C,null,{default:(0,i.k6)((()=>[(0,i.bF)(y,{command:{action:"edit",row:e.row}},{default:(0,i.k6)((()=>l[65]||(l[65]=[(0,i.eW)("修改预约")]))),_:2},1032,["command"]),(0,i.bF)(y,{command:{action:"followUp",row:e.row}},{default:(0,i.k6)((()=>l[66]||(l[66]=[(0,i.eW)("跟进记录")]))),_:2},1032,["command"]),(0,i.bF)(y,{command:{action:"delete",row:e.row}},{default:(0,i.k6)((()=>l[67]||(l[67]=[(0,i.eW)("删除")]))),_:2},1032,["command"]),(0,i.bF)(y,{command:{action:"createPC",row:e.row}},{default:(0,i.k6)((()=>l[68]||(l[68]=[(0,i.eW)("创建PC")]))),_:2},1032,["command"]),(0,i.bF)(y,{command:{action:"statistics",row:e.row}},{default:(0,i.k6)((()=>l[69]||(l[69]=[(0,i.eW)("货量统计")]))),_:2},1032,["command"])])),_:2},1024)])),default:(0,i.k6)((()=>[(0,i.bF)(d,{size:"small"},{default:(0,i.k6)((()=>l[64]||(l[64]=[(0,i.eW)(" 更多"),(0,i.Lk)("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)]))),_:1})])),_:2},1032,["onCommand"])])),_:1})])),_:1},8,["data","group-fields","show-group-column","group-column-label","current-page","page-size","total","onSelectionChange","onSizeChange","onCurrentChange","onCellClick","onCellDblclick"])),[[M,r.loading]])])),_:1}),(0,i.bF)(V,{modelValue:r.formDialogVisible,"onUpdate:modelValue":l[26]||(l[26]=e=>r.formDialogVisible=e),title:s.dialogTitle,width:"60%","before-close":s.handleCloseDialog,"destroy-on-close":""},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",yl,[(0,i.bF)(d,{onClick:s.handleCloseDialog},{default:(0,i.k6)((()=>l[70]||(l[70]=[(0,i.eW)("取消")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"primary",onClick:s.handleSubmitForm},{default:(0,i.k6)((()=>l[71]||(l[71]=[(0,i.eW)("保存")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.bF)(g,{model:r.currentAppointment,ref:"appointmentFormRef","label-width":"120px"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{label:"平台",prop:"platform",rules:{required:!0,message:"请选择平台",trigger:"change"}},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:r.currentAppointment.platform,"onUpdate:modelValue":l[14]||(l[14]=e=>r.currentAppointment.platform=e),placeholder:"请选择平台"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"Amazon",value:"Amazon"}),(0,i.bF)(u,{label:"Walmart",value:"Walmart"}),(0,i.bF)(u,{label:"eBay",value:"eBay"}),(0,i.bF)(u,{label:"Shopify",value:"Shopify"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"仓库代码",prop:"warehouseCode",rules:{required:!0,message:"请输入仓库代码",trigger:"blur"}},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.currentAppointment.warehouseCode,"onUpdate:modelValue":l[15]||(l[15]=e=>r.currentAppointment.warehouseCode=e),placeholder:"请输入仓库代码"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"预约账户",prop:"account"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.currentAppointment.account,"onUpdate:modelValue":l[16]||(l[16]=e=>r.currentAppointment.account=e),placeholder:"请输入预约账户"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"预约号",prop:"appointmentId",rules:{required:!0,message:"请输入预约号",trigger:"blur"}},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.currentAppointment.appointmentId,"onUpdate:modelValue":l[17]||(l[17]=e=>r.currentAppointment.appointmentId=e),placeholder:"请输入预约号"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"PC号",prop:"pcNumber"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.currentAppointment.pcNumber,"onUpdate:modelValue":l[18]||(l[18]=e=>r.currentAppointment.pcNumber=e),placeholder:"请输入PC号"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"CRDD",prop:"crdd"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:r.currentAppointment.crdd,"onUpdate:modelValue":l[19]||(l[19]=e=>r.currentAppointment.crdd=e),type:"date",placeholder:"选择CRDD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"预约类型",prop:"appointmentType"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:r.currentAppointment.appointmentType,"onUpdate:modelValue":l[20]||(l[20]=e=>r.currentAppointment.appointmentType=e),placeholder:"请选择预约类型"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"地板",value:"floor"}),(0,i.bF)(u,{label:"卡板",value:"pallet"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"预约时间",prop:"appointmentTime"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:r.currentAppointment.appointmentTime,"onUpdate:modelValue":l[21]||(l[21]=e=>r.currentAppointment.appointmentTime=e),type:"datetime",placeholder:"选择预约时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"最早预约时间",prop:"earliestAppointmentTime"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:r.currentAppointment.earliestAppointmentTime,"onUpdate:modelValue":l[22]||(l[22]=e=>r.currentAppointment.earliestAppointmentTime=e),type:"datetime",placeholder:"选择最早预约时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"状态",prop:"status",rules:{required:!0,message:"请选择状态",trigger:"change"}},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:r.currentAppointment.status,"onUpdate:modelValue":l[23]||(l[23]=e=>r.currentAppointment.status=e),placeholder:"请选择状态"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"未使用",value:"unused"}),(0,i.bF)(u,{label:"已使用",value:"used"}),(0,i.bF)(u,{label:"亚马逊删约",value:"amazon_deleted"}),(0,i.bF)(u,{label:"删约",value:"deleted"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"跟进记录",prop:"followUpRecord"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{type:"textarea",modelValue:r.currentAppointment.followUpRecord,"onUpdate:modelValue":l[24]||(l[24]=e=>r.currentAppointment.followUpRecord=e),placeholder:"请输入跟进记录"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"Memo",prop:"memo"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{type:"textarea",modelValue:r.currentAppointment.memo,"onUpdate:modelValue":l[25]||(l[25]=e=>r.currentAppointment.memo=e),placeholder:"请输入Memo"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title","before-close"]),(0,i.bF)(L,{visible:r.filterPanelVisible,"onUpdate:visible":l[27]||(l[27]=e=>r.filterPanelVisible=e),columns:s.tableColumns,"existing-filters":r.activeFilters,"existing-logic":r.filterLogic,onApplyFilters:s.applyFilters,onCancel:s.cancelFilters},null,8,["visible","columns","existing-filters","existing-logic","onApplyFilters","onCancel"]),(0,i.bF)(V,{title:"保存视图",modelValue:r.saveViewDialogVisible,"onUpdate:modelValue":l[31]||(l[31]=e=>r.saveViewDialogVisible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.bF)(d,{onClick:l[30]||(l[30]=e=>r.saveViewDialogVisible=!1)},{default:(0,i.k6)((()=>l[72]||(l[72]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(d,{type:"primary",onClick:s.saveView},{default:(0,i.k6)((()=>l[73]||(l[73]=[(0,i.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,i.k6)((()=>[(0,i.bF)(g,{model:r.viewForm,"label-width":"100px"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{label:"视图名称",required:""},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.viewForm.name,"onUpdate:modelValue":l[28]||(l[28]=e=>r.viewForm.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1}),(0,i.bF)(m,{label:"显示字段"},{default:(0,i.k6)((()=>[(0,i.bF)(_,{modelValue:r.viewForm.columns,"onUpdate:modelValue":l[29]||(l[29]=e=>r.viewForm.columns=e)},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.tableColumns,(e=>((0,i.uX)(),(0,i.Wv)(S,{key:e.prop,label:e.prop},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.bF)(V,{title:"视图操作",modelValue:r.viewOptionsDialogVisible,"onUpdate:modelValue":l[35]||(l[35]=e=>r.viewOptionsDialogVisible=e),width:"300px"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Cl,[(0,i.Lk)("div",{class:"view-option-item",onClick:l[32]||(l[32]=(...e)=>s.handleRenameView&&s.handleRenameView(...e))},l[74]||(l[74]=[(0,i.Lk)("i",{class:"el-icon-edit"},null,-1),(0,i.Lk)("span",null,"重命名视图",-1)])),(0,i.Lk)("div",{class:"view-option-item",onClick:l[33]||(l[33]=(...e)=>s.handleCopyView&&s.handleCopyView(...e))},l[75]||(l[75]=[(0,i.Lk)("i",{class:"el-icon-document-copy"},null,-1),(0,i.Lk)("span",null,"复制视图",-1)])),(0,i.Lk)("div",{class:"view-option-item",onClick:l[34]||(l[34]=(...e)=>s.handleDeleteView&&s.handleDeleteView(...e))},l[76]||(l[76]=[(0,i.Lk)("i",{class:"el-icon-delete"},null,-1),(0,i.Lk)("span",null,"删除视图",-1)]))])])),_:1},8,["modelValue"]),(0,i.bF)(V,{title:"重命名视图",modelValue:r.renameViewDialogVisible,"onUpdate:modelValue":l[38]||(l[38]=e=>r.renameViewDialogVisible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.bF)(d,{onClick:l[37]||(l[37]=e=>r.renameViewDialogVisible=!1)},{default:(0,i.k6)((()=>l[77]||(l[77]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(d,{type:"primary",onClick:s.saveRenameView},{default:(0,i.k6)((()=>l[78]||(l[78]=[(0,i.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,i.k6)((()=>[(0,i.bF)(g,{model:r.renameForm,"label-width":"100px"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{label:"视图名称",required:""},{default:(0,i.k6)((()=>[(0,i.bF)(p,{modelValue:r.renameForm.name,"onUpdate:modelValue":l[36]||(l[36]=e=>r.renameForm.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.bF)(V,{title:"分组设置",modelValue:r.groupModalVisible,"onUpdate:modelValue":l[43]||(l[43]=e=>r.groupModalVisible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",Ll,[(0,i.bF)(d,{onClick:l[42]||(l[42]=e=>r.groupModalVisible=!1)},{default:(0,i.k6)((()=>l[82]||(l[82]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(d,{type:"danger",onClick:s.clearGroupSettings},{default:(0,i.k6)((()=>l[83]||(l[83]=[(0,i.eW)("清除分组")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"primary",onClick:s.applyGroupSettings},{default:(0,i.k6)((()=>l[84]||(l[84]=[(0,i.eW)("应用")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.Lk)("div",wl,[(0,i.Lk)("div",Fl,[l[79]||(l[79]=(0,i.Lk)("span",{class:"group-level-label"},"一级分组：",-1)),(0,i.bF)(c,{modelValue:r.groupSettings.level1,"onUpdate:modelValue":l[39]||(l[39]=e=>r.groupSettings.level1=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.groupableFields,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,i.Lk)("div",Tl,[l[80]||(l[80]=(0,i.Lk)("span",{class:"group-level-label"},"二级分组：",-1)),(0,i.bF)(c,{modelValue:r.groupSettings.level2,"onUpdate:modelValue":l[40]||(l[40]=e=>r.groupSettings.level2=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.groupableFields,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,i.Lk)("div",Vl,[l[81]||(l[81]=(0,i.Lk)("span",{class:"group-level-label"},"三级分组：",-1)),(0,i.bF)(c,{modelValue:r.groupSettings.level3,"onUpdate:modelValue":l[41]||(l[41]=e=>r.groupSettings.level3=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.groupableFields,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,i.bF)(V,{title:"排序设置",modelValue:r.sortModalVisible,"onUpdate:modelValue":l[45]||(l[45]=e=>r.sortModalVisible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",Dl,[(0,i.bF)(d,{onClick:l[44]||(l[44]=e=>r.sortModalVisible=!1)},{default:(0,i.k6)((()=>l[87]||(l[87]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(d,{type:"danger",onClick:s.clearSortSettings},{default:(0,i.k6)((()=>l[88]||(l[88]=[(0,i.eW)("清除排序")]))),_:1},8,["onClick"]),(0,i.bF)(d,{type:"primary",onClick:s.applySortSettings},{default:(0,i.k6)((()=>l[89]||(l[89]=[(0,i.eW)("应用")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Sl,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.sortSettings,((e,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a,class:"sort-item"},[(0,i.bF)(c,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",style:{width:"200px"},clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.sortableFields,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,i.bF)(c,{modelValue:e.direction,"onUpdate:modelValue":l=>e.direction=l,placeholder:"排序方向",style:{width:"120px"}},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"升序",value:"asc"}),(0,i.bF)(u,{label:"降序",value:"desc"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,i.bF)(d,{type:"danger",size:"small",onClick:e=>s.removeSortField(a)},{default:(0,i.k6)((()=>l[85]||(l[85]=[(0,i.eW)("删除")]))),_:2},1032,["onClick"])])))),128)),(0,i.Lk)("div",_l,[(0,i.bF)(d,{type:"primary",plain:"",onClick:s.addSortField},{default:(0,i.k6)((()=>l[86]||(l[86]=[(0,i.eW)("添加排序字段")]))),_:1},8,["onClick"])])])])),_:1},8,["modelValue"]),(0,i.bF)(V,{title:"字段配置",modelValue:r.columnSettingsVisible,"onUpdate:modelValue":l[48]||(l[48]=e=>r.columnSettingsVisible=e),width:"600px"},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",Wl,[(0,i.bF)(d,{onClick:l[47]||(l[47]=e=>r.columnSettingsVisible=!1)},{default:(0,i.k6)((()=>l[93]||(l[93]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(d,{type:"primary",onClick:s.applyColumnSettings},{default:(0,i.k6)((()=>l[94]||(l[94]=[(0,i.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Ml,[(0,i.Lk)("div",Al,[(0,i.bF)(S,{modelValue:r.allColumnsSelected,"onUpdate:modelValue":l[46]||(l[46]=e=>r.allColumnsSelected=e),onChange:s.handleSelectAllColumns},{default:(0,i.k6)((()=>l[90]||(l[90]=[(0,i.eW)("全选")]))),_:1},8,["modelValue","onChange"]),(0,i.bF)(d,{type:"primary",size:"small",onClick:s.resetColumnSettings},{default:(0,i.k6)((()=>l[91]||(l[91]=[(0,i.eW)("重置")]))),_:1},8,["onClick"])]),(0,i.Lk)("div",El,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.columnSettingsList,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.prop,class:"column-item"},[l[92]||(l[92]=(0,i.Lk)("span",{class:"drag-handle"},"≡",-1)),(0,i.bF)(S,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])])])),_:1},8,["modelValue"]),(0,i.bo)((0,i.Lk)("div",{class:"context-menu",style:(0,o.Tr)({left:r.contextMenuX+"px",top:r.contextMenuY+"px"})},[(0,i.Lk)("div",{class:"context-menu-item",onClick:l[49]||(l[49]=(...e)=>s.handleCopyView&&s.handleCopyView(...e))},l[95]||(l[95]=[(0,i.Lk)("span",null,"复制视图",-1)])),(0,i.Lk)("div",{class:"context-menu-item",onClick:l[50]||(l[50]=(...e)=>s.handleRenameView&&s.handleRenameView(...e))},l[96]||(l[96]=[(0,i.Lk)("span",null,"重命名",-1)])),(0,i.Lk)("div",{class:"context-menu-item",onClick:l[51]||(l[51]=(...e)=>s.handleDeleteView&&s.handleDeleteView(...e))},l[97]||(l[97]=[(0,i.Lk)("span",null,"删除",-1)]))],4),[[t.aG,r.contextMenuVisible]])])}var Nl=a(163),Pl=a(7918),Ol=a(2998),Rl=a(3344);const Kl={name:"AppointmentManagement",components:{GroupableTable:Ol.A,FilterPanel:Rl.A},directives:{focus:{mounted(e){e.focus()}}},data(){return{searchForm:{platform:"",warehouseCode:""},tableData:[{id:"1",platform:"Amazon",warehouseCode:"ONT9",account:"Acc1",appointmentId:"AP001",appointmentTime:"2024-07-30 10:00:00",earliestAppointmentTime:"2024-07-29 09:00:00",status:"unused",followUpRecord:"首次录入",memo:"加急",pcNumber:"PC001",crdd:"2024-07-28",appointmentType:"floor"},{id:"2",platform:"Amazon",warehouseCode:"LAX9",account:"Acc2",appointmentId:"AP002",appointmentTime:"2024-07-31 14:30:00",earliestAppointmentTime:"2024-07-30 08:00:00",status:"used",followUpRecord:"已送达",memo:"",pcNumber:"PC002",crdd:"2024-07-29",appointmentType:"pallet"},{id:"3",platform:"Walmart",warehouseCode:"WMT-CA1",account:"Acc3",appointmentId:"AP003",appointmentTime:"2024-08-01 11:00:00",earliestAppointmentTime:"2024-07-31 10:00:00",status:"amazon_deleted",followUpRecord:"联系客户重新预约",memo:"货多",pcNumber:"PC003",crdd:"2024-07-30",appointmentType:"floor"},{id:"4",platform:"Amazon",warehouseCode:"ONT8",account:"Acc1",appointmentId:"AP004",appointmentTime:"2024-08-02 16:00:00",earliestAppointmentTime:"2024-08-01 14:00:00",status:"deleted",followUpRecord:"客户取消",memo:"",pcNumber:"PC004",crdd:"2024-07-31",appointmentType:"pallet"}],displayData:[],loading:!1,selectedRows:[],currentView:"all",customViews:[],saveViewDialogVisible:!1,viewOptionsDialogVisible:!1,renameViewDialogVisible:!1,viewForm:{name:"",columns:[]},currentEditingView:null,renameForm:{name:""},editingCell:{rowId:null,prop:null,value:null},currentPage:1,pageSize:10,filterPanelVisible:!1,activeFilters:[],filterLogic:"and",groupField:"",groupModalVisible:!1,groupSettings:{level1:"",level2:"",level3:""},sortModalVisible:!1,sortSettings:[{field:"",direction:"asc"}],columnSettingsVisible:!1,allColumnsSelected:!0,columnSettingsList:[],contextMenuVisible:!1,contextMenuX:0,contextMenuY:0,formDialogVisible:!1,dialogMode:"add",currentAppointment:{id:null,platform:"",warehouseCode:"",account:"",appointmentId:"",appointmentTime:"",earliestAppointmentTime:"",status:"unused",followUpRecord:"",memo:"",pcNumber:"",crdd:"",appointmentType:"floor"}}},computed:{dialogTitle(){return"add"===this.dialogMode?"新增预约":"修改预约"},total(){return this.tableData.length},tableColumns(){return[{prop:"platform",label:"平台",width:100,sortable:!0,filterType:"select",filterOptions:[{label:"Amazon",value:"Amazon"},{label:"Walmart",value:"Walmart"},{label:"eBay",value:"eBay"},{label:"Shopify",value:"Shopify"}]},{prop:"warehouseCode",label:"仓库代码",width:120,sortable:!0},{prop:"account",label:"预约账户",width:120,sortable:!0},{prop:"appointmentId",label:"预约号",width:150,sortable:!0},{prop:"pcNumber",label:"PC号",width:120,sortable:!0},{prop:"crdd",label:"CRDD",width:120,sortable:!0,filterType:"date"},{prop:"appointmentType",label:"预约类型",width:120,sortable:!0,filterType:"select",filterOptions:[{label:"地板",value:"floor"},{label:"卡板",value:"pallet"}]},{prop:"appointmentTime",label:"预约时间",width:160,sortable:!0,filterType:"datetime"},{prop:"earliestAppointmentTime",label:"最早预约时间",width:160,sortable:!0,filterType:"datetime"},{prop:"status",label:"状态",width:120,sortable:!0,filterType:"select",filterOptions:[{label:"未使用",value:"unused"},{label:"已使用",value:"used"},{label:"亚马逊删约",value:"amazon_deleted"},{label:"删约",value:"deleted"}]},{prop:"followUpRecord",label:"跟进记录",minWidth:150,sortable:!1},{prop:"memo",label:"Memo",minWidth:150,sortable:!1},{prop:"operation",label:"操作",width:180,sortable:!1,fixed:"right"}]},groupableFields(){return this.tableColumns.filter((e=>e.sortable&&"operation"!==e.prop))},sortableFields(){return this.tableColumns.filter((e=>e.sortable))},hasGroupedData(){return this.displayData.some((e=>e.isGroup))}},methods:{getPlatformType(e){const l={Amazon:"",Walmart:"success",eBay:"warning",Shopify:"info"};return l[e]||"info"},getStatusType(e){const l={unused:"info",used:"success",amazon_deleted:"danger",deleted:"warning"};return l[e]||"info"},getStatusText(e){const l={unused:"未使用",used:"已使用",amazon_deleted:"亚马逊删约",deleted:"删约"};return l[e]||"未知"},getStatusCount(e){return this.tableData.filter((l=>l.status===e)).length},getGroupColumnLabel(e){const l=this.tableColumns.find((l=>l.prop===e));return l?l.label:"分组"},handleSearch(){console.log("搜索条件：",this.searchForm),this.refreshDisplayData()},resetForm(){this.searchForm={platform:"",warehouseCode:""},this.handleSearch()},refreshDisplayData(){this.loading=!0,setTimeout((()=>{let e=[...this.tableData];"all"!==this.currentView&&["unused","used","amazon_deleted","deleted"].includes(this.currentView)&&(e=e.filter((e=>e.status===this.currentView))),this.activeFilters.length>0&&(e=this.applyDataFilters(e)),this.groupField&&(e=this.applyGrouping(e,this.groupField));const l=this.customViews.find((e=>e.id===this.currentView));l&&l.config,this.displayData=e,this.loading=!1}),300)},applyDataFilters(e){return 0===this.activeFilters.length?e:e.filter((e=>{const l=this.activeFilters.map((l=>{const{field:a,operator:t,value:i}=l;if(!a||!t)return!0;const o=e[a];switch(t){case"eq":return o===i;case"neq":return o!==i;case"contains":return String(o).includes(String(i));case"notContains":return!String(o).includes(String(i));case"startsWith":return String(o).startsWith(String(i));case"endsWith":return String(o).endsWith(String(i));case"gt":return o>i;case"gte":return o>=i;case"lt":return o<i;case"lte":return o<=i;case"in":return!!Array.isArray(i)&&i.includes(o);case"notIn":return!Array.isArray(i)||!i.includes(o);default:return!0}}));return"and"===this.filterLogic?l.every(Boolean):l.some(Boolean)}))},applyGrouping(e,l){if(!l)return e;const a=[],t={};return e.forEach((e=>{const i=e[l]||"未设置";t[i]||(t[i]={id:`group_${i}`,isGroup:!0,groupLevel:1,groupName:i,groupField:l,count:0,children:[]},a.push(t[i])),t[i].children.push(e),t[i].count++})),a},handleSelectionChange(e){this.selectedRows=e},handleCellClick(e,l){console.log("单元格点击:",e,l.property)},handleCellDbClick(e,l){!e.isGroup&&["platform","warehouseCode","account","appointmentId","appointmentTime","earliestAppointmentTime","status","followUpRecord","memo"].includes(l)&&(this.editingCell={rowId:e.id,prop:l,value:e[l]})},handleCellEditConfirm(e,l){this.editingCell.rowId===e.id&&this.editingCell.prop===l&&(e[l]=this.editingCell.value,this.editingCell={rowId:null,prop:null,value:null},Nl.nk.success("修改成功"))},handleAdd(){this.dialogMode="add",this.currentAppointment={id:null,platform:"",warehouseCode:"",account:"",appointmentId:"",appointmentTime:"",earliestAppointmentTime:"",status:"unused",followUpRecord:"",memo:"",pcNumber:"",crdd:"",appointmentType:"floor"},this.formDialogVisible=!0},showLogs(){Nl.nk.info("操作日志功能待实现")},handleDetail(){Nl.nk.info("详情功能待实现")},handleCommand(e){const{action:l,row:a}=e;"edit"===l?this.handleEdit(a):"followUp"===l?this.handleFollowUp(a):"delete"===l?this.handleDelete(a):"createPC"===l&&this.handleCreatePC(a)},handleEdit(e){this.dialogMode="edit",this.currentAppointment=JSON.parse(JSON.stringify(e)),this.formDialogVisible=!0},handleFollowUp(){Nl.nk.info("跟进记录功能待实现")},handleDelete(e){Pl.s.confirm("确定要删除该条预约记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=this.tableData.findIndex((l=>l.id===e.id));-1!==l&&(this.tableData.splice(l,1),this.refreshDisplayData(),Nl.nk.success("删除成功"))})).catch((()=>{}))},handleCreatePC(){Nl.nk.info("创建PC功能待实现")},handleSizeChange(e){this.pageSize=e},handleCurrentChange(e){this.currentPage=e},handleCloseDialog(){this.formDialogVisible=!1},handleSubmitForm(){if(this.currentAppointment.platform&&this.currentAppointment.appointmentId){if("add"===this.dialogMode){const e=String(Date.now());this.tableData.unshift({...this.currentAppointment,id:e}),Nl.nk.success("添加成功")}else{const e=this.tableData.findIndex((e=>e.id===this.currentAppointment.id));-1!==e&&(this.tableData.splice(e,1,{...this.currentAppointment}),Nl.nk.success("修改成功"))}this.refreshDisplayData(),this.handleCloseDialog()}else Nl.nk.error("请完善必填项")},showFilterPanel(){this.filterPanelVisible=!0},applyFilters(e,l){this.activeFilters=e,this.filterLogic=l,this.refreshDisplayData()},cancelFilters(){},handleSaveView(){this.viewForm={name:"",columns:this.tableColumns.map((e=>e.prop))},this.saveViewDialogVisible=!0},saveView(){if(!this.viewForm.name)return void Nl.nk.error("请输入视图名称");const e={id:`custom_${Date.now()}`,name:this.viewForm.name,config:{columns:this.viewForm.columns,filters:[...this.activeFilters],filterLogic:this.filterLogic,groupField:this.groupField,sortSettings:[...this.sortSettings]}};this.customViews.push(e),this.saveViewDialogVisible=!1,this.currentView=e.id,Nl.nk.success("视图保存成功")},showGroupModal(){this.groupSettings={level1:this.groupField||"",level2:"",level3:""},this.groupModalVisible=!0},clearGroupSettings(){this.groupSettings={level1:"",level2:"",level3:""}},applyGroupSettings(){this.groupField=this.groupSettings.level1,this.groupModalVisible=!1,this.refreshDisplayData()},showSortModal(){this.sortModalVisible=!0},addSortField(){this.sortSettings.push({field:"",direction:"asc"})},removeSortField(e){this.sortSettings.splice(e,1),0===this.sortSettings.length&&this.sortSettings.push({field:"",direction:"asc"})},clearSortSettings(){this.sortSettings=[{field:"",direction:"asc"}]},applySortSettings(){this.sortModalVisible=!1,this.refreshDisplayData()},showColumnSettings(){this.columnSettingsList=JSON.parse(JSON.stringify(this.tableColumns)),this.allColumnsSelected=this.columnSettingsList.every((e=>!1!==e.visible)),this.columnSettingsVisible=!0},handleSelectAllColumns(e){this.columnSettingsList.forEach((l=>{l.visible=e}))},resetColumnSettings(){this.columnSettingsList=JSON.parse(JSON.stringify(this.tableColumns)),this.allColumnsSelected=!0},applyColumnSettings(){this.tableColumns.forEach((e=>{const l=this.columnSettingsList.find((l=>l.prop===e.prop));l&&(e.visible=l.visible)})),this.columnSettingsVisible=!1,Nl.nk.success("字段配置已应用")},handleContextMenu(e,l){e.preventDefault(),this.currentEditingView=l,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.contextMenuVisible=!0,document.addEventListener("click",this.closeContextMenu,{once:!0})},closeContextMenu(){this.contextMenuVisible=!1},handleRenameView(){this.currentEditingView&&(this.renameForm.name=this.currentEditingView.name,this.viewOptionsDialogVisible=!1,this.contextMenuVisible=!1,this.renameViewDialogVisible=!0)},saveRenameView(){if(!this.renameForm.name)return void Nl.nk.error("请输入视图名称");const e=this.customViews.find((e=>e.id===this.currentEditingView.id));e&&(e.name=this.renameForm.name,Nl.nk.success("视图重命名成功")),this.renameViewDialogVisible=!1},handleCopyView(){if(!this.currentEditingView)return;const e=JSON.parse(JSON.stringify(this.currentEditingView));e.id=`custom_${Date.now()}`,e.name=`${e.name} (复制)`,this.customViews.push(e),this.viewOptionsDialogVisible=!1,this.contextMenuVisible=!1,Nl.nk.success("视图复制成功")},handleDeleteView(){this.currentEditingView&&Pl.s.confirm("确定要删除该视图吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=this.customViews.findIndex((e=>e.id===this.currentEditingView.id));-1!==e&&(this.customViews.splice(e,1),this.currentView===this.currentEditingView.id&&(this.currentView="all"),Nl.nk.success("视图删除成功")),this.viewOptionsDialogVisible=!1,this.contextMenuVisible=!1})).catch((()=>{}))}},created(){this.displayData=[...this.tableData]},mounted(){this.refreshDisplayData()},watch:{currentView(){this.refreshDisplayData()}}},Ul=(0,xe.A)(Kl,[["render",xl],["__scopeId","data-v-7e205271"]]),Il=Ul;var Xl=a(7660),zl=(a(5323),a(432)),Bl=a.n(zl),Gl=a(9595),$l=a(1178);const ql={class:"table-surely-demo"},jl={class:"filter-bar"},Jl={class:"filter-row"},Ql={class:"action-buttons"},Yl={class:"view-management"},Hl={class:"view-tools"},Zl={class:"table-container"},ea={class:"expanded-row-content"},la={class:"expanded-info"},aa={class:"info-item"},ta={class:"info-value"},ia={class:"info-item"},oa={class:"info-value"},na={class:"info-item"},ra={class:"info-value"},sa={class:"info-item"},da={class:"info-value"},ua={class:"info-item"},ca={class:"info-value"},ma={class:"info-item"},pa={class:"info-value"},ga={class:"info-item"},va={class:"info-value"},ba={class:"info-item"},ha={class:"info-value"},ka={class:"info-item"},fa={class:"info-value"},ya={class:"info-item"},Ca={class:"info-value"},wa={class:"group-content"},Fa={class:"group-text"},Ta={class:"group-count"},Va={key:1},La={key:1,class:"cell-wrapper"},Sa={key:0,class:"cell-editor"},_a=["onClick","onDblclick"],Da=["onMouseenter"],Ma={key:0,class:"cell-wrapper"},Aa={class:"cell-content"},Ea={key:2,class:"cell-wrapper"},Wa=["onMouseenter"],xa={class:"grouping-content"},Na={class:"sorting-content"},Pa={class:"sort-item"},Oa={class:"sort-item"},Ra={class:"sort-item"},Ka={class:"column-settings-dialog"},Ua={class:"column-settings-header"},Ia={class:"column-list-container"},Xa={class:"column-item"},za={class:"filter-dialog-content"},Ba={class:"filter-logic-row"},Ga={class:"filter-conditions"},$a={class:"add-condition-row"},qa={class:"edit-confirm-content"},ja={class:"edit-value"},Ja={class:"edit-dialog-content"},Qa="tableSurelyDemoViews_v2",Ya={__name:"TableSurelyDemo",setup(e){const l=$l.map((e=>({...e,key:e.prop,dataIndex:e.prop,title:e.label,width:e.width,fixed:e.fixed,sorter:e.sortable?(l,a)=>{const t=l[e.prop],i=a[e.prop];return"number"===typeof t?t-i:t<i?-1:t>i?1:0}:void 0}))),a=(0,_e.KR)({warehouse:"",dateType:"create",dateRange:[],searchType:"trainNumber",searchText:""}),n=(0,_e.KR)(!1),r=(0,_e.KR)([]),s=(0,_e.KR)([]),d=(0,_e.KR)(1),u=(0,_e.KR)(10),c=(0,_e.KR)(0),m=(0,_e.KR)([]),p=(0,_e.KR)([]),g=(0,_e.KR)([]),v=(0,_e.KR)([]),b=(0,_e.KR)([]),h=(0,_e.KR)("all"),k=(0,_e.KR)([]),f=(0,_e.Kh)({visible:!1,viewName:""}),y=(0,_e.Kh)({visible:!1,targetViewId:null,newName:""}),C=(0,_e.Kh)({visible:!1,top:0,left:0,targetViewId:null}),w=(0,_e.Kh)({all:0}),F=(0,_e.KR)({visible:!1,form:{firstLevel:"",secondLevel:"",thirdLevel:""}}),T={firstSort:{field:"",order:"ascend"},secondSort:{field:"",order:"ascend"},thirdSort:{field:"",order:"ascend"}},V=(0,_e.KR)({visible:!1,form:{...T}}),L=(0,_e.KR)({visible:!1,settingsList:[]}),S=(0,_e.Kh)({visible:!1,conditions:[],logic:"and"}),_=(0,_e.KR)([]),D=(0,_e.KR)("and"),M=(0,i.EW)((()=>l.filter((e=>"operation"!==e.prop)))),A=(0,i.EW)((()=>l.filter((e=>["supplier","loadingStatus","loadingType","deliveryType","issuer"].includes(e.prop))))),E=(0,i.EW)((()=>l.filter((e=>e.sortable&&"operation"!==e.prop)))),W=(0,i.EW)((()=>({current:d.value,pageSize:u.value,total:c.value,showSizeChanger:!0,showTotal:e=>`共 ${e} 条数据`}))),x=(0,i.EW)((()=>({selectedRowKeys:m.value,onChange(e,l){m.value=e,P(l.filter((e=>!e.isGroup)))},getCheckboxProps(e){return{disabled:e.isGroup}}}))),N=(0,i.EW)((()=>p.value.filter((e=>!1!==e.visible)))),P=e=>{console.log("Selected rows:",e)},O=()=>{p.value=l.map((e=>({...e,visible:!0})))},R=()=>{try{const e=localStorage.getItem(Qa);e&&(k.value=JSON.parse(e))}catch(e){console.error("加载视图失败:",e),Nl.nk.error("加载视图失败"),k.value=[]}},K=()=>{try{const e=JSON.stringify(k.value);localStorage.setItem(Qa,e)}catch(e){console.error("保存视图失败:",e),Nl.nk.error("保存视图失败，请重试")}},U=()=>{f.viewName="",f.visible=!0},I=()=>{const e=f.viewName.trim();if(!e)return void Nl.nk.warning("请输入视图名称");if(k.value.some((l=>l.name===e)))return void Nl.nk.warning("视图名称已存在");const l={filters:JSON.parse(JSON.stringify(_.value)),filterLogic:D.value,sorting:{...V.value.form},grouping:{...F.value.form},columns:p.value.map((e=>({key:e.key,visible:e.visible})))},a={id:`custom-${Date.now()}`,name:e,config:l};k.value.push(a),K(),f.visible=!1,h.value=a.id,Nl.nk.success("视图保存成功")},X=e=>{if(_.value=e.filters?JSON.parse(JSON.stringify(e.filters)):[],D.value=e.filterLogic||"and",V.value.form=e.sorting?{...e.sorting}:{field:"",order:"ascend"},F.value.form=e.grouping?{...e.grouping}:{firstLevel:"",secondLevel:"",thirdLevel:""},e.columns){const a=new Map(e.columns.map((e=>[e.key,e.visible])));p.value=l.map((e=>({...e,visible:!a.has(e.key)||a.get(e.key)})))}else O();S.conditions=JSON.parse(JSON.stringify(_.value)),S.logic=D.value},z=()=>{a.value={warehouse:"",dateType:"create",dateRange:[],searchType:"trainNumber",searchText:""},_.value=[],D.value="and",V.value.form={field:"",order:"ascend"},F.value.form={firstLevel:"",secondLevel:"",thirdLevel:""},O(),S.conditions=[],S.logic="and"};(0,i.wB)(h,((e,l)=>{if(e===l)return;const a=k.value.find((l=>l.id===e));"all"===e?z():a?X(a.config):(console.warn(`View ID not found: ${e}, resetting to default.`),z(),h.value="all"),d.value=1,j()}));const B=(e,l)=>{e.preventDefault(),e.stopPropagation(),C.targetViewId=l,C.top=e.clientY,C.left=e.clientX,C.visible=!0;const a=()=>{C.visible=!1,C.targetViewId=null,window.removeEventListener("click",a),window.removeEventListener("contextmenu",a)};(0,i.dY)((()=>{window.addEventListener("click",a),window.addEventListener("contextmenu",a)}))},G=async()=>{const e=C.targetViewId;if(e)try{await Pl.s.confirm("确定要删除此视图吗？","删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"});const l=k.value.findIndex((l=>l.id===e));if(-1===l)return void Nl.nk.error("未找到要删除的视图");h.value===e&&(h.value="all"),k.value.splice(l,1),K(),Nl.nk.success("视图已删除")}catch(l){}finally{C.visible=!1,C.targetViewId=null}},$=()=>{const e=C.targetViewId;if(!e)return;const l=k.value.find((l=>l.id===e));l?(y.targetViewId=e,y.newName=l.name,y.visible=!0,C.visible=!1,C.targetViewId=null):Nl.nk.error("未找到要重命名的视图")},q=()=>{const e=y.newName?.trim();if(!e)return void Nl.nk.warning("请输入新的视图名称");const l=y.targetViewId,a=k.value.findIndex((e=>e.id===l));if(-1===a)return void Nl.nk.error("未找到要重命名的视图");const t=k.value.some((a=>a.id!==l&&a.name===e));t?Nl.nk.warning("视图名称已存在"):(k.value[a]={...k.value[a],name:e},K(),y.visible=!1,Nl.nk.success("视图已重命名"))},j=()=>{n.value=!0,setTimeout((()=>{r.value=[...Gl],g.value=[...r.value];let e=g.value;_.value.length>0&&(e=e.filter(re)),w.all=e.length,me();const{firstSort:a,secondSort:t,thirdSort:i}=V.value.form;if((a?.field||t?.field||i?.field)&&e.sort(se),v.value.length>0)b.value=v.value.map((e=>l.find((l=>l.key===e)))),s.value=J(e);else{const l=(d.value-1)*u.value,a=l+u.value;s.value=e.slice(l,a)}n.value=!1}),300)},J=(e,l=0,a="")=>{if(l>=v.value.length)return e;const t=v.value[l],i=b.value[l],o=i?.title||t,n=new Map;e.forEach((e=>{const l=e[t]??"未分组";n.has(l)||n.set(l,[]),n.get(l).push(e)}));const r=[];return n.forEach(((e,i)=>{const n=`${a?a+"-":""}group-${t}-${i}`,s=`${o}: ${i}`,d={id:n,isGroup:!0,groupName:s,groupLevel:l+1,count:e.length,_disableCheckbox:!0,parentGroupKey:a,expanded:!1,children:[]};r.push(d);const u=J(e,l+1,n);d.children=u,r.push(...u)})),r};(0,i.sV)((()=>{R(),O();const e=h.value,l=k.value.find((l=>l.id===e));"all"===e||l||(console.warn(`Initial view ID ${e} not found, defaulting to 'all'.`),h.value="all"),"all"===h.value?(z(),j()):l&&(X(l.config),j())}));const Q=()=>{F.value.visible=!0},Y=()=>{me(),V.value.visible=!0},H=()=>{S.conditions=JSON.parse(JSON.stringify(_.value)),S.logic=D.value,0===S.conditions.length&&le(),S.visible=!0},Z=()=>{L.value.settingsList=p.value.map((e=>({key:e.key,title:e.title,visible:!1!==e.visible}))),L.value.visible=!0},ee=()=>{const e=S.conditions.filter((e=>e.field&&e.operator&&""!==e.value&&null!==e.value&&void 0!==e.value));_.value=JSON.parse(JSON.stringify(e)),D.value=S.logic,S.visible=!1,d.value=1,j()},le=()=>{S.conditions.push({field:"",operator:"",value:""})},ae=e=>{S.conditions.splice(e,1)},te=()=>{const{firstLevel:e,secondLevel:a,thirdLevel:t}=F.value.form,i=[e,a,t].filter(Boolean);0!==i.length?(v.value=i,b.value=i.map((e=>l.find((l=>l.key===e)))),d.value=1,j(),F.value.visible=!1,Nl.nk.success("分组已应用")):Nl.nk.warning("请至少选择一个分组字段")},ie=()=>{me();const{firstSort:e,secondSort:l,thirdSort:a}=V.value.form,t=[e,l,a].some((e=>e&&e.field));t?(d.value=1,j(),V.value.visible=!1,Nl.nk.success("排序已应用")):Nl.nk.warning("请至少选择一个排序字段")},oe=()=>{const e=L.value.settingsList.filter((e=>e.visible)).length;0!==e?(p.value=L.value.settingsList.map((e=>{const a=l.find((l=>l.key===e.key));return a?{...a,visible:e.visible}:null})).filter((e=>null!==e)),L.value.visible=!1):console.warn("请至少选择一个字段显示")},ne=(e=!0)=>{O(),L.value.visible&&(L.value.settingsList=p.value.map((e=>({key:e.key,title:e.title,visible:!1!==e.visible})))),e&&console.log("字段配置已恢复默认")},re=e=>{if(!_.value||0===_.value.length)return!0;const l=_.value.map((l=>{const a=e[l.field],t=l.value;if(void 0===a||null===a)return!1;switch(l.operator){case"eq":return String(a).toLowerCase()===String(t).toLowerCase();case"neq":return String(a).toLowerCase()!==String(t).toLowerCase();case"contains":return String(a).toLowerCase().includes(String(t).toLowerCase());case"notContains":return!String(a).toLowerCase().includes(String(t).toLowerCase());case"gt":return Number(a)>Number(t);case"gte":return Number(a)>=Number(t);case"lt":return Number(a)<Number(t);case"lte":return Number(a)<=Number(t);default:return!0}}));return"or"===D.value?l.some((e=>e)):l.every((e=>e))},se=(e,l)=>{const a=["firstSort","secondSort","thirdSort"].map((e=>V.value.form[e])).filter((e=>e&&e.field));for(const t of a){const a=e[t.field],i=l[t.field];if(a===i)continue;if("number"===typeof a&&"number"===typeof i)return"ascend"===t.order?a-i:i-a;const o=String(a||""),n=String(i||"");if(o<n)return"ascend"===t.order?-1:1;if(o>n)return"ascend"===t.order?1:-1}return 0},de=e=>{const l={未装车:"info",已登记:"warning",装车中:"warning",装车完成:"success",交仓中:"warning",交仓完成:"success",POD回传:"success"};return l[e]||"info"},ue=()=>{F.value.form={firstLevel:"",secondLevel:"",thirdLevel:""},v.value=[],b.value=[],j(),F.value.visible=!1,Nl.nk.success("已清除分组设置")},ce=()=>{V.value.form={...T},j(),V.value.visible=!1,Nl.nk.success("已清除排序设置")},me=()=>{V.value.form?["firstSort","secondSort","thirdSort"].forEach((e=>{V.value.form[e]||(V.value.form[e]={field:"",order:"ascend"})})):V.value.form={...T}},pe=(0,_e.KR)({id:null,field:null,value:""}),ge=(0,_e.KR)({visible:!1,title:"",fieldLabel:"",value:"",isTextarea:!1,record:null,field:null}),ve=(0,_e.KR)({visible:!1,oldValue:"",newValue:"",record:null,field:""}),be=e=>["driverRegisterTime","loadingStartTime","loadingEndTime","carNumber","loader","dockNumber","loadingStatus","warehouseRemarks","driverLicense","licensePlate"].includes(e),he=(e,l)=>{be(l)&&(pe.value={id:e.id,field:l,value:e[l]||""})},ke=(e,l)=>{be(l)&&(pe.value={id:null,field:null,value:""},ge.value={visible:!0,title:`编辑${l}`,fieldLabel:l,value:e[l]||"",isTextarea:"warehouseRemarks"===l,record:e,field:l})},fe=(e,l)=>{pe.value.id===e.id&&pe.value.field===l&&(pe.value.value!==e[l]?ve.value={visible:!0,oldValue:e[l],newValue:pe.value.value,record:e,field:l}:Ce())},ye=(e,l)=>{pe.value.id===e.id&&pe.value.field===l&&(pe.value.value!==e[l]?ve.value={visible:!0,oldValue:e[l],newValue:pe.value.value,record:e,field:l}:Ce())},Ce=()=>{pe.value={id:null,field:null,value:""},ve.value.visible=!1},we=()=>{ve.value.record&&ve.value.field&&(ve.value.record[ve.value.field]=ve.value.newValue,ve.value.visible=!1,pe.value={id:null,field:null,value:""},Nl.nk.success("保存成功"))},Fe=()=>{ge.value.record&&ge.value.field&&(ge.value.record[ge.value.field]=ge.value.value,ge.value.visible=!1,Nl.nk.success("保存成功"))},Te=(0,_e.KR)({id:null,field:null,timer:null}),Ve=(e,l)=>{Te.value.timer&&clearTimeout(Te.value.timer),Te.value.timer=setTimeout((()=>{Te.value={id:e.id,field:l,timer:null}}),700)},Le=()=>{Te.value.timer&&clearTimeout(Te.value.timer),Te.value={id:null,field:null,timer:null}},Se=(0,_e.KR)([]),De=(e,l,a)=>{if(e&&e.current!==d.value&&(d.value=e.current),e&&e.pageSize!==u.value&&(u.value=e.pageSize,d.value=1),a&&a.column){const e=a.field,l=a.order;V.value.form={...V.value.form,firstSort:{field:e,order:l}},j()}};return(e,l)=>{const r=(0,i.g2)("el-option"),d=(0,i.g2)("el-select"),u=(0,i.g2)("el-date-picker"),c=(0,i.g2)("el-input"),m=(0,i.g2)("el-button"),p=(0,i.g2)("el-radio-button"),g=(0,i.g2)("el-radio-group"),v=(0,i.g2)("el-tag"),b=(0,i.g2)("el-form-item"),T=(0,i.g2)("el-form"),_=(0,i.g2)("el-dialog"),D=(0,i.g2)("el-icon"),P=(0,i.g2)("el-checkbox");return(0,i.uX)(),(0,i.CE)("div",ql,[(0,i.Lk)("div",jl,[(0,i.Lk)("div",Jl,[(0,i.bF)(d,{modelValue:a.value.warehouse,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.warehouse=e),placeholder:"仓库",size:"small",class:"filter-item"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"美西二号仓",value:"west2"}),(0,i.bF)(r,{label:"美西一号仓",value:"west1"})])),_:1},8,["modelValue"]),(0,i.bF)(d,{modelValue:a.value.dateType,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.dateType=e),placeholder:"日期类型",size:"small",class:"filter-item"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"创建日期",value:"create"}),(0,i.bF)(r,{label:"更新日期",value:"update"})])),_:1},8,["modelValue"]),(0,i.bF)(u,{modelValue:a.value.dateRange,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",class:"date-range-picker"},null,8,["modelValue"]),(0,i.bF)(d,{modelValue:a.value.searchType,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.searchType=e),placeholder:"搜索类型",size:"small",class:"filter-item"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"车次号",value:"trainNumber"}),(0,i.bF)(r,{label:"出单日期",value:"issueDate"}),(0,i.bF)(r,{label:"出单人",value:"issuer"}),(0,i.bF)(r,{label:"装车类型",value:"loadingType"}),(0,i.bF)(r,{label:"派送类型",value:"deliveryType"}),(0,i.bF)(r,{label:"司机登记时间",value:"driverRegisterTime"}),(0,i.bF)(r,{label:"装车开始时间",value:"loadingStartTime"}),(0,i.bF)(r,{label:"装车结束时间",value:"loadingEndTime"}),(0,i.bF)(r,{label:"车厢号",value:"carNumber"}),(0,i.bF)(r,{label:"装车人",value:"loader"}),(0,i.bF)(r,{label:"DOCK号",value:"dockNumber"}),(0,i.bF)(r,{label:"装车状态",value:"loadingStatus"}),(0,i.bF)(r,{label:"出库组备注",value:"warehouseRemarks"}),(0,i.bF)(r,{label:"司机驾照",value:"driverLicense"}),(0,i.bF)(r,{label:"司机车牌号",value:"licensePlate"}),(0,i.bF)(r,{label:"司机电话",value:"driverPhone"}),(0,i.bF)(r,{label:"提货供应商",value:"supplier"}),(0,i.bF)(r,{label:"实际出库板数",value:"actualPallets"}),(0,i.bF)(r,{label:"合板数量",value:"palletsMerged"}),(0,i.bF)(r,{label:"装车预约时间",value:"loadingAppointmentTime"}),(0,i.bF)(r,{label:"重量",value:"weight"}),(0,i.bF)(r,{label:"方数",value:"cubicMeter"}),(0,i.bF)(r,{label:"总板数",value:"totalPallets"}),(0,i.bF)(r,{label:"派送成本",value:"deliveryCost"}),(0,i.bF)(r,{label:"Memo",value:"Memo"}),(0,i.bF)(r,{label:"跟进记录",value:"Followup"}),(0,i.bF)(r,{label:"司机出发时间",value:"DriverStartTime"}),(0,i.bF)(r,{label:"司机到达时间",value:"DriverEndTime"}),(0,i.bF)(r,{label:"交仓完成时间",value:"Arrived"}),(0,i.bF)(r,{label:"POD图片",value:"podImage"})])),_:1},8,["modelValue"]),(0,i.bF)(c,{modelValue:a.value.searchText,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.searchText=e),placeholder:"搜索内容",size:"small",class:"search-input"},null,8,["modelValue"]),(0,i.Lk)("div",Ql,[(0,i.bF)(m,{type:"primary",size:"small",onClick:e.handleSearch},{default:(0,i.k6)((()=>l[37]||(l[37]=[(0,i.eW)("查询")]))),_:1},8,["onClick"]),(0,i.bF)(m,{size:"small",onClick:e.resetFilter},{default:(0,i.k6)((()=>l[38]||(l[38]=[(0,i.eW)("重置")]))),_:1},8,["onClick"]),(0,i.bF)(m,{size:"small",onClick:e.handleExport},{default:(0,i.k6)((()=>l[39]||(l[39]=[(0,i.eW)("导出")]))),_:1},8,["onClick"])])])]),(0,i.Lk)("div",Yl,[(0,i.bF)(g,{modelValue:h.value,"onUpdate:modelValue":l[5]||(l[5]=e=>h.value=e),size:"small",class:"status-view-group"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{label:"all"},{default:(0,i.k6)((()=>[(0,i.eW)("全部("+(0,o.v_)(w.all||0)+")",1)])),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(k.value,(e=>((0,i.uX)(),(0,i.Wv)(p,{key:e.id,label:e.id,onContextmenu:l=>B(l,e.id)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.name),1)])),_:2},1032,["label","onContextmenu"])))),128))])),_:1},8,["modelValue"]),(0,i.Lk)("div",Hl,[(0,i.bF)(m,{type:"text",size:"small",onClick:U},{default:(0,i.k6)((()=>l[40]||(l[40]=[(0,i.eW)("保存视图")]))),_:1}),(0,i.bF)(m,{type:"text",size:"small",onClick:Q},{default:(0,i.k6)((()=>l[41]||(l[41]=[(0,i.eW)("高级分组")]))),_:1}),(0,i.bF)(m,{type:"text",size:"small",onClick:Y},{default:(0,i.k6)((()=>l[42]||(l[42]=[(0,i.eW)("高级排序")]))),_:1}),(0,i.bF)(m,{type:"text",size:"small",onClick:H},{default:(0,i.k6)((()=>l[43]||(l[43]=[(0,i.eW)("筛选")]))),_:1}),(0,i.bF)(m,{type:"text",size:"small",onClick:Z},{default:(0,i.k6)((()=>l[44]||(l[44]=[(0,i.eW)("字段配置")]))),_:1})])]),(0,i.Lk)("div",Zl,[(0,i.bF)((0,_e.R1)(Xl.Wd),{dataSource:s.value,columns:N.value,rowKey:e=>e.id,pagination:W.value,rowSelection:x.value,loading:n.value,onChange:De,scroll:{x:1500},expandable:{expandedRowKeys:Se.value,expandRowByClick:!0,rowExpandable:e=>!e.isGroup,indentSize:30,onExpand:(e,l)=>{if(e)Se.value.push(l.id);else{const e=Se.value.indexOf(l.id);e>-1&&Se.value.splice(e,1)}}}},{expandedRowRender:(0,i.k6)((({record:e})=>[(0,i.Lk)("div",ea,[(0,i.Lk)("div",la,[(0,i.Lk)("div",aa,[l[45]||(l[45]=(0,i.Lk)("span",{class:"info-label"},"装车开始时间:",-1)),(0,i.Lk)("span",ta,(0,o.v_)(e.loadingStartTime||"-"),1)]),(0,i.Lk)("div",ia,[l[46]||(l[46]=(0,i.Lk)("span",{class:"info-label"},"装车结束时间:",-1)),(0,i.Lk)("span",oa,(0,o.v_)(e.loadingEndTime||"-"),1)]),(0,i.Lk)("div",na,[l[47]||(l[47]=(0,i.Lk)("span",{class:"info-label"},"司机登记时间:",-1)),(0,i.Lk)("span",ra,(0,o.v_)(e.driverRegisterTime||"-"),1)]),(0,i.Lk)("div",sa,[l[48]||(l[48]=(0,i.Lk)("span",{class:"info-label"},"车厢号:",-1)),(0,i.Lk)("span",da,(0,o.v_)(e.carNumber||"-"),1)]),(0,i.Lk)("div",ua,[l[49]||(l[49]=(0,i.Lk)("span",{class:"info-label"},"装车人:",-1)),(0,i.Lk)("span",ca,(0,o.v_)(e.loader||"-"),1)]),(0,i.Lk)("div",ma,[l[50]||(l[50]=(0,i.Lk)("span",{class:"info-label"},"DOCK号:",-1)),(0,i.Lk)("span",pa,(0,o.v_)(e.dockNumber||"-"),1)]),(0,i.Lk)("div",ga,[l[51]||(l[51]=(0,i.Lk)("span",{class:"info-label"},"装车状态:",-1)),(0,i.Lk)("span",va,(0,o.v_)(e.loadingStatus||"-"),1)]),(0,i.Lk)("div",ba,[l[52]||(l[52]=(0,i.Lk)("span",{class:"info-label"},"出库组备注:",-1)),(0,i.Lk)("span",ha,(0,o.v_)(e.warehouseRemarks||"-"),1)]),(0,i.Lk)("div",ka,[l[53]||(l[53]=(0,i.Lk)("span",{class:"info-label"},"司机驾照:",-1)),(0,i.Lk)("span",fa,(0,o.v_)(e.driverLicense||"-"),1)]),(0,i.Lk)("div",ya,[l[54]||(l[54]=(0,i.Lk)("span",{class:"info-label"},"司机车牌号:",-1)),(0,i.Lk)("span",Ca,(0,o.v_)(e.licensePlate||"-"),1)])])])])),bodyCell:(0,i.k6)((({column:a,record:n})=>[n.isGroup?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},["trainNumber"===a.key?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,o.C4)(["group-name",`group-level-${n.groupLevel}`])},[(0,i.Lk)("div",wa,[(0,i.Lk)("span",Fa,(0,o.v_)(n.groupName),1),(0,i.Lk)("span",Ta,"("+(0,o.v_)(n.count)+")",1)])],2)):((0,i.uX)(),(0,i.CE)("span",Va,"-"))],64)):be(a.key)?((0,i.uX)(),(0,i.CE)("div",La,[pe.value.id===n.id&&pe.value.field===a.key?((0,i.uX)(),(0,i.CE)("div",Sa,[(0,i.bF)(c,{modelValue:pe.value.value,"onUpdate:modelValue":l[6]||(l[6]=e=>pe.value.value=e),size:"small",onBlur:e=>fe(n,a.key),onKeyup:[(0,t.jR)((e=>ye(n,a.key)),["enter"]),(0,t.jR)(Ce,["esc"])]},null,8,["modelValue","onBlur","onKeyup"])])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"editable-cell",onClick:e=>he(n,a.key),onDblclick:e=>ke(n,a.key)},[(0,i.Lk)("span",{class:(0,o.C4)(["cell-content",{"show-full":Te.value.id===n.id&&Te.value.field===a.key}]),onMouseenter:e=>Ve(n,a.key),onMouseleave:Le},(0,o.v_)(n[a.key]||"-"),43,Da)],40,_a))])):((0,i.uX)(),(0,i.CE)(i.FK,{key:2},["loadingStatus"===a.key?((0,i.uX)(),(0,i.CE)("div",Ma,[(0,i.Lk)("span",Aa,[(0,i.bF)(v,{type:de(n.loadingStatus),size:"small"},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(n.loadingStatus),1)])),_:2},1032,["type"])])])):"operation"===a.key?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(m,{type:"text",size:"small",onClick:l=>e.handleEdit(n)},{default:(0,i.k6)((()=>l[55]||(l[55]=[(0,i.eW)("编辑")]))),_:2},1032,["onClick"]),(0,i.bF)(m,{type:"text",size:"small",onClick:l=>e.handleMore(n)},{default:(0,i.k6)((()=>l[56]||(l[56]=[(0,i.eW)("更多")]))),_:2},1032,["onClick"])],64)):((0,i.uX)(),(0,i.CE)("div",Ea,[(0,i.Lk)("span",{class:(0,o.C4)(["cell-content",{"show-full":Te.value.id===n.id&&Te.value.field===a.key}]),onMouseenter:e=>Ve(n,a.key),onMouseleave:Le},(0,o.v_)(n[a.key]||"-"),43,Wa)]))],64))])),_:1},8,["dataSource","columns","rowKey","pagination","rowSelection","loading","expandable"])]),(0,i.bF)(_,{title:"高级分组",modelValue:F.value.visible,"onUpdate:modelValue":l[11]||(l[11]=e=>F.value.visible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:ue},{default:(0,i.k6)((()=>l[57]||(l[57]=[(0,i.eW)("清除分组")]))),_:1}),(0,i.bF)(m,{onClick:l[10]||(l[10]=e=>F.value.visible=!1)},{default:(0,i.k6)((()=>l[58]||(l[58]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:te},{default:(0,i.k6)((()=>l[59]||(l[59]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",xa,[(0,i.bF)(T,{model:F.value.form,"label-width":"80px"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{label:"一级分组"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{modelValue:F.value.form.firstLevel,"onUpdate:modelValue":l[7]||(l[7]=e=>F.value.form.firstLevel=e),placeholder:"请选择一级分组字段",clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(A.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(b,{label:"二级分组"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{modelValue:F.value.form.secondLevel,"onUpdate:modelValue":l[8]||(l[8]=e=>F.value.form.secondLevel=e),placeholder:"请选择二级分组字段",clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(A.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(b,{label:"三级分组"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{modelValue:F.value.form.thirdLevel,"onUpdate:modelValue":l[9]||(l[9]=e=>F.value.form.thirdLevel=e),placeholder:"请选择三级分组字段",clearable:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(A.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:"高级排序",modelValue:V.value.visible,"onUpdate:modelValue":l[19]||(l[19]=e=>V.value.visible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:ce},{default:(0,i.k6)((()=>l[60]||(l[60]=[(0,i.eW)("清除排序")]))),_:1}),(0,i.bF)(m,{onClick:l[18]||(l[18]=e=>V.value.visible=!1)},{default:(0,i.k6)((()=>l[61]||(l[61]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:ie},{default:(0,i.k6)((()=>l[62]||(l[62]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Na,[(0,i.bF)(T,{"label-width":"80px"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{label:"一级排序"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Pa,[(0,i.bF)(d,{modelValue:V.value.form.firstSort.field,"onUpdate:modelValue":l[12]||(l[12]=e=>V.value.form.firstSort.field=e),placeholder:"请选择排序字段",clearable:"",class:"sort-field"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(E.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,i.bF)(d,{modelValue:V.value.form.firstSort.order,"onUpdate:modelValue":l[13]||(l[13]=e=>V.value.form.firstSort.order=e),placeholder:"排序方式",class:"sort-order"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"升序",value:"ascend"}),(0,i.bF)(r,{label:"降序",value:"descend"})])),_:1},8,["modelValue"])])])),_:1}),(0,i.bF)(b,{label:"二级排序"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Oa,[(0,i.bF)(d,{modelValue:V.value.form.secondSort.field,"onUpdate:modelValue":l[14]||(l[14]=e=>V.value.form.secondSort.field=e),placeholder:"请选择排序字段",clearable:"",class:"sort-field"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(E.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,i.bF)(d,{modelValue:V.value.form.secondSort.order,"onUpdate:modelValue":l[15]||(l[15]=e=>V.value.form.secondSort.order=e),placeholder:"排序方式",class:"sort-order"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"升序",value:"ascend"}),(0,i.bF)(r,{label:"降序",value:"descend"})])),_:1},8,["modelValue"])])])),_:1}),(0,i.bF)(b,{label:"三级排序"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ra,[(0,i.bF)(d,{modelValue:V.value.form.thirdSort.field,"onUpdate:modelValue":l[16]||(l[16]=e=>V.value.form.thirdSort.field=e),placeholder:"请选择排序字段",clearable:"",class:"sort-field"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(E.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,i.bF)(d,{modelValue:V.value.form.thirdSort.order,"onUpdate:modelValue":l[17]||(l[17]=e=>V.value.form.thirdSort.order=e),placeholder:"排序方式",class:"sort-order"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"升序",value:"ascend"}),(0,i.bF)(r,{label:"降序",value:"descend"})])),_:1},8,["modelValue"])])])),_:1})])),_:1})])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:"字段配置",modelValue:L.value.visible,"onUpdate:modelValue":l[22]||(l[22]=e=>L.value.visible=e),width:"600px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:l[21]||(l[21]=e=>L.value.visible=!1)},{default:(0,i.k6)((()=>l[65]||(l[65]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:oe},{default:(0,i.k6)((()=>l[66]||(l[66]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Ka,[(0,i.Lk)("div",Ua,[l[64]||(l[64]=(0,i.Lk)("span",null,"拖拽调整顺序，勾选控制显隐",-1)),(0,i.bF)(m,{type:"primary",plain:"",size:"small",onClick:ne},{default:(0,i.k6)((()=>l[63]||(l[63]=[(0,i.eW)("恢复默认")]))),_:1})]),(0,i.Lk)("div",Ia,[(0,i.bF)((0,_e.R1)(Bl()),{modelValue:L.value.settingsList,"onUpdate:modelValue":l[20]||(l[20]=e=>L.value.settingsList=e),"item-key":"key",handle:".drag-handle","ghost-class":"ghost",class:"column-draggable-list"},{item:(0,i.k6)((({element:e})=>[(0,i.Lk)("div",Xa,[(0,i.bF)(D,{class:"drag-handle",title:"拖拽排序"},{default:(0,i.k6)((()=>[(0,i.bF)((0,_e.R1)(Me.rgM))])),_:1}),(0,i.bF)(P,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.title),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:"高级筛选",modelValue:S.visible,"onUpdate:modelValue":l[25]||(l[25]=e=>S.visible=e),width:"700px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:l[24]||(l[24]=e=>S.visible=!1)},{default:(0,i.k6)((()=>l[71]||(l[71]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:ee},{default:(0,i.k6)((()=>l[72]||(l[72]=[(0,i.eW)("应用筛选")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",za,[(0,i.Lk)("div",Ba,[l[69]||(l[69]=(0,i.Lk)("span",{class:"filter-logic-label"},"筛选逻辑:",-1)),(0,i.bF)(g,{modelValue:S.logic,"onUpdate:modelValue":l[23]||(l[23]=e=>S.logic=e),size:"small"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{label:"and"},{default:(0,i.k6)((()=>l[67]||(l[67]=[(0,i.eW)("且 (AND)")]))),_:1}),(0,i.bF)(p,{label:"or"},{default:(0,i.k6)((()=>l[68]||(l[68]=[(0,i.eW)("或 (OR)")]))),_:1})])),_:1},8,["modelValue"])]),(0,i.Lk)("div",Ga,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(S.conditions,((e,l)=>((0,i.uX)(),(0,i.CE)("div",{key:l,class:"filter-condition-row"},[(0,i.bF)(d,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",size:"small",class:"filter-field"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(M.value,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,i.bF)(d,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,placeholder:"选择条件",size:"small",class:"filter-operator"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{label:"等于",value:"eq"}),(0,i.bF)(r,{label:"不等于",value:"neq"}),(0,i.bF)(r,{label:"包含",value:"contains"}),(0,i.bF)(r,{label:"不包含",value:"notContains"}),(0,i.bF)(r,{label:"大于",value:"gt"}),(0,i.bF)(r,{label:"大于等于",value:"gte"}),(0,i.bF)(r,{label:"小于",value:"lt"}),(0,i.bF)(r,{label:"小于等于",value:"lte"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,i.bF)(c,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"输入值",size:"small",class:"filter-value"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(m,{type:"danger",size:"small",circle:"",class:"remove-condition",onClick:e=>ae(l)},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)((0,_e.R1)(Me.epd))])),_:1})])),_:2},1032,["onClick"])])))),128))]),(0,i.Lk)("div",$a,[(0,i.bF)(m,{type:"primary",plain:"",size:"small",onClick:le},{default:(0,i.k6)((()=>[(0,i.bF)(D,null,{default:(0,i.k6)((()=>[(0,i.bF)((0,_e.R1)(Me.FWt))])),_:1}),l[70]||(l[70]=(0,i.eW)(" 添加条件 "))])),_:1})])])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:"保存视图",modelValue:f.visible,"onUpdate:modelValue":l[28]||(l[28]=e=>f.visible=e),width:"400px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:l[27]||(l[27]=e=>f.visible=!1)},{default:(0,i.k6)((()=>l[73]||(l[73]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:I},{default:(0,i.k6)((()=>l[74]||(l[74]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.bF)(T,{model:f,"label-width":"80px"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{label:"视图名称",required:""},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:f.viewName,"onUpdate:modelValue":l[26]||(l[26]=e=>f.viewName=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:"重命名视图",modelValue:y.visible,"onUpdate:modelValue":l[31]||(l[31]=e=>y.visible=e),width:"400px","destroy-on-close":""},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:l[30]||(l[30]=e=>y.visible=!1)},{default:(0,i.k6)((()=>l[75]||(l[75]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:q},{default:(0,i.k6)((()=>l[76]||(l[76]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.bF)(T,{"label-width":"80px"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{label:"新名称",required:""},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:y.newName,"onUpdate:modelValue":l[29]||(l[29]=e=>y.newName=e),placeholder:"请输入新的视图名称",onKeyup:(0,t.jR)(q,["enter"])},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),C.visible?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"context-menu",style:(0,o.Tr)({top:C.top+"px",left:C.left+"px",position:"fixed",zIndex:2e3})},[(0,i.Lk)("div",{class:"context-menu-item",onClick:$},"重命名"),(0,i.Lk)("div",{class:"context-menu-item",onClick:G},"删除")],4)):(0,i.Q3)("",!0),(0,i.bF)(_,{title:"确认修改",modelValue:ve.value.visible,"onUpdate:modelValue":l[32]||(l[32]=e=>ve.value.visible=e),width:"400px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:Ce},{default:(0,i.k6)((()=>l[78]||(l[78]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:we},{default:(0,i.k6)((()=>l[79]||(l[79]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",qa,[l[77]||(l[77]=(0,i.Lk)("p",null,"是否保存修改？",-1)),(0,i.Lk)("div",ja,[(0,i.Lk)("div",null,"原值："+(0,o.v_)(ve.value.oldValue||"空"),1),(0,i.Lk)("div",null,"新值："+(0,o.v_)(ve.value.newValue||"空"),1)])])])),_:1},8,["modelValue"]),(0,i.bF)(_,{title:ge.value.title,modelValue:ge.value.visible,"onUpdate:modelValue":l[36]||(l[36]=e=>ge.value.visible=e),width:"500px"},{footer:(0,i.k6)((()=>[(0,i.bF)(m,{onClick:l[35]||(l[35]=e=>ge.value.visible=!1)},{default:(0,i.k6)((()=>l[80]||(l[80]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(m,{type:"primary",onClick:Fe},{default:(0,i.k6)((()=>l[81]||(l[81]=[(0,i.eW)("确定")]))),_:1})])),default:(0,i.k6)((()=>[(0,i.Lk)("div",Ja,[(0,i.bF)(T,{"label-width":"100px"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{label:ge.value.fieldLabel},{default:(0,i.k6)((()=>[ge.value.isTextarea?((0,i.uX)(),(0,i.Wv)(c,{key:1,modelValue:ge.value.value,"onUpdate:modelValue":l[34]||(l[34]=e=>ge.value.value=e),type:"textarea",rows:4,placeholder:"请输入"+ge.value.fieldLabel},null,8,["modelValue","placeholder"])):((0,i.uX)(),(0,i.Wv)(c,{key:0,modelValue:ge.value.value,"onUpdate:modelValue":l[33]||(l[33]=e=>ge.value.value=e),placeholder:"请输入"+ge.value.fieldLabel},null,8,["modelValue","placeholder"]))])),_:1},8,["label"])])),_:1})])])),_:1},8,["title","modelValue"])])}}},Ha=(0,xe.A)(Ya,[["__scopeId","data-v-16c9fc82"]]),Za=Ha,et={class:"tag-list-container"},lt={class:"operation-bar"},at={class:"pagination-container"},tt={class:"dialog-footer"};function it(e,l,a,t,n,r){const s=(0,i.g2)("el-input"),d=(0,i.g2)("el-form-item"),u=(0,i.g2)("el-option"),c=(0,i.g2)("el-select"),m=(0,i.g2)("el-button"),p=(0,i.g2)("el-form"),g=(0,i.g2)("el-table-column"),v=(0,i.g2)("el-tag"),b=(0,i.g2)("el-table"),h=(0,i.g2)("el-pagination"),k=(0,i.g2)("TagForm"),f=(0,i.g2)("el-dialog"),y=(0,i.gN)("loading");return(0,i.uX)(),(0,i.CE)("div",et,[(0,i.bF)(p,{inline:!0,model:n.searchForm,class:"search-form"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{label:"关键词"},{default:(0,i.k6)((()=>[(0,i.bF)(s,{modelValue:n.searchForm.keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>n.searchForm.keyword=e),placeholder:"标签名称/描述",clearable:""},null,8,["modelValue"])])),_:1}),(0,i.bF)(d,{label:"分类"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:n.searchForm.category,"onUpdate:modelValue":l[1]||(l[1]=e=>n.searchForm.category=e),placeholder:"选择分类",clearable:""},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"Business",value:"Business"}),(0,i.bF)(u,{label:"Warning",value:"Warning"}),(0,i.bF)(u,{label:"Anomaly",value:"Anomaly"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(d,{label:"状态"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:n.searchForm.status,"onUpdate:modelValue":l[2]||(l[2]=e=>n.searchForm.status=e),placeholder:"选择状态",clearable:""},{default:(0,i.k6)((()=>[(0,i.bF)(u,{label:"活跃",value:"Active"}),(0,i.bF)(u,{label:"弃用",value:"Deprecated"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(d,null,{default:(0,i.k6)((()=>[(0,i.bF)(m,{type:"primary",onClick:r.handleSearch},{default:(0,i.k6)((()=>l[6]||(l[6]=[(0,i.eW)("搜索")]))),_:1},8,["onClick"]),(0,i.bF)(m,{onClick:r.resetSearchForm},{default:(0,i.k6)((()=>l[7]||(l[7]=[(0,i.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,i.Lk)("div",lt,[(0,i.bF)(m,{type:"primary",onClick:r.handleAddTag},{default:(0,i.k6)((()=>l[8]||(l[8]=[(0,i.eW)("新建标签")]))),_:1},8,["onClick"])]),(0,i.bo)(((0,i.uX)(),(0,i.Wv)(b,{data:n.allTableData,border:"",style:{width:"100%"}},{default:(0,i.k6)((()=>[(0,i.bF)(g,{prop:"tagKey",label:"标签键","min-width":"120"}),(0,i.bF)(g,{prop:"tagValue",label:"标签值","min-width":"120"}),(0,i.bF)(g,{prop:"category",label:"分类",width:"120"},{default:(0,i.k6)((({row:e})=>[(0,i.bF)(v,{type:r.getCategoryTagType(e.category)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.category),1)])),_:2},1032,["type"])])),_:1}),(0,i.bF)(g,{prop:"status",label:"状态",width:"100"},{default:(0,i.k6)((({row:e})=>[(0,i.bF)(v,{type:r.getStatusTagType(e.status)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)("Active"===e.status?"活跃":"弃用"),1)])),_:2},1032,["type"])])),_:1}),(0,i.bF)(g,{prop:"description",label:"描述","min-width":"200","show-overflow-tooltip":""}),(0,i.bF)(g,{prop:"updatedAt",label:"更新时间",width:"160"}),(0,i.bF)(g,{label:"操作",width:"200",fixed:"right"},{default:(0,i.k6)((({row:e})=>[(0,i.bF)(m,{link:"",type:"primary",onClick:l=>r.handleEditTag(e)},{default:(0,i.k6)((()=>l[9]||(l[9]=[(0,i.eW)("编辑")]))),_:2},1032,["onClick"]),(0,i.bF)(m,{link:"",type:"Active"===e.status?"warning":"success",onClick:l=>r.handleChangeStatus(e)},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)("Active"===e.status?"弃用":"激活"),1)])),_:2},1032,["type","onClick"]),(0,i.bF)(m,{link:"",type:"danger",onClick:l=>r.handleDeleteTag(e)},{default:(0,i.k6)((()=>l[10]||(l[10]=[(0,i.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[y,n.loading]]),(0,i.Lk)("div",at,[(0,i.bF)(h,{"current-page":n.currentPage,"onUpdate:currentPage":l[3]||(l[3]=e=>n.currentPage=e),"page-size":n.pageSize,"onUpdate:pageSize":l[4]||(l[4]=e=>n.pageSize=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:n.total,onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),(0,i.bF)(f,{modelValue:n.tagFormDialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>n.tagFormDialogVisible=e),title:r.tagDialogTitle,width:"60%","close-on-click-modal":!1,onClose:r.handleCloseTagFormDialog,"destroy-on-close":""},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",tt,[(0,i.bF)(m,{onClick:r.handleCloseTagFormDialog},{default:(0,i.k6)((()=>l[11]||(l[11]=[(0,i.eW)("取消")]))),_:1},8,["onClick"]),(0,i.bF)(m,{type:"primary",onClick:r.handleSubmitTagForm},{default:(0,i.k6)((()=>l[12]||(l[12]=[(0,i.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.bF)(k,{ref:"tagFormRef","initial-data":n.currentTag,mode:n.tagDialogMode,onSaveSuccess:r.handleSaveSuccess},null,8,["initial-data","mode","onSaveSuccess"])])),_:1},8,["modelValue","title","onClose"])])}function ot(e,l,a,t,o,n){const r=(0,i.g2)("el-input"),s=(0,i.g2)("el-form-item"),d=(0,i.g2)("el-option"),u=(0,i.g2)("el-select"),c=(0,i.g2)("el-button"),m=(0,i.g2)("el-form");return(0,i.uX)(),(0,i.Wv)(m,{ref:"tagFormRef",model:t.formData,rules:t.formRules,"label-width":"120px",class:"tag-form"},{default:(0,i.k6)((()=>[(0,i.bF)(s,{label:"标签 Key",prop:"tagKey"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{modelValue:t.formData.tagKey,"onUpdate:modelValue":l[0]||(l[0]=e=>t.formData.tagKey=e),placeholder:"建议格式: category.domain.name (e.g., business.order.userId)",disabled:"edit"===a.mode},null,8,["modelValue","disabled"]),l[6]||(l[6]=(0,i.Lk)("div",{class:"form-tip"},"唯一标识，创建后不可修改。建议使用小写字母、数字、点(.)。",-1))])),_:1}),(0,i.bF)(s,{label:"标签名称/描述",prop:"description"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{modelValue:t.formData.description,"onUpdate:modelValue":l[1]||(l[1]=e=>t.formData.description=e),type:"textarea",placeholder:"描述标签含义和用途"},null,8,["modelValue"])])),_:1}),(0,i.bF)(s,{label:"标签分类",prop:"category"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{modelValue:t.formData.category,"onUpdate:modelValue":l[2]||(l[2]=e=>t.formData.category=e),placeholder:"选择标签分类"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{label:"业务 (Business)",value:"Business"}),(0,i.bF)(d,{label:"预警 (Warning)",value:"Warning"}),(0,i.bF)(d,{label:"异常 (Anomaly)",value:"Anomaly"})])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(s,{label:"值类型",prop:"valueType"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{modelValue:t.formData.valueType,"onUpdate:modelValue":l[3]||(l[3]=e=>t.formData.valueType=e),placeholder:"选择值类型",onChange:t.handleValueTypeChange},{default:(0,i.k6)((()=>[(0,i.bF)(d,{label:"字符串 (String)",value:"String"}),(0,i.bF)(d,{label:"数字 (Number)",value:"Number"}),(0,i.bF)(d,{label:"布尔 (Boolean)",value:"Boolean"}),(0,i.bF)(d,{label:"枚举 (Enum)",value:"Enum"})])),_:1},8,["modelValue","onChange"])])),_:1}),"Enum"===t.formData.valueType?((0,i.uX)(),(0,i.Wv)(s,{key:0,label:"允许的枚举值",prop:"allowedValues"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.formData.allowedValues,((e,l)=>((0,i.uX)(),(0,i.CE)("div",{key:l,class:"enum-item"},[(0,i.bF)(r,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"枚举 Key (英文/数字)",style:{width:"40%","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(r,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"枚举 Value (显示值)",style:{width:"40%","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,i.bF)(c,{type:"danger",icon:t.Delete,circle:"",onClick:e=>t.removeAllowedValue(l)},null,8,["icon","onClick"])])))),128)),(0,i.bF)(c,{type:"primary",plain:"",onClick:t.addAllowedValue},{default:(0,i.k6)((()=>l[7]||(l[7]=[(0,i.eW)("添加枚举值")]))),_:1},8,["onClick"]),l[8]||(l[8]=(0,i.Lk)("div",{class:"form-tip"},"为枚举类型定义可选的 Key-Value 对。Key 建议使用英文或数字。",-1))])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(s,{label:"负责人/团队",prop:"owner"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{modelValue:t.formData.owner,"onUpdate:modelValue":l[4]||(l[4]=e=>t.formData.owner=e),placeholder:"选填，输入负责人或团队名称"},null,8,["modelValue"])])),_:1}),(0,i.bF)(s,{label:"备注",prop:"notes"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{modelValue:t.formData.notes,"onUpdate:modelValue":l[5]||(l[5]=e=>t.formData.notes=e),type:"textarea",placeholder:"选填，额外说明信息"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])}const nt=(e,l,a)=>(console.log("Checking uniqueness for:",l),new Promise(((e,a)=>{setTimeout((()=>{"business.order.userId"===l?a(new Error("标签 Key 已存在")):e()}),300)})).then((()=>a())).catch((e=>a(e)))),rt=(e,l,a)=>{const t=/^[a-z0-9]+(\.[a-z0-9]+)*$/;return l?t.test(l)?a():a(new Error("格式不正确 (应为: category.domain.name, 仅小写字母/数字/点)")):a(new Error("标签 Key 不能为空"))},st=(e,l,a)=>{if(!l||0===l.length)return a(new Error("枚举类型必须至少定义一个允许值"));for(const t of l)if(!t.key||!t.value)return a(new Error("枚举的 Key 和 Value 不能为空"));a()},dt={name:"TagForm",props:{initialData:{type:Object,default:null},mode:{type:String,default:"add"}},emits:["save-success"],setup(e,{emit:l}){const a=(0,_e.KR)(null),t=(0,_e.Kh)({tagKey:"",description:"",category:"Business",valueType:"String",allowedValues:[],owner:"",notes:"",id:null,status:"Active",createdAt:"",updatedAt:"",creator:"CurrentUser"}),o=(0,_e.Kh)({tagKey:[{required:!0,validator:rt,trigger:"blur"},{validator:(l,a,t)=>{if("add"===e.mode)return nt(l,a,t);t()},trigger:"blur"}],description:[{required:!0,message:"请输入标签名称/描述",trigger:"blur"}],category:[{required:!0,message:"请选择标签分类",trigger:"change"}],valueType:[{required:!0,message:"请选择值类型",trigger:"change"}],allowedValues:[{validator:(e,l,a)=>{if("Enum"===t.valueType)return st(e,l,a);a()},trigger:"change"}]}),n=()=>{a.value?.resetFields(),t.tagKey="",t.description="",t.category="Business",t.valueType="String",t.allowedValues=[],t.owner="",t.notes="",t.id=null,t.status="Active"},r=e=>{e&&(n(),t.id=e.id,t.tagKey=e.tagKey,t.description=e.description,t.category=e.category,t.valueType=e.valueType,t.allowedValues=e.allowedValues?JSON.parse(JSON.stringify(e.allowedValues)):[],t.owner=e.owner||"",t.notes=e.notes||"",t.status=e.status,t.createdAt=e.createdAt,t.updatedAt=e.updatedAt,t.creator=e.creator)},s=()=>{t.allowedValues.push({key:"",value:""})},d=e=>{t.allowedValues.splice(e,1)},u=e=>{"Enum"!==e?t.allowedValues=[]:0===t.allowedValues.length&&s(),a.value?.clearValidate("allowedValues")},c=()=>{const l={tagKey:t.tagKey,description:t.description,category:t.category,valueType:t.valueType,owner:t.owner,notes:t.notes};return"Enum"===t.valueType&&(l.allowedValues=t.allowedValues.filter((e=>e.key&&e.value))),"edit"===e.mode&&t.id&&(l.id=t.id),l},m=()=>a.value?.validate(),p=async()=>{try{await m();const a=c();console.log("Form validation passed. Data to save:",a),console.log(`Simulating API call to ${"add"===e.mode?"create":"update"} tag...`),await new Promise((e=>setTimeout(e,500)));const i={...a,id:"add"===e.mode?Date.now():t.id,status:t.status||"Active",creator:t.creator||"CurrentUser",createdAt:t.createdAt||(new Date).toISOString(),updatedAt:(new Date).toISOString()};l("save-success",i),Nl.nk.success(`标签${"add"===e.mode?"创建":"更新"}成功！`),"add"===e.mode&&n()}catch(a){console.error("Form validation or submission failed:",a),Nl.nk.error(a.message||`标签${"add"===e.mode?"创建":"更新"}失败！`)}};return(0,i.wB)((()=>e.initialData),(e=>{e&&r(e)}),{immediate:!0}),(0,i.sV)((()=>{"Enum"===t.valueType&&0===t.allowedValues.length&&s()})),{tagFormRef:a,formData:t,formRules:o,resetForm:n,submitForm:p,addAllowedValue:s,removeAllowedValue:d,handleValueTypeChange:u,getFormData:c,validate:m,Delete:Me.epd}}},ut=(0,xe.A)(dt,[["render",ot],["__scopeId","data-v-8ac0334c"]]),ct=ut,mt={name:"TagList",components:{TagForm:ct},data(){return{loading:!1,currentPage:1,pageSize:10,tagFormDialogVisible:!1,tagDialogMode:"add",currentTag:null,tagFormRef:null,searchForm:{keyword:"",category:"",status:""},allTableData:[],total:0}},computed:{tagDialogTitle(){return"add"===this.tagDialogMode?"新建标签":"编辑标签"}},methods:{handleSearch(){this.currentPage=1,console.log("搜索条件:",this.searchForm),this.fetchTags()},resetSearchForm(){this.searchForm={keyword:"",category:"",status:""},this.currentPage=1,this.fetchTags()},fetchTags(){this.loading=!0,console.log("Fetching tags with filters:",this.searchForm),setTimeout((()=>{this.allTableData=[{id:1,tagKey:"environment",tagValue:"production",category:"Business",status:"Active",description:"生产环境标签",updatedAt:"2024-03-20 10:00:00"},{id:2,tagKey:"priority",tagValue:"high",category:"Warning",status:"Active",description:"高优先级标签",updatedAt:"2024-03-20 11:00:00"},{id:3,tagKey:"error",tagValue:"critical",category:"Anomaly",status:"Deprecated",description:"严重错误标签",updatedAt:"2024-03-20 12:00:00"}],this.total=this.allTableData.length,this.loading=!1,console.log("Tags fetched (simulated).")}),500)},getCategoryTagType(e){const l={Business:"primary",Warning:"warning",Anomaly:"danger"};return l[e]||"info"},getStatusTagType(e){return"Active"===e?"success":"info"},handleAddTag(){this.tagDialogMode="add",this.currentTag=null,this.tagFormDialogVisible=!0,console.log("打开新建标签对话框"),this.$nextTick((()=>{this.$refs.tagFormRef?.resetForm()}))},handleEditTag(e){this.tagDialogMode="edit",this.currentTag=JSON.parse(JSON.stringify(e)),this.tagFormDialogVisible=!0,console.log("打开编辑标签对话框, 数据:",this.currentTag)},handleChangeStatus(e){const l="Active"===e.status?"Deprecated":"Active",a="Active"===l?"弃用":"激活";Pl.s.confirm(`确定要${a}标签 "${e.tagKey}" 吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const t=this.allTableData.findIndex((l=>l.id===e.id));-1!==t&&(this.allTableData[t].status=l,this.allTableData[t].updatedAt=(new Date).toLocaleString(),Nl.nk.success(`${a}成功`))})).catch((()=>{Nl.nk.info(`已取消${a}`)}))},handleDeleteTag(e){"Active"!==e.status?Pl.s.confirm(`确定要删除标签 "${e.tagKey}" 吗? 此操作不可恢复!`,"警告",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"error"}).then((()=>{console.log(`Deleting tag ${e.tagKey}`),this.allTableData=this.allTableData.filter((l=>l.id!==e.id)),Nl.nk.success("删除成功")})).catch((()=>{Nl.nk.info("已取消删除")})):Nl.nk.warning("活跃状态的标签不能删除，请先弃用。")},handleCloseTagFormDialog(){this.tagFormDialogVisible=!1,this.currentTag=null,console.log("关闭标签对话框")},handleSubmitTagForm(){console.log("触发表单提交，调用 TagForm 的 submitForm 方法"),this.$refs.tagFormRef?.submitForm()},handleSaveSuccess(e){if(console.log("TagList 收到 save-success 事件, 数据:",e),this.handleCloseTagFormDialog(),"add"===this.tagDialogMode)this.allTableData.unshift(e);else{const l=this.allTableData.findIndex((l=>l.id===e.id));-1!==l?this.allTableData.splice(l,1,e):this.allTableData.push(e)}Nl.nk.success(`标签 ${"add"===this.tagDialogMode?"创建":"更新"}成功!`)},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.fetchTags()},handleCurrentChange(e){this.currentPage=e,this.fetchTags()}},mounted(){this.fetchTags()}},pt=(0,xe.A)(mt,[["render",it],["__scopeId","data-v-6199d6cc"]]),gt=pt,vt={class:"tag-group-list-container"},bt={class:"operation-bar"},ht={class:"pagination-container"},kt={class:"dialog-footer"};function ft(e,l,a,t,n,r){const s=(0,i.g2)("el-input"),d=(0,i.g2)("el-form-item"),u=(0,i.g2)("el-button"),c=(0,i.g2)("el-form"),m=(0,i.g2)("el-table-column"),p=(0,i.g2)("el-tag"),g=(0,i.g2)("el-table"),v=(0,i.g2)("el-pagination"),b=(0,i.g2)("TagGroupForm"),h=(0,i.g2)("el-dialog"),k=(0,i.gN)("loading");return(0,i.uX)(),(0,i.CE)("div",vt,[(0,i.bF)(c,{inline:!0,model:t.searchForm,class:"search-form"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{label:"关键词"},{default:(0,i.k6)((()=>[(0,i.bF)(s,{modelValue:t.searchForm.keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>t.searchForm.keyword=e),placeholder:"分组名称/描述",clearable:""},null,8,["modelValue"])])),_:1}),(0,i.bF)(d,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,{type:"primary",onClick:t.handleSearch},{default:(0,i.k6)((()=>l[4]||(l[4]=[(0,i.eW)("搜索")]))),_:1},8,["onClick"]),(0,i.bF)(u,{onClick:t.resetSearchForm},{default:(0,i.k6)((()=>l[5]||(l[5]=[(0,i.eW)("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,i.Lk)("div",bt,[(0,i.bF)(u,{type:"primary",onClick:t.handleAddGroup},{default:(0,i.k6)((()=>l[6]||(l[6]=[(0,i.eW)("新建分组")]))),_:1},8,["onClick"])]),(0,i.bo)(((0,i.uX)(),(0,i.Wv)(g,{data:t.groupTableData,border:"",style:{width:"100%"}},{default:(0,i.k6)((()=>[(0,i.bF)(m,{prop:"groupName",label:"分组名称","min-width":"120"}),(0,i.bF)(m,{prop:"description",label:"描述","min-width":"200","show-overflow-tooltip":""}),(0,i.bF)(m,{prop:"rulesSummary",label:"标签规则","min-width":"250","show-overflow-tooltip":""},{default:(0,i.k6)((({row:e})=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.rulesSummary,((e,l)=>((0,i.uX)(),(0,i.Wv)(p,{key:l,size:"small",class:"rule-tag"},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e),1)])),_:2},1024)))),128))])),_:1}),(0,i.bF)(m,{prop:"creator",label:"创建者",width:"120"}),(0,i.bF)(m,{prop:"updatedAt",label:"更新时间",width:"160"}),(0,i.bF)(m,{label:"操作",width:"180",fixed:"right"},{default:(0,i.k6)((({row:e})=>[(0,i.bF)(u,{link:"",type:"primary",onClick:l=>t.handleEditGroup(e)},{default:(0,i.k6)((()=>l[7]||(l[7]=[(0,i.eW)("编辑")]))),_:2},1032,["onClick"]),(0,i.bF)(u,{link:"",type:"danger",onClick:l=>t.handleDeleteGroup(e)},{default:(0,i.k6)((()=>l[8]||(l[8]=[(0,i.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[k,t.loading]]),(0,i.Lk)("div",ht,[(0,i.bF)(v,{"current-page":t.currentPage,"onUpdate:currentPage":l[1]||(l[1]=e=>t.currentPage=e),"page-size":t.pageSize,"onUpdate:pageSize":l[2]||(l[2]=e=>t.pageSize=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),(0,i.bF)(h,{modelValue:t.groupFormDialogVisible,"onUpdate:modelValue":l[3]||(l[3]=e=>t.groupFormDialogVisible=e),title:t.dialogTitle,width:"70%","close-on-click-modal":!1,onClose:t.handleCloseDialog,"destroy-on-close":""},{footer:(0,i.k6)((()=>[(0,i.Lk)("span",kt,[(0,i.bF)(u,{onClick:t.handleCloseDialog},{default:(0,i.k6)((()=>l[9]||(l[9]=[(0,i.eW)("取消")]))),_:1},8,["onClick"]),(0,i.bF)(u,{type:"primary",onClick:t.handleSubmitForm},{default:(0,i.k6)((()=>l[10]||(l[10]=[(0,i.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,i.k6)((()=>[(0,i.bF)(b,{ref:"groupFormRef","initial-data":t.currentGroup,mode:t.dialogMode,onSaveSuccess:t.handleSaveSuccess},null,8,["initial-data","mode","onSaveSuccess"])])),_:1},8,["modelValue","title","onClose"])])}const yt={class:"rules-builder"},Ct={class:"rule-group-header"},wt={class:"rule-group-title"},Ft={class:"rule-group-actions"},Tt={class:"rule-conditions"},Vt={class:"value-input condition-item"},Lt={key:0,class:"rule-group-relation"},St={class:"add-rule-group"};function _t(e,l,a,t,n,r){const s=(0,i.g2)("el-input"),d=(0,i.g2)("el-form-item"),u=(0,i.g2)("el-button"),c=(0,i.g2)("el-option"),m=(0,i.g2)("el-option-group"),p=(0,i.g2)("el-select"),g=(0,i.g2)("el-input-number"),v=(0,i.g2)("Delete"),b=(0,i.g2)("el-icon"),h=(0,i.g2)("el-radio"),k=(0,i.g2)("el-radio-group"),f=(0,i.g2)("Plus"),y=(0,i.g2)("el-form");return(0,i.uX)(),(0,i.Wv)(y,{ref:"formRef",model:t.formData,rules:t.formRules,"label-width":"120px",class:"tag-group-form"},{default:(0,i.k6)((()=>[(0,i.bF)(d,{label:"分组名称",prop:"groupName"},{default:(0,i.k6)((()=>[(0,i.bF)(s,{modelValue:t.formData.groupName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.formData.groupName=e),placeholder:"请输入分组名称"},null,8,["modelValue"])])),_:1}),(0,i.bF)(d,{label:"描述",prop:"description"},{default:(0,i.k6)((()=>[(0,i.bF)(s,{modelValue:t.formData.description,"onUpdate:modelValue":l[1]||(l[1]=e=>t.formData.description=e),type:"textarea",placeholder:"请输入分组描述"},null,8,["modelValue"])])),_:1}),(0,i.bF)(d,{label:"标签规则",prop:"rules",class:"rules-container"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",yt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.formData.rules,((e,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a,class:"rule-group"},[(0,i.Lk)("div",Ct,[(0,i.Lk)("span",wt,"规则组 "+(0,o.v_)(a+1),1),(0,i.Lk)("div",Ft,[(0,i.bF)(u,{type:"primary",link:"",onClick:e=>t.addCondition(a)},{default:(0,i.k6)((()=>l[2]||(l[2]=[(0,i.eW)("添加条件")]))),_:2},1032,["onClick"]),(0,i.bF)(u,{type:"danger",link:"",onClick:e=>t.removeRuleGroup(a)},{default:(0,i.k6)((()=>l[3]||(l[3]=[(0,i.eW)("删除组")]))),_:2},1032,["onClick"])])]),(0,i.Lk)("div",Tt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.conditions,((e,l)=>((0,i.uX)(),(0,i.CE)("div",{key:l,class:"rule-condition"},[(0,i.bF)(p,{modelValue:e.tagKey,"onUpdate:modelValue":l=>e.tagKey=l,filterable:"",placeholder:"选择标签",onChange:e=>t.handleTagChange(a,l),class:"condition-item"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.tagOptions,(e=>((0,i.uX)(),(0,i.Wv)(m,{key:e.category,label:e.label},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.tags,(e=>((0,i.uX)(),(0,i.Wv)(c,{key:e.tagKey,label:e.description,value:e.tagKey},null,8,["label","value"])))),128))])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),(0,i.bF)(p,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,placeholder:"选择操作符",class:"condition-item operator-select"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.getOperators(e.tagKey),(e=>((0,i.uX)(),(0,i.Wv)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,i.Lk)("div",Vt,["String"===t.getTagType(e.tagKey)?((0,i.uX)(),(0,i.Wv)(s,{key:0,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"输入值"},null,8,["modelValue","onUpdate:modelValue"])):"Number"===t.getTagType(e.tagKey)?((0,i.uX)(),(0,i.Wv)(g,{key:1,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,controls:!1,placeholder:"输入数值"},null,8,["modelValue","onUpdate:modelValue"])):"Boolean"===t.getTagType(e.tagKey)?((0,i.uX)(),(0,i.Wv)(p,{key:2,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"选择值"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{label:"是",value:!0}),(0,i.bF)(c,{label:"否",value:!1})])),_:2},1032,["modelValue","onUpdate:modelValue"])):"Enum"===t.getTagType(e.tagKey)?((0,i.uX)(),(0,i.Wv)(p,{key:3,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"选择值"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.getEnumOptions(e.tagKey),(e=>((0,i.uX)(),(0,i.Wv)(c,{key:e.key,label:e.value,value:e.key},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.Q3)("",!0)]),(0,i.bF)(u,{type:"danger",link:"",circle:"",onClick:e=>t.removeCondition(a,l)},{default:(0,i.k6)((()=>[(0,i.bF)(b,null,{default:(0,i.k6)((()=>[(0,i.bF)(v)])),_:1})])),_:2},1032,["onClick"])])))),128))]),e.conditions.length>1?((0,i.uX)(),(0,i.CE)("div",Lt,[(0,i.bF)(k,{modelValue:e.relation,"onUpdate:modelValue":l=>e.relation=l},{default:(0,i.k6)((()=>[(0,i.bF)(h,{label:"AND"},{default:(0,i.k6)((()=>l[4]||(l[4]=[(0,i.eW)("满足所有条件")]))),_:1}),(0,i.bF)(h,{label:"OR"},{default:(0,i.k6)((()=>l[5]||(l[5]=[(0,i.eW)("满足任一条件")]))),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])):(0,i.Q3)("",!0)])))),128)),(0,i.Lk)("div",St,[(0,i.bF)(u,{type:"primary",plain:"",onClick:t.addRuleGroup},{default:(0,i.k6)((()=>[(0,i.bF)(b,null,{default:(0,i.k6)((()=>[(0,i.bF)(f)])),_:1}),l[6]||(l[6]=(0,i.eW)("添加规则组 "))])),_:1},8,["onClick"]),l[7]||(l[7]=(0,i.Lk)("div",{class:"form-tip"},' 多个规则组之间为"或"关系，组内条件可选"与"或"或"关系 ',-1))])])])),_:1})])),_:1},8,["model","rules"])}const Dt=[{tagKey:"business.userType",description:"用户类型",category:"Business",valueType:"Enum",allowedValues:[{key:"VIP",value:"VIP会员"},{key:"NORMAL",value:"普通用户"}]},{tagKey:"business.vipLevel",description:"VIP等级",category:"Business",valueType:"Number"},{tagKey:"warning.orderRisk",description:"订单风险等级",category:"Warning",valueType:"Enum",allowedValues:[{key:"high",value:"高风险"},{key:"medium",value:"中风险"},{key:"low",value:"低风险"}]},{tagKey:"error.paymentCount",description:"支付失败次数",category:"Anomaly",valueType:"Number"}],Mt={String:[{label:"等于",value:"="},{label:"不等于",value:"!="},{label:"包含",value:"contains"},{label:"不包含",value:"not_contains"}],Number:[{label:"等于",value:"="},{label:"不等于",value:"!="},{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="}],Boolean:[{label:"等于",value:"="},{label:"不等于",value:"!="}],Enum:[{label:"等于",value:"="},{label:"不等于",value:"!="},{label:"属于",value:"in"},{label:"不属于",value:"not_in"}]},At={name:"TagGroupForm",components:{Delete:Me.epd,Plus:Me.FWt},props:{initialData:{type:Object,default:null},mode:{type:String,default:"add"}},emits:["save-success"],setup(e,{emit:l}){const a=(0,_e.KR)(null),t=(0,_e.Kh)({groupName:"",description:"",rules:[{conditions:[r()],relation:"AND"}]}),o={groupName:[{required:!0,message:"请输入分组名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入分组描述",trigger:"blur"},{max:200,message:"最多 200 个字符",trigger:"blur"}],rules:[{validator:s,trigger:"change"}]},n=(0,i.EW)((()=>{const e={};return Dt.forEach((l=>{e[l.category]||(e[l.category]={category:l.category,label:`${l.category} 标签`,tags:[]}),e[l.category].tags.push(l)})),Object.values(e)}));function r(){return{tagKey:"",operator:"",value:null}}function s(e,l,a){if(t.rules.length){for(const e of t.rules){if(!e.conditions.length)return void a(new Error("规则组不能为空"));for(const l of e.conditions)if(!l.tagKey||!l.operator||null===l.value||""===l.value)return void a(new Error("请完善所有规则条件"))}a()}else a(new Error("至少需要一个规则组"))}function d(e){const l=Dt.find((l=>l.tagKey===e));return l?l.valueType:null}function u(e){const l=d(e);return l?Mt[l]:[]}function c(e){const l=Dt.find((l=>l.tagKey===e));return l&&"Enum"===l.valueType?l.allowedValues:[]}function m(e,l){const a=t.rules[e].conditions[l];a.operator="",a.value=null}function p(){t.rules.push({conditions:[r()],relation:"AND"})}function g(e){1!==t.rules.length?t.rules.splice(e,1):Nl.nk.warning("至少保留一个规则组")}function v(e){t.rules[e].conditions.push(r())}function b(e,l){const a=t.rules[e].conditions;1!==a.length?a.splice(l,1):Nl.nk.warning("至少保留一个条件")}async function h(){if(a.value)try{await a.value.validate();const i=t.rules.map((e=>e.conditions.map((e=>{const l=Dt.find((l=>l.tagKey===e.tagKey));let a=e.value;if("Enum"===l?.valueType){const t=l.allowedValues.find((l=>l.key===e.value));a=t?.value||e.value}return`${e.tagKey} ${e.operator} ${a}`})).join("AND"===e.relation?" 且 ":" 或 "))),o={id:"edit"===e.mode?e.initialData.id:Date.now(),groupName:t.groupName,description:t.description,rules:t.rules,rulesSummary:i,creator:"CurrentUser",createdAt:"edit"===e.mode?e.initialData.createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};l("save-success",o)}catch(i){console.error("Form validation failed:",i)}}function k(){a.value&&a.value.resetFields(),t.rules=[{conditions:[r()],relation:"AND"}]}function f(e){if(!e)return t.groupName="",t.description="",void(t.rules=[{conditions:[r()],relation:"AND"}]);t.groupName=e.groupName||"",t.description=e.description||"",t.rules=e.rules||[{conditions:[r()],relation:"AND"}]}return(0,i.wB)((()=>e.initialData),(e=>{if(void 0!==e&&null!==e)try{const l="string"===typeof e?JSON.parse(e):e;f(l)}catch(l){console.error("Failed to parse initial data:",l),Nl.nk.error("初始化数据格式错误")}}),{immediate:!0}),{formRef:a,formData:t,formRules:o,tagOptions:n,getTagType:d,getOperators:u,getEnumOptions:c,handleTagChange:m,addRuleGroup:p,removeRuleGroup:g,addCondition:v,removeCondition:b,submitForm:h,resetForm:k}}},Et=(0,xe.A)(At,[["render",_t],["__scopeId","data-v-41d147b0"]]),Wt=Et,xt={name:"TagGroupList",components:{TagGroupForm:Wt},setup(){const e=(0,_e.KR)(!1),l=(0,_e.KR)(1),a=(0,_e.KR)(10),t=(0,_e.KR)(0),o=(0,_e.KR)([]),n=(0,_e.Kh)({keyword:""}),r=(0,_e.KR)(!1),s=(0,_e.KR)("add"),d=(0,_e.KR)(null),u=(0,_e.KR)(null),c=(0,i.EW)((()=>"add"===s.value?"新建标签分组":"编辑标签分组")),m=async()=>{e.value=!0;try{await new Promise((e=>setTimeout(e,500))),o.value=[{id:1,groupName:"VIP用户分组",description:"所有VIP等级的用户分组",rulesSummary:["business.userType = VIP","business.vipLevel >= 3"],creator:"admin",createdAt:"2024-03-20 10:00:00",updatedAt:"2024-03-20 10:00:00"},{id:2,groupName:"高风险订单",description:"需要特别关注的高风险订单分组",rulesSummary:["warning.orderRisk = high","error.paymentCount > 3"],creator:"admin",createdAt:"2024-03-20 11:00:00",updatedAt:"2024-03-20 11:00:00"}],t.value=o.value.length}catch(l){Nl.nk.error("获取分组列表失败"),console.error("Failed to fetch groups:",l)}finally{e.value=!1}},p=()=>{l.value=1,m()},g=()=>{n.keyword="",l.value=1,m()},v=()=>{s.value="add",d.value=null,r.value=!0},b=e=>{s.value="edit",d.value=JSON.parse(JSON.stringify(e)),r.value=!0},h=e=>{Pl.s.confirm(`确定要删除分组"${e.groupName}"吗？此操作不可恢复！`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{await new Promise((e=>setTimeout(e,500))),o.value=o.value.filter((l=>l.id!==e.id)),t.value=o.value.length,Nl.nk.success("删除成功")}catch(l){Nl.nk.error("删除失败"),console.error("Failed to delete group:",l)}})).catch((()=>{Nl.nk.info("已取消删除")}))},k=()=>{r.value=!1,d.value=null},f=()=>{u.value?.submitForm()},y=e=>{if(k(),"add"===s.value)o.value.unshift(e);else{const l=o.value.findIndex((l=>l.id===e.id));-1!==l&&(o.value[l]=e)}t.value=o.value.length,Nl.nk.success(`分组${"add"===s.value?"创建":"更新"}成功`)},C=e=>{a.value=e,l.value=1,m()},w=e=>{l.value=e,m()};return(0,i.sV)((()=>{m()})),{loading:e,currentPage:l,pageSize:a,total:t,groupTableData:o,searchForm:n,groupFormDialogVisible:r,dialogMode:s,currentGroup:d,groupFormRef:u,dialogTitle:c,handleSearch:p,resetSearchForm:g,handleAddGroup:v,handleEditGroup:b,handleDeleteGroup:h,handleCloseDialog:k,handleSubmitForm:f,handleSaveSuccess:y,handleSizeChange:C,handleCurrentChange:w}}},Nt=(0,xe.A)(xt,[["render",ft],["__scopeId","data-v-9c8d0fde"]]),Pt=Nt,Ot=[{path:"/",name:"Home",component:qe,meta:{title:"首页",icon:"el-icon-s-home"}},{path:"/overseas",name:"Overseas",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"海外操作",icon:"el-icon-ship"}},{path:"/lastmile",name:"LastMile",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"尾程仓管",icon:"el-icon-office-building"},children:[{path:"products",name:"Products",component:qe,meta:{title:"商品管理",parentTitle:"尾程仓管"}},{path:"appointment",name:"Appointment",component:()=>a.e(769).then(a.bind(a,9769)),meta:{title:"预约出库新",parentTitle:"尾程仓管"}},{path:"dispatch",name:"Dispatch",component:qe,meta:{title:"现场调度",parentTitle:"尾程仓管"}}]},{path:"/appointment",name:"AppointmentMain",component:qe,meta:{title:"预约出库",icon:"el-icon-date"}},{path:"/inventory",name:"Inventory",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"库存管理",icon:"el-icon-box"},children:[]},{path:"/dockyard",name:"DockyardView",component:()=>a.e(582).then(a.bind(a,7582)),meta:{title:"码头停车图",icon:"el-icon-location"}},{path:"/fbx",name:"FBXView",component:()=>a.e(756).then(a.bind(a,3756)),meta:{title:"FBX预约信息",icon:"el-icon-document"}},{path:"/newfbx",name:"NewFBXView",component:()=>a.e(89).then(a.bind(a,4089)),meta:{title:"FBX管理",icon:"el-icon-tickets"}},{path:"/tms",name:"TMSView",component:()=>a.e(279).then(a.bind(a,5279)),meta:{title:"TMS系统",icon:"el-icon-truck"}},{path:"/container",name:"ContainerView",component:()=>a.e(756).then(a.bind(a,3756)),meta:{title:"海柜管理",icon:"el-icon-suitcase"}},{path:"/dispatch/outgoing-batch",name:"OutgoingBatchDirectView",component:()=>a.e(279).then(a.bind(a,5279)),meta:{title:"出库批次",parentTitle:"调度管理",icon:"el-icon-box"}},{path:"/dispatch/delivery-trains",name:"DeliveryTrainsView",component:()=>Promise.all([a.e(628),a.e(998),a.e(522)]).then(a.bind(a,9651)),meta:{title:"派送车次",parentTitle:"调度管理",icon:"el-icon-truck"}},{path:"/tms/delivery-train-detail/:id",name:"DeliveryTrainDetailView",component:()=>Promise.all([a.e(628),a.e(599)]).then(a.bind(a,9650)),meta:{title:"车次详情",parentTitle:"TMS系统",icon:"el-icon-document"}},{path:"/logistics-example",name:"LogisticsExampleView",component:()=>a.e(380).then(a.bind(a,8380)),meta:{title:"物流组件示例",icon:"el-icon-s-order"}},{path:"/supplier",name:"Supplier",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"供应商门户",icon:"el-icon-s-shop"},children:[{path:"order",name:"SupplierOrder",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"订单管理",parentTitle:"供应商门户"},children:[{path:"seas-order",name:"SupplierSeasOrder",component:()=>Promise.all([a.e(628),a.e(998),a.e(317)]).then(a.bind(a,1812)),meta:{title:"海柜订单",parentTitle:"订单管理"}},{path:"delivery-order",name:"SupplierDeliveryOrder",component:()=>Promise.all([a.e(628),a.e(998),a.e(569)]).then(a.bind(a,3200)),meta:{title:"派送订单",parentTitle:"订单管理"}}]},{path:"appointment-management",name:"SupplierAppointmentManagement",component:Il,meta:{title:"预约管理",parentTitle:"供应商门户"}}]},{path:"/messages",name:"Messages",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"消息管理",icon:"message"},children:[{path:"",name:"MessageList",component:()=>a.e(211).then(a.bind(a,4211)),meta:{title:"消息列表",parentTitle:"消息管理"}},{path:"detail",name:"MessageDetail",component:()=>a.e(825).then(a.bind(a,9825)),meta:{title:"消息详情",parentTitle:"消息管理"}},{path:"manage",name:"MessageManage",component:()=>a.e(595).then(a.bind(a,8595)),meta:{title:"消息管理",parentTitle:"消息管理"}}]},{path:"/admin",name:"Admin",component:()=>a.e(870).then(a.bind(a,7870)),redirect:"/admin/supplier-management",meta:{title:"后台管理",icon:"el-icon-setting"},children:[{path:"supplier-management",name:"AdminSupplierManagement",component:()=>a.e(832).then(a.bind(a,8832)),meta:{title:"供应商管理",parentTitle:"后台管理"}},{path:"role-management",name:"AdminRoleManagement",component:()=>a.e(428).then(a.bind(a,7428)),meta:{title:"角色管理",parentTitle:"后台管理"}},{path:"operation-log",name:"AdminOperationLog",component:()=>a.e(903).then(a.bind(a,5903)),meta:{title:"操作日志",parentTitle:"后台管理"}},{path:"vehicle-management",name:"AdminVehicleManagement",component:()=>a.e(443).then(a.bind(a,4443)),meta:{title:"车辆档案",parentTitle:"后台管理"}},{path:"driver-management",name:"AdminDriverManagement",component:()=>a.e(926).then(a.bind(a,8926)),meta:{title:"驾驶员管理",parentTitle:"后台管理"}},{path:"gps-tracking",name:"AdminGpsTracking",component:()=>a.e(42).then(a.bind(a,42)),meta:{title:"GPS 实时监控",parentTitle:"后台管理"}},{path:"alert-management",name:"AdminAlertManagement",component:()=>a.e(930).then(a.bind(a,1930)),meta:{title:"异常预警",parentTitle:"后台管理"}},{path:"tag-management",name:"AdminTagManagement",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"标签管理",parentTitle:"后台管理"},children:[{path:"list",name:"TagList",component:()=>a.e(284).then(a.bind(a,9903)),meta:{title:"标签列表",parentTitle:"标签管理"}},{path:"groups",name:"TagGroupList",component:Pt,meta:{title:"标签分组",parentTitle:"标签管理"}},{path:"library",name:"TagLibrary",component:()=>a.e(284).then(a.bind(a,9903)),meta:{title:"标签库",parentTitle:"标签管理"}},{path:"rules",name:"TagRules",component:()=>a.e(284).then(a.bind(a,9903)),meta:{title:"规则配置",parentTitle:"标签管理"}},{path:"dashboard",name:"TagDashboard",component:()=>a.e(284).then(a.bind(a,9903)),meta:{title:"数据看板",parentTitle:"标签管理"}}]},{path:"tag-management-new",name:"AdminTagManagementNew",component:()=>a.e(870).then(a.bind(a,7870)),meta:{title:"标签管理新",parentTitle:"后台管理"},children:[{path:"list",name:"TagListNew",component:()=>a.e(284).then(a.bind(a,9903)),meta:{title:"标签列表",parentTitle:"标签管理新"}}]},{path:"quote-management",name:"QuoteManagement",meta:{title:"报价管理",icon:"el-icon-document"},children:[{path:"amazon-warehouse",name:"AmazonWarehouseManagement",component:()=>a.e(718).then(a.bind(a,3718)),meta:{title:"仓库管理"}},{path:"fixed-quote",name:"AdminFixedQuote",component:()=>a.e(273).then(a.bind(a,6273)),meta:{title:"固定报价",parentTitle:"报价管理"}},{path:"inquiry",name:"AdminInquiry",component:()=>a.e(367).then(a.bind(a,5367)),meta:{title:"单次询价",parentTitle:"报价管理"}},{path:"bidding",name:"AdminBidding",component:()=>a.e(888).then(a.bind(a,4888)),meta:{title:"竞价管理",parentTitle:"报价管理"}},{path:"comparison-history",name:"AdminQuoteComparisonHistory",component:()=>a.e(557).then(a.bind(a,2557)),meta:{title:"对比与历史",parentTitle:"报价管理"}}]},{path:"tags",name:"TagManagement",component:gt,meta:{title:"标签管理",parentTitle:"后台管理"}},{path:"tag-groups",name:"TagGroupManagement",component:Pt,meta:{title:"标签分组",parentTitle:"后台管理"}},{path:"rating-management",name:"AdminRatingManagement",component:()=>a.e(583).then(a.bind(a,9583)),redirect:"/admin/rating-management/dashboard",meta:{title:"评分管理",parentTitle:"后台管理"},children:[{path:"dashboard",name:"AdminRatingDashboard",component:()=>a.e(822).then(a.bind(a,9822)),meta:{title:"评分看板",parentTitle:"评分管理"}},{path:"indicator-config",name:"AdminRatingIndicatorConfig",component:()=>a.e(714).then(a.bind(a,7714)),meta:{title:"指标配置",parentTitle:"评分管理"}},{path:"rules-config",name:"AdminRatingRulesConfig",component:()=>a.e(236).then(a.bind(a,3236)),meta:{title:"规则配置",parentTitle:"评分管理"}}]},{path:"contract-management",name:"AdminContractManagement",component:()=>a.e(583).then(a.bind(a,9583)),redirect:"/admin/contract-management/list",meta:{title:"合同管理",parentTitle:"后台管理"},children:[{path:"list",name:"AdminContractList",component:()=>a.e(944).then(a.bind(a,3944)),meta:{title:"合同列表",parentTitle:"合同管理"}},{path:"templates",name:"AdminContractTemplates",component:()=>a.e(647).then(a.bind(a,2647)),meta:{title:"合同模板",parentTitle:"合同管理"}}]},{path:"message-management",name:"MessageManagement",component:()=>a.e(595).then(a.bind(a,8595)),meta:{title:"消息管理",parentTitle:"后台管理"}}]},{path:"/work-order",name:"WorkOrder",component:()=>a.e(870).then(a.bind(a,7870)),redirect:"/work-order/list",meta:{title:"工单管理",icon:"el-icon-document"},children:[{path:"command",name:"CommandWorkOrderList",component:()=>a.e(1).then(a.bind(a,7001)),meta:{title:"指令工单"}},{path:"command/create",name:"CommandWorkCreate",component:()=>a.e(328).then(a.bind(a,8328)),meta:{title:"创建指令工单",hidden:!0,activeMenu:"/work-order/command"}},{path:"command/detail/:id",name:"CommandWorkDetail",component:()=>a.e(991).then(a.bind(a,5991)),meta:{title:"指令工单详情",hidden:!0}},{path:"command/:id/process",name:"CommandWorkProcess",component:()=>a.e(991).then(a.bind(a,5991)),meta:{title:"处理指令工单",hidden:!0}},{path:"exception",name:"ExceptionWorkOrderList",component:()=>a.e(445).then(a.bind(a,8445)),meta:{title:"异常工单"}},{path:"alert",name:"AlertWorkOrderList",component:()=>a.e(56).then(a.bind(a,8056)),meta:{title:"订单预警"}},{path:"value-added",name:"ValueAddedWorkOrderList",component:()=>a.e(673).then(a.bind(a,8673)),meta:{title:"增值服务"}},{path:"create",name:"WorkOrderCreate",component:()=>a.e(128).then(a.bind(a,1128)),meta:{title:"创建工单",hidden:!0,activeMenu:"/work-order/exception"}},{path:"detail/:id",name:"WorkOrderDetail",component:()=>a.e(853).then(a.bind(a,9853)),meta:{title:"工单详情",hidden:!0}},{path:":id/process",name:"WorkOrderProcess",component:()=>a.e(853).then(a.bind(a,9853)),meta:{title:"处理工单",hidden:!0}},{path:"analysis",name:"WorkOrderAnalysis",component:()=>a.e(777).then(a.bind(a,8777)),meta:{title:"工单分析"}}]},{path:"/table-demo",name:"tableDemo",component:Za}],Rt=(0,De.aE)({history:(0,De.LA)("/"),routes:Ot});Rt.beforeEach(((e,l,a)=>{if(document.title=e.meta.title?`${e.meta.title} - 物流管理系统`:"物流管理系统",e.matched.some((e=>e.meta.requiresAuth))){const l=!0;l?a():a({path:"/login",query:{redirect:e.fullPath}})}else a()}));const Kt=Rt;var Ut=a(6278);const It=(0,Ut.y$)({state:{tableData:[],currentPage:1,pageSize:20,total:0,filters:[],sortSettings:[],groupSettings:{level1:"",level2:"",level3:""},fieldSettings:[]},getters:{paginatedData(e){const l=(e.currentPage-1)*e.pageSize,a=l+e.pageSize;return e.tableData.slice(l,a)}},mutations:{SET_TABLE_DATA(e,l){e.tableData=l,e.total=l.length},SET_CURRENT_PAGE(e,l){e.currentPage=l},SET_PAGE_SIZE(e,l){e.pageSize=l},SET_FILTERS(e,l){e.filters=l},SET_SORT_SETTINGS(e,l){e.sortSettings=l},SET_GROUP_SETTINGS(e,l){e.groupSettings=l},SET_FIELD_SETTINGS(e,l){e.fieldSettings=l},setGroupedData(e,l){e.tableData=l,e.total=l.length}},actions:{loadTableData({commit:e}){const l=Array(100).fill().map(((e,l)=>({id:l+1,containerNo:`CONT${1e5+l}`,waybillNo:`WB${2e5+l}`,customerService:["张三","李四","王五"][Math.floor(3*Math.random())],originalAddress:`原地址 ${l+1}`,address:`地址 ${l+1}`,city:["洛杉矶","纽约","芝加哥","休斯顿"][Math.floor(4*Math.random())],state:["CA","NY","IL","TX"][Math.floor(4*Math.random())],zipCode:Math.floor(1e4+9e4*Math.random()).toString(),deliveryArea:["东区","西区","南区","北区"][Math.floor(4*Math.random())],warehouseCode:"WH"+(l%10+1),channel:["空运","海运","陆运"][Math.floor(3*Math.random())],boxCount:Math.floor(1+10*Math.random()),weight:Math.floor(100+900*Math.random()),volume:(10*Math.random()).toFixed(2),palletCount:Math.floor(1+5*Math.random()),location:`A${Math.floor(1+9*Math.random())}-${Math.floor(1+9*Math.random())}`,eta:new Date(Date.now()-864e5*Math.floor(30*Math.random())).toISOString().split("T")[0],pickupTime:new Date(Date.now()-864e5*Math.floor(20*Math.random())).toISOString().split("T")[0],arrivalTime:new Date(Date.now()-864e5*Math.floor(15*Math.random())).toISOString().split("T")[0],unloadingTime:new Date(Date.now()-864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],appointmentNo:`AP${3e5+l}`,deliveryAppointmentTime:new Date(Date.now()+864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],pcNo:`PC${4e5+l}`,status:["pending","appointed","phone","email","platform","completed","cancelled"][Math.floor(7*Math.random())],tags:Math.random()>.5?["加急","特殊处理","易碎品","重物","需要叉车"].slice(0,Math.floor(3*Math.random())+1):[],memo:Math.random()>.7?`备注信息 ${l+1}`:"",followUpRecord:Math.random()>.8?`跟进记录 ${l+1}`:""})));e("SET_TABLE_DATA",l)},applyFilters({state:e,commit:l}){if(!e.filters||0===e.filters.length)return;const a=Array(100).fill().map(((e,l)=>({id:l+1,containerNo:`CONT${1e5+l}`,waybillNo:`WB${2e5+l}`,customerService:["张三","李四","王五"][Math.floor(3*Math.random())],originalAddress:`原地址 ${l+1}`,address:`地址 ${l+1}`,city:["洛杉矶","纽约","芝加哥","休斯顿"][Math.floor(4*Math.random())],state:["CA","NY","IL","TX"][Math.floor(4*Math.random())],zipCode:Math.floor(1e4+9e4*Math.random()).toString(),deliveryArea:["东区","西区","南区","北区"][Math.floor(4*Math.random())],warehouseCode:"WH"+(l%10+1),channel:["空运","海运","陆运"][Math.floor(3*Math.random())],boxCount:Math.floor(1+10*Math.random()),weight:Math.floor(100+900*Math.random()),volume:(10*Math.random()).toFixed(2),palletCount:Math.floor(1+5*Math.random()),location:`A${Math.floor(1+9*Math.random())}-${Math.floor(1+9*Math.random())}`,eta:new Date(Date.now()-864e5*Math.floor(30*Math.random())).toISOString().split("T")[0],pickupTime:new Date(Date.now()-864e5*Math.floor(20*Math.random())).toISOString().split("T")[0],arrivalTime:new Date(Date.now()-864e5*Math.floor(15*Math.random())).toISOString().split("T")[0],unloadingTime:new Date(Date.now()-864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],appointmentNo:`AP${3e5+l}`,deliveryAppointmentTime:new Date(Date.now()+864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],pcNo:`PC${4e5+l}`,status:["pending","appointed","phone","email","platform","completed","cancelled"][Math.floor(7*Math.random())],tags:Math.random()>.5?["加急","特殊处理","易碎品","重物","需要叉车"].slice(0,Math.floor(3*Math.random())+1):[],memo:Math.random()>.7?`备注信息 ${l+1}`:"",followUpRecord:Math.random()>.8?`跟进记录 ${l+1}`:""}))),t=a.filter((l=>e.filters.every((e=>{if(!e.field||!e.operator||void 0===e.value||""===e.value)return!0;const a=l[e.field],t=e.value;switch(e.operator){case"eq":return a==t;case"neq":return a!=t;case"contains":return String(a).includes(String(t));case"not_contains":return!String(a).includes(String(t));case"gt":return Number(a)>Number(t);case"lt":return Number(a)<Number(t);default:return!0}}))));l("SET_TABLE_DATA",t),l("SET_CURRENT_PAGE",1)},applySort({state:e,commit:l}){if(!e.sortSettings||0===e.sortSettings.length)return;const a=[...e.tableData];a.sort(((l,a)=>{for(const t of e.sortSettings){if(!t.field||!t.direction)continue;const e=l[t.field],i=a[t.field];if(e!==i)return"asc"===t.direction?"string"===typeof e&&"string"===typeof i?e.localeCompare(i):e>i?1:-1:"string"===typeof e&&"string"===typeof i?i.localeCompare(e):e<i?1:-1}return 0})),l("SET_TABLE_DATA",a),l("SET_CURRENT_PAGE",1)},applyGroup({state:e,commit:l},{groupFields:a}){if(!a||0===a.length)return void l("setGroupedData",[]);const t=e=>{const l={containerNo:"集装箱号",waybillNo:"运单号",customerService:"客服",originalAddress:"原始地址",address:"地址",city:"City",state:"State",zipCode:"Zip_Code",email:"邮箱",phone:"电话",deliveryArea:"派送区域",warehouseCode:"仓库代码",channel:"渠道",boxCount:"箱数",weight:"重量",volume:"方数",palletCount:"板数",location:"库位",eta:"ETA",pickupTime:"提柜时间",arrivalTime:"抵仓时间",expectedUnloadingTime:"预计拆柜时间",unloadingTime:"拆柜完成时间",appointmentNo:"预约号",deliveryAppointmentTime:"派送预约时间",pcNo:"PC号",status:"预约状态",tags:"标签",followUpRecord:"跟进记录",memo:"备注",internalNote:"内部备注",lianyuPrice:"报价(联宇)",shippingMark:"唛头",inquiryPrice:"询价平台报价"};return l[e]||e},i=[...e.tableData],o=[],n=new Map;i.forEach((e=>{let l=o,i="",r=null;for(let o=0;o<a.length;o++){const s=a[o],d=e[s],u=t(s),c=`${i}/${s}:${d}`;let m=l.find((e=>e.groupKey===c));m||(m={id:`group-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,groupKey:c,groupName:`${u}: ${d||"空"}`,isGroup:!0,groupLevel:o,children:[],items:[],count:0,totalWeight:0,totalVolume:0,totalBoxCount:0,containerNoSummary:"",waybillNoSummary:""},m.groupClass=0===o?"level-1-group":1===o?"level-2-group":"level-3-group",l.push(m),n.set(c,m)),m.items.push(e),m.count=m.items.length,m.totalWeight+=parseFloat(e.weight||0),m.totalVolume+=parseFloat(e.volume||0),m.totalBoxCount+=parseInt(e.boxCount||0,10),m.containerNoSummary=`共 ${m.count} 条记录，总重量: ${m.totalWeight.toFixed(2)}kg`,m.waybillNoSummary=`总箱数: ${m.totalBoxCount}，总体积: ${m.totalVolume.toFixed(2)}m³`,i=c,l=m.children,r=m}if(r){const l={...e,parentGroupKey:r.groupKey};r.children.push(l)}}));const r=[];function s(e,l=0){e.forEach((e=>{r.push(e),e.items&&e.items.length>0&&e.items.forEach((l=>{const a={...l,dataParentGroupKey:e.groupKey};r.push(a)}));const a=e.children.filter((e=>e.isGroup));a.length>0&&s(a,l+1)}))}s(o),l("setGroupedData",r)},applyFieldSettings({state:e}){console.log("应用字段配置:",e.fieldSettings)},searchData({commit:e},l){const a=Array(100).fill().map(((e,l)=>({id:l+1,containerNo:`CONT${1e5+l}`,waybillNo:`WB${2e5+l}`,customerService:["张三","李四","王五"][Math.floor(3*Math.random())],originalAddress:`原地址 ${l+1}`,address:`地址 ${l+1}`,city:["洛杉矶","纽约","芝加哥","休斯顿"][Math.floor(4*Math.random())],state:["CA","NY","IL","TX"][Math.floor(4*Math.random())],zipCode:Math.floor(1e4+9e4*Math.random()).toString(),deliveryArea:["东区","西区","南区","北区"][Math.floor(4*Math.random())],warehouseCode:"WH"+(l%10+1),channel:["空运","海运","陆运"][Math.floor(3*Math.random())],boxCount:Math.floor(1+10*Math.random()),weight:Math.floor(100+900*Math.random()),volume:(10*Math.random()).toFixed(2),palletCount:Math.floor(1+5*Math.random()),location:`A${Math.floor(1+9*Math.random())}-${Math.floor(1+9*Math.random())}`,eta:new Date(Date.now()-864e5*Math.floor(30*Math.random())).toISOString().split("T")[0],pickupTime:new Date(Date.now()-864e5*Math.floor(20*Math.random())).toISOString().split("T")[0],arrivalTime:new Date(Date.now()-864e5*Math.floor(15*Math.random())).toISOString().split("T")[0],unloadingTime:new Date(Date.now()-864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],appointmentNo:`AP${3e5+l}`,deliveryAppointmentTime:new Date(Date.now()+864e5*Math.floor(10*Math.random())).toISOString().split("T")[0],pcNo:`PC${4e5+l}`,status:["pending","appointed","phone","email","platform","completed","cancelled"][Math.floor(7*Math.random())],tags:Math.random()>.5?["加急","特殊处理","易碎品","重物","需要叉车"].slice(0,Math.floor(3*Math.random())+1):[],memo:Math.random()>.7?`备注信息 ${l+1}`:"",followUpRecord:Math.random()>.8?`跟进记录 ${l+1}`:""})));let t=[...a];if(l.dateRange&&2===l.dateRange.length&&l.dateType){const e=new Date(l.dateRange[0]),a=new Date(l.dateRange[1]);t=t.filter((t=>{const i=new Date(t[l.dateType]);return i>=e&&i<=a}))}if(l.searchNumber&&l.searchType&&(t=t.filter((e=>String(e[l.searchType]).includes(l.searchNumber)))),l.fuzzySearchText){const e=l.fuzzySearchText.toLowerCase();t=t.filter((l=>l.memo&&l.memo.toLowerCase().includes(e)||l.followUpRecord&&l.followUpRecord.toLowerCase().includes(e)||l.zipCode&&l.zipCode.toLowerCase().includes(e)||l.containerNo&&l.containerNo.toLowerCase().includes(e)||l.waybillNo&&l.waybillNo.toLowerCase().includes(e)))}e("SET_TABLE_DATA",t),e("SET_CURRENT_PAGE",1)}}});var Xt=a(5817),zt=(a(4188),a(7487));const Bt=()=>{const e=window.console.error;window.console.error=function(){arguments[0]&&"string"===typeof arguments[0]&&(arguments[0].includes("ResizeObserver")||arguments[0].includes("stopPropagation"))||e.apply(console,arguments)};const l=window.ResizeObserver.prototype,a=l.observe;l.observe=function(e){return e&&(e.classList.contains("el-table")||e.classList.contains("el-drawer__container")||e.classList.contains("el-tabs__nav"))&&(e.style.contain="content"),a.apply(this,arguments)}};Bt();const Gt=(0,t.Ef)(Ke);Gt.use(It),Gt.use(Kt),Gt.use(Xt.A,{locale:zt.A}),Gt.use(Xl.Ay),Gt.mount("#app")},2998:(e,l,a)=>{a.d(l,{A:()=>g});var t=a(641),i=a(33);const o={class:"groupable-table-container"},n={key:0,class:"el-icon-caret-right"},r={class:"group-title"},s={key:1,class:"group-count"},d={key:0,class:"pagination-container"};function u(e,l,a,u,c,m){const p=(0,t.g2)("el-table-column"),g=(0,t.g2)("el-table"),v=(0,t.g2)("el-pagination");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(g,(0,t.v6)({data:u.tableData,"row-key":a.rowKey,"tree-props":{children:"children"},"row-class-name":u.getRowClassName,"default-expand-all":a.defaultExpandAll,onSelectionChange:u.handleSelectionChange,onCellClick:u.handleCellClick},e.$attrs),{default:(0,t.k6)((()=>[a.showSelection?((0,t.uX)(),(0,t.Wv)(p,{key:0,type:"selection",selectable:e=>!e.isGroup,width:"55"},null,8,["selectable"])):(0,t.Q3)("",!0),a.showGroupColumn?((0,t.uX)(),(0,t.Wv)(p,{key:1,label:a.groupColumnLabel,width:a.groupColumnWidth,fixed:a.groupColumnFixed},{default:(0,t.k6)((e=>[e.row.isGroup?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,i.C4)(["group-name",`group-level-${e.row.groupLevel||1}`])},[e.row.children&&e.row.children.length?((0,t.uX)(),(0,t.CE)("i",n)):(0,t.Q3)("",!0),(0,t.Lk)("span",r,(0,i.v_)(e.row.groupName),1),e.row.count?((0,t.uX)(),(0,t.CE)("span",s,"("+(0,i.v_)(e.row.count)+")",1)):(0,t.Q3)("",!0)],2)):(0,t.Q3)("",!0)])),_:1},8,["label","width","fixed"])):(0,t.Q3)("",!0),(0,t.RG)(e.$slots,"default",{},void 0,!0)])),_:3},16,["data","row-key","row-class-name","default-expand-all","onSelectionChange","onCellClick"]),a.showPagination?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.bF)(v,{"current-page":a.currentPage,"page-sizes":a.pageSizes,"page-size":a.pageSize,total:a.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:u.handleSizeChange,onCurrentChange:u.handleCurrentChange},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])])):(0,t.Q3)("",!0)])}const c={name:"GroupableTable",props:{data:{type:Array,required:!0},rowKey:{type:String,default:"id"},groupFields:{type:Array,default:()=>[]},showSelection:{type:Boolean,default:!0},showGroupColumn:{type:Boolean,default:!0},groupColumnLabel:{type:String,default:"分组"},groupColumnWidth:{type:[String,Number],default:180},groupColumnFixed:{type:[String,Boolean],default:"left"},defaultExpandAll:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,50,100]},total:{type:Number,default:0}},emits:["selection-change","cell-click","size-change","current-change","cell-dbl-click","cell-edit-confirm","tag-close"],setup(e,{emit:l}){const a=(0,t.EW)((()=>(e.groupFields&&e.groupFields.length,e.data))),i=({row:e})=>{let l=[];return e.isGroup?(l.push("group-row"),l.push(`group-level-${e.groupLevel||1}`)):e.parentGroupKey&&(l.push("data-item"),l.push(`data-parent-group-${e.parentGroupKey}`)),l.join(" ")},o=e=>{l("selection-change",e)},n=(e,a,t,i)=>{l("cell-click",e,a,t,i)},r=e=>{l("size-change",e)},s=e=>{l("current-change",e)};return{tableData:a,getRowClassName:i,handleSelectionChange:o,handleCellClick:n,handleSizeChange:r,handleCurrentChange:s}}};var m=a(6262);const p=(0,m.A)(c,[["render",u],["__scopeId","data-v-26a30527"]]),g=p},3344:(e,l,a)=>{a.d(l,{A:()=>g});var t=a(641);const i={class:"filter-panel"},o={class:"filter-list"},n={class:"filter-buttons"},r={class:"filter-logic"},s={class:"dialog-footer"};function d(e,l,a,d,u,c){const m=(0,t.g2)("el-option"),p=(0,t.g2)("el-select"),g=(0,t.g2)("el-date-picker"),v=(0,t.g2)("el-input"),b=(0,t.g2)("el-button"),h=(0,t.g2)("el-radio"),k=(0,t.g2)("el-radio-group"),f=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.Wv)(f,{modelValue:d.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>d.dialogVisible=e),title:"高级筛选",width:"900px","close-on-click-modal":!1,onClose:d.handleClose},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",s,[(0,t.bF)(b,{onClick:d.handleCancel},{default:(0,t.k6)((()=>l[7]||(l[7]=[(0,t.eW)("取消")]))),_:1},8,["onClick"]),(0,t.bF)(b,{type:"primary",onClick:d.handleConfirm},{default:(0,t.k6)((()=>l[8]||(l[8]=[(0,t.eW)("应用筛选")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",i,[(0,t.Lk)("div",o,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.filters,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"filter-item"},[(0,t.bF)(p,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择筛选字段",class:"filter-field"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.filterFields,(e=>((0,t.uX)(),(0,t.Wv)(m,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(p,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,placeholder:"选择操作符",class:"filter-operator"},{default:(0,t.k6)((()=>[(0,t.bF)(m,{label:"等于",value:"eq"}),(0,t.bF)(m,{label:"不等于",value:"neq"}),(0,t.bF)(m,{label:"包含",value:"contains"}),(0,t.bF)(m,{label:"不包含",value:"notContains"}),(0,t.bF)(m,{label:"开始于",value:"startsWith"}),(0,t.bF)(m,{label:"结束于",value:"endsWith"}),(0,t.bF)(m,{label:"大于",value:"gt"}),(0,t.bF)(m,{label:"大于等于",value:"gte"}),(0,t.bF)(m,{label:"小于",value:"lt"}),(0,t.bF)(m,{label:"小于等于",value:"lte"}),(0,t.bF)(m,{label:"在列表中",value:"in"}),(0,t.bF)(m,{label:"不在列表中",value:"notIn"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),"date"===d.getFieldType(e.field)?((0,t.uX)(),(0,t.Wv)(g,{key:0,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,type:"date",placeholder:"选择日期",class:"filter-value"},null,8,["modelValue","onUpdate:modelValue"])):"datetime"===d.getFieldType(e.field)?((0,t.uX)(),(0,t.Wv)(g,{key:1,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,type:"datetime",placeholder:"选择日期时间",class:"filter-value"},null,8,["modelValue","onUpdate:modelValue"])):"select"===d.getFieldType(e.field)?((0,t.uX)(),(0,t.Wv)(p,{key:2,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"选择筛选值",class:"filter-value"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.getFieldOptions(e.field),(e=>((0,t.uX)(),(0,t.Wv)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):((0,t.uX)(),(0,t.Wv)(v,{key:3,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"输入筛选值",class:"filter-value"},null,8,["modelValue","onUpdate:modelValue"])),(0,t.bF)(b,{type:"danger",size:"small",onClick:e=>d.removeFilter(a),class:"filter-delete-btn"},{default:(0,t.k6)((()=>l[2]||(l[2]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128))]),(0,t.Lk)("div",n,[(0,t.bF)(b,{type:"primary",icon:"el-icon-plus",onClick:d.addFilter},{default:(0,t.k6)((()=>l[3]||(l[3]=[(0,t.eW)("添加筛选条件")]))),_:1},8,["onClick"]),(0,t.bF)(b,{icon:"el-icon-refresh",onClick:d.resetFilters},{default:(0,t.k6)((()=>l[4]||(l[4]=[(0,t.eW)("重置筛选")]))),_:1},8,["onClick"])]),(0,t.Lk)("div",r,[(0,t.bF)(k,{modelValue:d.filterLogic,"onUpdate:modelValue":l[0]||(l[0]=e=>d.filterLogic=e)},{default:(0,t.k6)((()=>[(0,t.bF)(h,{label:"and"},{default:(0,t.k6)((()=>l[5]||(l[5]=[(0,t.eW)("满足所有条件 (AND)")]))),_:1}),(0,t.bF)(h,{label:"or"},{default:(0,t.k6)((()=>l[6]||(l[6]=[(0,t.eW)("满足任一条件 (OR)")]))),_:1})])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue","onClose"])}var u=a(953);const c={name:"FilterPanel",props:{visible:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},existingFilters:{type:Array,default:()=>[]},existingLogic:{type:String,default:"and"}},emits:["update:visible","apply-filters","cancel"],setup(e,{emit:l}){const a=(0,t.EW)({get:()=>e.visible,set:e=>l("update:visible",e)}),i=(0,u.KR)(e.existingLogic),o=(0,t.EW)((()=>e.columns.map((e=>({label:e.label,prop:e.prop,type:e.filterType||"text",options:e.filterOptions||[]}))))),n=(0,u.KR)(e.existingFilters.length>0?[...e.existingFilters]:[{field:"",operator:"eq",value:""}]),r=e=>{const l=o.value.find((l=>l.prop===e));return l?l.type:"text"},s=e=>{const l=o.value.find((l=>l.prop===e));return l?l.options:[]},d=()=>{n.value.push({field:"",operator:"eq",value:""})},c=e=>{n.value.splice(e,1),0===n.value.length&&d()},m=()=>{n.value=[{field:"",operator:"eq",value:""}],i.value="and"},p=()=>{a.value=!1},g=()=>{a.value=!1,l("cancel")},v=()=>{const e=n.value.filter((e=>e.field&&e.operator&&""!==e.value));l("apply-filters",{filters:e,logic:i.value}),a.value=!1};return{dialogVisible:a,filterLogic:i,filterFields:o,filters:n,getFieldType:r,getFieldOptions:s,addFilter:d,removeFilter:c,resetFilters:m,handleClose:p,handleCancel:g,handleConfirm:v}}};var m=a(6262);const p=(0,m.A)(c,[["render",d],["__scopeId","data-v-08dd25ee"]]),g=p},6340:(e,l,a)=>{function t(e){if(!e)return"";const l=new Date,a=new Date(e),t=l-a;return t<6e4?"刚刚":t<36e5?`${Math.floor(t/6e4)}分钟前`:t<864e5?`${Math.floor(t/36e5)}小时前`:t<2592e6?`${Math.floor(t/864e5)}天前`:a.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}a.d(l,{f:()=>t})},9595:e=>{e.exports=JSON.parse('[{"id":"1","trainNumber":"TR2024030101","issueDate":"2024-03-01","issuer":"张三","tags":["异常","紧急"],"loadingType":"卡板","deliveryType":"整车","driverRegisterTime":"2024-03-01 08:00:00","loadingStartTime":"2024-03-01 08:30:00","loadingEndTime":"2024-03-01 09:30:00","OPName":"张三","driverName":"李四","carNumber":"A001","loader":"李四","dockNumber":"DOCK-01","deliveryArea":"Local","loadingStatus":"装车完成","warehouseRemarks":"正常装车","driverLicense":"123456789","licensePlate":"粤B12345","driverPhone":"13800138000","supplier":"广州物流","actualPallets":20,"palletsMerged":18,"loadingAppointmentTime":"2024-03-01 08:00:00","weight":2000,"cubicMeter":40,"totalPallets":20,"deliveryCost":5000,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 08:00:00","DriverEndTime":"2024-03-01 08:00:00","Arrived":"2024-03-01 08:00:00","podImage":"POD图片","children":[{"id":"1-1","pcNumber":"PC20240301001","bookingParty":"客户A","bookingTime":"2024-02-29 14:00:00","bookingNumber":"BK001","startWarehouse":"广州仓库","destination":"深圳市南山区","palletCount":10,"weight":1000,"volume":20,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"1-2","pcNumber":"PC20240301002","bookingParty":"客户B","bookingTime":"2024-02-29 15:00:00","bookingNumber":"BK002","startWarehouse":"广州仓库","destination":"深圳市福田区","palletCount":10,"weight":1000,"volume":20,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"2","trainNumber":"TR2024030102","issueDate":"2024-03-01","issuer":"王五","tags":["异常","紧急"],"loadingType":"地板","deliveryType":"散板","driverRegisterTime":"2024-03-01 10:00:00","loadingStartTime":"2024-03-01 10:30:00","loadingEndTime":"2024-03-01 11:30:00","OPName":"王五","driverName":"赵六","carNumber":"A002","loader":"赵六","dockNumber":"DOCK-02","deliveryArea":"Local","loadingStatus":"装车完成","warehouseRemarks":"加急处理","driverLicense":"987654321","licensePlate":"粤B54321","driverPhone":"13900139000","supplier":"深圳物流","actualPallets":15,"palletsMerged":15,"loadingAppointmentTime":"2024-03-01 10:00:00","weight":1500,"cubicMeter":30,"totalPallets":15,"deliveryCost":4000,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"2-1","pcNumber":"PC20240301003","bookingParty":"客户C","bookingTime":"2024-02-29 16:00:00","bookingNumber":"BK003","startWarehouse":"广州仓库","destination":"广州市天河区","palletCount":8,"weight":800,"volume":16,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"2-2","pcNumber":"PC20240301004","bookingParty":"客户D","bookingTime":"2024-02-29 17:00:00","bookingNumber":"BK004","startWarehouse":"广州仓库","destination":"广州市越秀区","palletCount":7,"weight":700,"volume":14,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"3","trainNumber":"LW2-230003","issueDate":"2023-03-20","issuer":"谢静伦","tags":["异常","紧急"],"loadingType":"卡板","deliveryType":"一提多卸","deliveryArea":"Local","driverRegisterTime":"2023-03-20 10:15:00","loadingStartTime":"2023-03-20 11:00:00","loadingEndTime":"2023-03-20 12:30:00","OPName":"谢静伦","driverName":"张大鹏","carNumber":"TR-A003","loader":"张大鹏","dockNumber":"DOCK-02","loadingStatus":"装车中","warehouseRemarks":"货物易碎","driverLicense":"C56781234","licensePlate":"京C55555","driverPhone":"13700137000","supplier":"YFM TRUCKING","actualPallets":15,"palletsMerged":0,"loadingAppointmentTime":"2023-03-20 10:00:00","weight":4200,"cubicMeter":28.9,"totalPallets":15,"deliveryCost":3100,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"3-1","pcNumber":"PC-2023-0005","bookingParty":"亚马逊物流","bookingTime":"2023-03-19 15:30:00","bookingNumber":"APPT-88764-1","startWarehouse":"广州仓库","destination":"Amazon-LAS1","palletCount":15,"weight":4200,"volume":28.9,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"}]},{"id":"4","trainNumber":"LW2-230004","issueDate":"2023-03-21","issuer":"程涛子","tags":["异常","POD待审批"],"loadingType":"混装","deliveryType":"一提多卸","driverRegisterTime":"2023-03-21 07:30:00","loadingStartTime":"2023-03-21 08:15:00","loadingEndTime":"2023-03-21 09:45:00","OPName":"程涛子","driverName":"陈小明","carNumber":"TR-A004","loader":"陈小明","dockNumber":"DOCK-01","deliveryArea":"Local","loadingStatus":"已登记","warehouseRemarks":"优先配送","driverLicense":"D98765432","licensePlate":"京D44444","driverPhone":"13600136000","supplier":"一次性供应商","actualPallets":10,"palletsMerged":1,"loadingAppointmentTime":"2023-03-21 07:00:00","weight":3100,"cubicMeter":22.3,"totalPallets":11,"deliveryCost":2600,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"4-1","pcNumber":"PC-2023-0006","bookingParty":"京东物流","bookingTime":"2023-03-20 14:00:00","bookingNumber":"APPT-88765-1","startWarehouse":"广州仓库","destination":"商业地址-LWX1-A","palletCount":5,"weight":1500,"volume":10.5,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"4-2","pcNumber":"PC-2023-0007","bookingParty":"顺丰速运","bookingTime":"2023-03-20 15:30:00","bookingNumber":"APPT-88765-2","startWarehouse":"广州仓库","destination":"商业地址-LWX1-B","palletCount":6,"weight":1600,"volume":11.8,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"5","trainNumber":"LW2-230005","issueDate":"2023-03-22","issuer":"程涛子","tags":"异常","loadingType":"快递","deliveryType":"快递","deliveryArea":"Local","driverRegisterTime":"2023-03-22 09:00:00","loadingStartTime":"2023-03-22 09:45:00","loadingEndTime":"2023-03-22 11:15:00","OPName":"程涛子","driverName":"王小刚","carNumber":"TR-A005","loader":"王小刚","dockNumber":"DOCK-04","loadingStatus":"未装车","warehouseRemarks":"","driverLicense":"E12348765","licensePlate":"京E33333","driverPhone":"13500135000","supplier":"一次性供应商","actualPallets":9,"palletsMerged":0,"loadingAppointmentTime":"2023-03-22 08:30:00","weight":2900,"cubicMeter":19.8,"totalPallets":9,"deliveryCost":2400,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"5-1","pcNumber":"PC-2023-0008","bookingParty":"圆通快递","bookingTime":"2023-03-21 13:30:00","bookingNumber":"APPT-88766-1","startWarehouse":"广州仓库","destination":"商业地址-LWX1","palletCount":4,"weight":1300,"volume":8.8,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"5-2","pcNumber":"PC-2023-0009","bookingParty":"申通快递","bookingTime":"2023-03-21 14:30:00","bookingNumber":"APPT-88766-2","startWarehouse":"广州仓库","destination":"商业地址-LWX1","palletCount":5,"weight":1600,"volume":11,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"6","trainNumber":"LW2-230006","issueDate":"2023-03-23","issuer":"李明","loadingType":"混装","deliveryType":"多提一卸","deliveryArea":"Local","driverRegisterTime":"2023-03-23 08:30:00","loadingStartTime":"2023-03-23 09:00:00","loadingEndTime":"2023-03-23 10:30:00","OPName":"李明","driverName":"马小红","carNumber":"TR-A006","loader":"马小红","dockNumber":"DOCK-03","loadingStatus":"已登记","warehouseRemarks":"需要温控","driverLicense":"F87654321","licensePlate":"京F22222","driverPhone":"13400134000","supplier":"百世物流","actualPallets":12,"palletsMerged":2,"loadingAppointmentTime":"2023-03-23 08:00:00","weight":3500,"cubicMeter":25.6,"totalPallets":14,"deliveryCost":2800,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"6-1","pcNumber":"PC-2023-0010","bookingParty":"中通快递","bookingTime":"2023-03-22 10:30:00","bookingNumber":"APPT-88767-1","startWarehouse":"广州仓库","destination":"商业地址-LWX2","palletCount":7,"weight":1800,"volume":14.2,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"6-2","pcNumber":"PC-2023-0011","bookingParty":"韵达快递","bookingTime":"2023-03-22 11:30:00","bookingNumber":"APPT-88767-2","startWarehouse":"广州仓库","destination":"商业地址-LWX2","palletCount":7,"weight":1700,"volume":11.4,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"7","trainNumber":"LW2-230007","issueDate":"2023-03-24","issuer":"王建国","loadingType":"地板","deliveryType":"多提多卸","deliveryArea":"Local","driverRegisterTime":"2023-03-24 07:45:00","loadingStartTime":"2023-03-24 08:15:00","loadingEndTime":"2023-03-24 09:45:00","OPName":"王建国","driverName":"赵小华","carNumber":"TR-A007","loader":"赵小华","dockNumber":"DOCK-05","loadingStatus":"未装车","warehouseRemarks":"客户要求当天送达","driverLicense":"G12345678","licensePlate":"京G11111","driverPhone":"13300133000","supplier":"德邦物流","actualPallets":18,"palletsMerged":3,"loadingAppointmentTime":"2023-03-24 07:30:00","weight":4500,"cubicMeter":32.4,"totalPallets":21,"deliveryCost":3500,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"7-1","pcNumber":"PC-2023-0012","bookingParty":"苏宁物流","bookingTime":"2023-03-23 14:00:00","bookingNumber":"APPT-88768-1","startWarehouse":"广州仓库","destination":"商业地址-SHN1","palletCount":10,"weight":2500,"volume":17.8,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"7-2","pcNumber":"PC-2023-0013","bookingParty":"天猫物流","bookingTime":"2023-03-23 15:00:00","bookingNumber":"APPT-88768-2","startWarehouse":"广州仓库","destination":"商业地址-SHN2","palletCount":11,"weight":2000,"volume":14.6,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]},{"id":"8","trainNumber":"LW2-230007","issueDate":"2023-03-24","issuer":"王建国","loadingType":"地板","deliveryType":"多提多卸","driverRegisterTime":"2023-03-24 07:45:00","loadingStartTime":"2023-03-24 08:15:00","loadingEndTime":"2023-03-24 09:45:00","OPName":"王建国","driverName":"赵小华","deliveryArea":"Local","carNumber":"TR-A007","loader":"赵小华","dockNumber":"DOCK-05","loadingStatus":"未装车","warehouseRemarks":"客户要求当天送达","driverLicense":"G12345678","licensePlate":"京G11111","driverPhone":"13300133000","supplier":"德邦物流","actualPallets":18,"palletsMerged":3,"loadingAppointmentTime":"2023-03-24 07:30:00","weight":4500,"cubicMeter":32.4,"totalPallets":21,"deliveryCost":3500,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"8-1","pcNumber":"PC-2023-0012","bookingParty":"苏宁物流","bookingTime":"2023-03-23 14:00:00","bookingNumber":"APPT-88768-1","startWarehouse":"广州仓库","destination":"商业地址-SHN1","palletCount":10,"weight":2500,"volume":17.8,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"8-2","pcNumber":"PC-2023-0013","bookingParty":"天猫物流","bookingTime":"2023-03-23 15:00:00","bookingNumber":"APPT-88768-2","startWarehouse":"广州仓库","destination":"商业地址-SHN2","palletCount":11,"weight":2000,"volume":14.6,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00"}]},{"id":"9","trainNumber":"LW2-230007","issueDate":"2023-03-24","issuer":"王建国","loadingType":"地板","deliveryType":"多提多卸","driverRegisterTime":"2023-03-24 07:45:00","loadingStartTime":"2023-03-24 08:15:00","loadingEndTime":"2023-03-24 09:45:00","OPName":"王建国","driverName":"赵小华","deliveryArea":"Local","carNumber":"TR-A007","loader":"赵小华","dockNumber":"DOCK-05","loadingStatus":"未装车","warehouseRemarks":"客户要求当天送达","driverLicense":"G12345678","licensePlate":"京G11111","driverPhone":"13300133000","supplier":"德邦物流","actualPallets":18,"palletsMerged":3,"loadingAppointmentTime":"2023-03-24 07:30:00","weight":4500,"cubicMeter":32.4,"totalPallets":21,"deliveryCost":3500,"Memo":"MEMO","Followup":"跟进记录","DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","children":[{"id":"9-1","pcNumber":"PC-2023-0012","bookingParty":"苏宁物流","bookingTime":"2023-03-23 14:00:00","bookingNumber":"APPT-88768-1","startWarehouse":"广州仓库","destination":"商业地址-SHN1","palletCount":10,"weight":2500,"volume":17.8,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"1"},{"id":"9-2","pcNumber":"PC-2023-0013","bookingParty":"天猫物流","bookingTime":"2023-03-23 15:00:00","bookingNumber":"APPT-88768-2","startWarehouse":"广州仓库","destination":"商业地址-SHN2","palletCount":11,"weight":2000,"volume":14.6,"DriverStartTime":"2024-03-01 10:00:00","DriverEndTime":"2024-03-01 10:00:00","Arrived":"2024-03-01 10:00:00","podImage":"POD图片","rank":"2"}]}]')}},l={};function a(t){var i=l[t];if(void 0!==i)return i.exports;var o=l[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,(()=>{var e=[];a.O=(l,t,i,o)=>{if(!t){var n=1/0;for(u=0;u<e.length;u++){for(var[t,i,o]=e[u],r=!0,s=0;s<t.length;s++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](t[s])))?t.splice(s--,1):(r=!1,o<n&&(n=o));if(r){e.splice(u--,1);var d=i();void 0!==d&&(l=d)}}return l}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,i,o]}})(),(()=>{a.n=e=>{var l=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(l,{a:l}),l}})(),(()=>{a.d=(e,l)=>{for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((l,t)=>(a.f[t](e,l),l)),[]))})(),(()=>{a.u=e=>"js/"+e+"."+{1:"54d36230",42:"ee840f58",56:"d3c63632",89:"b1af8bfd",128:"15d99dec",211:"a138b92e",236:"d79cb5ce",273:"ece00f92",279:"9858582b",284:"577a5d51",317:"a2eed975",328:"2bf3a9de",367:"b4497640",380:"471f00cf",428:"f471a8e4",443:"ef2d54f3",445:"67ee7c0a",522:"23cfa766",557:"937b8616",569:"61d93290",582:"2b03fd94",583:"6e6472e4",595:"d121acb8",599:"9e0ec81e",628:"51acea00",647:"4d1d439b",673:"90324e6d",714:"3345f927",718:"7e7edf78",756:"2b7973f5",769:"e1c928de",777:"253634a7",822:"24528928",825:"6f7d9c79",832:"5d184eeb",853:"faf48c99",870:"94ae5470",888:"1cbabcf6",903:"d284b19b",926:"72c04caf",930:"99a2cd7c",944:"068bd6fd",991:"31b87057",998:"57062ebc"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+e+"."+{1:"0f417e49",42:"cce237f5",56:"64896928",89:"053e97e7",128:"9026ffd3",211:"dd1ef561",236:"ede59283",273:"d5d7f143",279:"149111cf",284:"93c79461",317:"47739cff",328:"ba7154a3",367:"927e2977",380:"2010f0d6",428:"0fb05ab6",443:"457f688a",445:"d0989848",522:"6482817a",557:"1b21afe0",569:"cafb1e2d",582:"ac01aba5",595:"941c5c0e",599:"938bc980",647:"2e58d75d",673:"a7400e5a",714:"7602c7dc",718:"08a0fcc0",756:"9b46d2df",769:"f78f49b8",777:"7563e78e",822:"9aa31f70",825:"7bb6d8d8",832:"db631ae5",853:"8b554516",870:"00430516",888:"92cc0202",903:"8c28875f",926:"812f3761",930:"29c5a4ce",944:"9a684d6a",991:"617ebac2"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l)})(),(()=>{var e={},l="vue-logistics-system:";a.l=(t,i,o,n)=>{if(e[t])e[t].push(i);else{var r,s;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==l+o){r=c;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",l+o),r.src=t),e[t]=[i];var m=(l,a)=>{r.onerror=r.onload=null,clearTimeout(p);var i=e[t];if(delete e[t],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(a))),l)return l(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),s&&document.head.appendChild(r)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,l,t,i,o)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",a.nc&&(n.nonce=a.nc);var r=a=>{if(n.onerror=n.onload=null,"load"===a.type)i();else{var t=a&&a.type,r=a&&a.target&&a.target.href||l,s=new Error("Loading CSS chunk "+e+" failed.\n("+t+": "+r+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=t,s.request=r,n.parentNode&&n.parentNode.removeChild(n),o(s)}};return n.onerror=n.onload=r,n.href=l,t?t.parentNode.insertBefore(n,t.nextSibling):document.head.appendChild(n),n},l=(e,l)=>{for(var a=document.getElementsByTagName("link"),t=0;t<a.length;t++){var i=a[t],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===l))return i}var n=document.getElementsByTagName("style");for(t=0;t<n.length;t++){i=n[t],o=i.getAttribute("data-href");if(o===e||o===l)return i}},t=t=>new Promise(((i,o)=>{var n=a.miniCssF(t),r=a.p+n;if(l(n,r))return i();e(t,r,null,i,o)})),i={524:0};a.f.miniCss=(e,l)=>{var a={1:1,42:1,56:1,89:1,128:1,211:1,236:1,273:1,279:1,284:1,317:1,328:1,367:1,380:1,428:1,443:1,445:1,522:1,557:1,569:1,582:1,595:1,599:1,647:1,673:1,714:1,718:1,756:1,769:1,777:1,822:1,825:1,832:1,853:1,870:1,888:1,903:1,926:1,930:1,944:1,991:1};i[e]?l.push(i[e]):0!==i[e]&&a[e]&&l.push(i[e]=t(e).then((()=>{i[e]=0}),(l=>{throw delete i[e],l})))}}})(),(()=>{var e={524:0};a.f.j=(l,t)=>{var i=a.o(e,l)?e[l]:void 0;if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(((a,t)=>i=e[l]=[a,t]));t.push(i[2]=o);var n=a.p+a.u(l),r=new Error,s=t=>{if(a.o(e,l)&&(i=e[l],0!==i&&(e[l]=void 0),i)){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;r.message="Loading chunk "+l+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,i[1](r)}};a.l(n,s,"chunk-"+l,l)}},a.O.j=l=>0===e[l];var l=(l,t)=>{var i,o,[n,r,s]=t,d=0;if(n.some((l=>0!==e[l]))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(s)var u=s(a)}for(l&&l(t);d<n.length;d++)o=n[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},t=self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var t=a.O(void 0,[504],(()=>a(2068)));t=a.O(t)})();
//# sourceMappingURL=app.8a5528a8.js.map