"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[8328],{8328:(e,l,a)=>{a.r(l),a.d(l,{default:()=>b});var r=a(641),t=a(33),u=a(953),o=a(5220),d=a(163);const n={class:"work-order-create-container"},i={__name:"CommandWorkCreate",setup(e){const l=(0,o.rd)(),a=(0,u.KR)(null),i=(0,u.KR)([{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"客服团队"}]),p=(0,u.Kh)({type:"exception",orderNo:"",priority:"medium",subject:"",exceptionType:"",warningSource:"",serviceItem:"",description:"",dueAt:null,location:"",palletCount:0,attachments:[],assignee:null,cc:[],relatedCustomer:null}),s=(0,r.EW)((()=>{switch(p.type){case"command":return"指令内容";case"value_added":return"服务要求";case"exception":case"warning":case"other":default:return"详细情况"}})),b=(0,u.Kh)({type:[{required:!0,message:"请选择工单类型",trigger:"change"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],subject:[{required:!0,message:"请输入工单标题",trigger:"blur"},{min:5,message:"标题长度至少 5 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入详细情况",trigger:"blur"},{min:10,message:"描述内容至少 10 个字符",trigger:"blur"}],dueAt:[{required:!0,message:"请选择最晚完成时间",trigger:"change"}],location:[{required:!0,message:"请输入库位信息",trigger:"blur"}],palletCount:[{required:!0,message:"请输入板数",trigger:"blur"},{type:"number",min:0,message:"板数必须大于等于0",trigger:"blur"}],exceptionType:[{validator:(e,l,a)=>{"exception"!==p.type||l?a():a(new Error("请选择异常类型"))},trigger:"change"}],warningSource:[{validator:(e,l,a)=>{"warning"!==p.type||l?a():a(new Error("请输入预警来源"))},trigger:"blur"}],serviceItem:[{validator:(e,l,a)=>{"value_added"!==p.type||l?a():a(new Error("请输入服务项目"))},trigger:"blur"}],assignee:[{required:!0,message:"请选择处理人或团队",trigger:"change"}]}),m=()=>{l.back()},c=()=>{a.value.validate((e=>{if(!e)return console.log("error submit!!"),d.nk.error("表单校验失败，请检查输入"),!1;console.log("Submit!",p),d.nk.success("工单创建成功!")}))},g=()=>{a.value.resetFields(),p.attachments=[],p.relatedCustomer=null,p.type="exception",p.priority="medium"};return(0,r.sV)((()=>{})),(e,l)=>{const u=(0,r.g2)("el-page-header"),o=(0,r.g2)("el-option"),d=(0,r.g2)("el-select"),k=(0,r.g2)("el-form-item"),v=(0,r.g2)("el-input"),F=(0,r.g2)("el-date-picker"),_=(0,r.g2)("el-input-number"),f=(0,r.g2)("el-button"),y=(0,r.g2)("el-upload"),V=(0,r.g2)("el-form"),h=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(u,{onBack:m,content:"创建新工单"}),(0,r.bF)(h,{class:"form-card",shadow:"never"},{default:(0,r.k6)((()=>[(0,r.bF)(V,{model:p,ref_key:"workOrderFormRef",ref:a,rules:b,"label-width":"120px"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{label:"工单类型",prop:"type"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:p.type,"onUpdate:modelValue":l[0]||(l[0]=e=>p.type=e),placeholder:"请选择工单类型"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{label:"异常订单处理",value:"exception"}),(0,r.bF)(o,{label:"指令执行",value:"command"}),(0,r.bF)(o,{label:"订单预警响应",value:"warning"}),(0,r.bF)(o,{label:"增值服务请求",value:"value_added"}),(0,r.bF)(o,{label:"其他问题",value:"other"})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"关联订单号",prop:"orderNo"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:p.orderNo,"onUpdate:modelValue":l[1]||(l[1]=e=>p.orderNo=e),placeholder:"请输入关联的订单号 (选填)"},null,8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"优先级",prop:"priority"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:p.priority,"onUpdate:modelValue":l[2]||(l[2]=e=>p.priority=e),placeholder:"请选择优先级"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{label:"紧急",value:"urgent"}),(0,r.bF)(o,{label:"高",value:"high"}),(0,r.bF)(o,{label:"中",value:"medium"}),(0,r.bF)(o,{label:"低",value:"low"})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"工单标题",prop:"subject"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:p.subject,"onUpdate:modelValue":l[3]||(l[3]=e=>p.subject=e),placeholder:"请简要描述问题或任务"},null,8,["modelValue"])])),_:1}),"exception"===p.type?((0,r.uX)(),(0,r.Wv)(k,{key:0,label:"异常类型",prop:"exceptionType"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:p.exceptionType,"onUpdate:modelValue":l[4]||(l[4]=e=>p.exceptionType=e),placeholder:"请选择异常类型"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{label:"缺货",value:"out_of_stock"}),(0,r.bF)(o,{label:"地址错误",value:"address_error"}),(0,r.bF)(o,{label:"支付问题",value:"payment_issue"}),(0,r.bF)(o,{label:"客户投诉",value:"customer_complaint"}),(0,r.bF)(o,{label:"系统错误",value:"system_error"})])),_:1},8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),"warning"===p.type?((0,r.uX)(),(0,r.Wv)(k,{key:1,label:"预警来源",prop:"warningSource"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:p.warningSource,"onUpdate:modelValue":l[5]||(l[5]=e=>p.warningSource=e),placeholder:"例如：低库存预警、潜在延误预警"},null,8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),"value_added"===p.type?((0,r.uX)(),(0,r.Wv)(k,{key:2,label:"服务项目",prop:"serviceItem"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:p.serviceItem,"onUpdate:modelValue":l[6]||(l[6]=e=>p.serviceItem=e),placeholder:"例如：礼品包装、特殊配送、安装调试"},null,8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(k,{label:s.value,prop:"description"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{type:"textarea",rows:5,placeholder:"请详细描述情况、指令内容或服务要求",modelValue:p.description,"onUpdate:modelValue":l[7]||(l[7]=e=>p.description=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.bF)(k,{label:"最晚完成时间",prop:"dueAt"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{modelValue:p.dueAt,"onUpdate:modelValue":l[8]||(l[8]=e=>p.dueAt=e),type:"datetime",placeholder:"选择日期时间"},null,8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"库位",prop:"location"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{modelValue:p.location,"onUpdate:modelValue":l[9]||(l[9]=e=>p.location=e),placeholder:"请输入库位信息"},null,8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"板数",prop:"palletCount"},{default:(0,r.k6)((()=>[(0,r.bF)(_,{modelValue:p.palletCount,"onUpdate:modelValue":l[10]||(l[10]=e=>p.palletCount=e),min:0,precision:0,placeholder:"请输入板数"},null,8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"附件"},{default:(0,r.k6)((()=>[(0,r.bF)(y,{class:"upload-demo",action:"#","auto-upload":!1,multiple:""},{tip:(0,r.k6)((()=>l[14]||(l[14]=[(0,r.Lk)("div",{class:"el-upload__tip"},"上传截图或文件有助于更快解决问题",-1)]))),default:(0,r.k6)((()=>[(0,r.bF)(f,{type:"primary"},{default:(0,r.k6)((()=>l[13]||(l[13]=[(0,r.eW)("点击上传")]))),_:1})])),_:1})])),_:1}),(0,r.bF)(k,{label:"指派给",prop:"assignee"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:p.assignee,"onUpdate:modelValue":l[11]||(l[11]=e=>p.assignee=e),placeholder:"选择处理人或团队",filterable:"",clearable:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(e=>((0,r.uX)(),(0,r.Wv)(o,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(k,{label:"抄送给"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:p.cc,"onUpdate:modelValue":l[12]||(l[12]=e=>p.cc=e),placeholder:"选择抄送人 (可选)",multiple:"",filterable:"",clearable:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(e=>((0,r.uX)(),(0,r.Wv)(o,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p.relatedCustomer?((0,r.uX)(),(0,r.Wv)(k,{key:3,label:"客户信息"},{default:(0,r.k6)((()=>[(0,r.Lk)("span",null,(0,t.v_)(p.relatedCustomer.name)+" (ID: "+(0,t.v_)(p.relatedCustomer.id)+")",1)])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(f,{type:"primary",onClick:c},{default:(0,r.k6)((()=>l[15]||(l[15]=[(0,r.eW)("提交工单")]))),_:1}),(0,r.bF)(f,{onClick:g},{default:(0,r.k6)((()=>l[16]||(l[16]=[(0,r.eW)("重置")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])}}};var p=a(6262);const s=(0,p.A)(i,[["__scopeId","data-v-575bbfbd"]]),b=s}}]);
//# sourceMappingURL=8328.598a932b.js.map