{"version":3,"file":"js/880.87c10326.js","mappings":"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","sources":["webpack://vue-logistics-system/./src/views/Admin/RatingManagement/MetricRuleConfig.vue","webpack://vue-logistics-system/./src/views/Admin/RatingManagement/MetricRuleConfig.vue?62e9"],"sourcesContent":["<template>\r\n  <div class=\"metric-rule-config-container\">\r\n    <el-row :gutter=\"20\">\r\n      <!-- 配置表单区域 -->\r\n      <el-col :span=\"10\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>{{ isEditing ? '编辑指标规则' : '创建新指标规则' }}</span>\r\n              <el-button v-if=\"isEditing\" type=\"text\" @click=\"cancelEdit\">取消编辑</el-button>\r\n            </div>\r\n          </template>\r\n          <el-form :model=\"metricForm\" ref=\"metricFormRef\" :rules=\"formRules\" label-position=\"top\">\r\n            <el-form-item label=\"指标规则名称\" prop=\"name\">\r\n              <el-input v-model=\"metricForm.name\" placeholder=\"例如：准时提货率评分\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"所属维度\" prop=\"dimensionId\">\r\n               <el-select v-model=\"metricForm.dimensionId\" placeholder=\"选择归属的评分维度\" style=\"width: 100%;\">\r\n                 <el-option\r\n                   v-for=\"dim in availableDimensions\"\r\n                   :key=\"dim.id\"\r\n                   :label=\"`${dim.name} (${dim.weight}%)`\"\r\n                   :value=\"dim.id\">\r\n                 </el-option>\r\n               </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"计算周期\" prop=\"calculationPeriod\">\r\n              <el-select v-model=\"metricForm.calculationPeriod\" placeholder=\"选择计算周期\" style=\"width: 100%;\">\r\n                <el-option label=\"月度\" value=\"monthly\"></el-option>\r\n                <el-option label=\"季度\" value=\"quarterly\"></el-option>\r\n                <!-- <el-option label=\"年度\" value=\"yearly\"></el-option> -->\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"基础数据表\" prop=\"baseDataTable\">\r\n              <el-select v-model=\"metricForm.baseDataTable\" placeholder=\"选择计算依据的主要数据表\" style=\"width: 100%;\">\r\n                <el-option v-for=\"table in dataTables\" :key=\"table.value\" :label=\"table.label\" :value=\"table.value\" />\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"关联字段规则\" prop=\"associatedFieldRuleIds\">\r\n               <!-- TODO: 替换为更合适的组件，如多选下拉或穿梭框 -->\r\n               <el-alert type=\"info\" :closable=\"false\">\r\n                 请选择计算此指标时需要评估的所有字段规则。\r\n                 (UI 待实现，当前请手动记录或在描述中注明)\r\n               </el-alert>\r\n               <el-select\r\n                  v-model=\"metricForm.associatedFieldRuleIds\"\r\n                  multiple\r\n                  filterable\r\n                  placeholder=\"选择关联的字段规则 (多选)\"\r\n                  style=\"width: 100%; margin-top: 10px;\"\r\n                  disabled\r\n                 >\r\n                 <!-- 选项需要加载 FieldRuleConfig 中配置的规则 -->\r\n               </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"得分计算方法\" prop=\"calculationMethod\">\r\n              <el-select v-model=\"metricForm.calculationMethod\" placeholder=\"选择得分计算方式\" style=\"width: 100%;\">\r\n                <el-option label=\"成功率 (1 - 失败率)\" value=\"SUCCESS_RATE\"></el-option>\r\n                <el-option label=\"扣分累加制 (满分 - 总扣分)\" value=\"DEDUCTION_SUBTRACT\"></el-option>\r\n                <el-option label=\"仅统计总扣分值\" value=\"DEDUCTION_SUM\"></el-option>\r\n                <el-option label=\"自定义分数映射 (待明确)\" value=\"CUSTOM_FORMULA_A\" disabled></el-option>\r\n                <!-- 可以添加更多计算模型 -->\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n             <el-form-item label=\"满分值\" prop=\"maxScore\">\r\n               <el-input-number v-model=\"metricForm.maxScore\" :min=\"0\" :step=\"10\" controls-position=\"right\" style=\"width: 100%;\"></el-input-number>\r\n             </el-form-item>\r\n\r\n            <el-form-item label=\"描述 (可选)\">\r\n               <el-input type=\"textarea\" v-model=\"metricForm.description\" placeholder=\"简要说明指标规则的计算逻辑和用途\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitForm\" :loading=\"saving\">{{ isEditing ? '更新指标规则' : '创建指标规则' }}</el-button>\r\n              <el-button @click=\"resetForm\">重置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 已配置规则列表 -->\r\n      <el-col :span=\"14\">\r\n         <el-card>\r\n           <template #header>\r\n             <div class=\"card-header\">\r\n               <span>已配置的指标/维度规则</span>\r\n             </div>\r\n           </template>\r\n            <el-table :data=\"configuredMetricRules\" style=\"width: 100%\" border height=\"500px\" v-loading=\"loadingRules\">\r\n                <el-table-column prop=\"name\" label=\"规则名称\" width=\"180\" show-overflow-tooltip/>\r\n                <el-table-column label=\"所属维度\" width=\"150\">\r\n                    <template #default=\"scope\">\r\n                        {{ getDimensionName(scope.row.dimensionId) }}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"calculationPeriod\" label=\"计算周期\" width=\"100\">\r\n                    <template #default=\"scope\">\r\n                        {{ periodMap[scope.row.calculationPeriod] || scope.row.calculationPeriod }}\r\n                    </template>\r\n                </el-table-column>\r\n                 <el-table-column prop=\"calculationMethod\" label=\"计算方法\" width=\"200\">\r\n                     <template #default=\"scope\">\r\n                        {{ calculationMethodMap[scope.row.calculationMethod] || scope.row.calculationMethod }}\r\n                    </template>\r\n                 </el-table-column>\r\n                 <el-table-column prop=\"maxScore\" label=\"满分值\" width=\"80\" align=\"center\"/>\r\n                <!-- <el-table-column prop=\"description\" label=\"描述\" show-overflow-tooltip/> -->\r\n                <el-table-column label=\"操作\" width=\"150\" align=\"center\" fixed=\"right\">\r\n                    <template #default=\"scope\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"editMetricRule(scope.row)\">编辑</el-button>\r\n                        <el-button size=\"small\" type=\"danger\" @click=\"deleteMetricRule(scope.row.id)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n         </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, nextTick } from 'vue';\r\nimport { ElMessage, ElMessageBox } from 'element-plus';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// --- refs ---\r\nconst metricFormRef = ref(null);\r\n\r\n// --- state ---\r\nconst isEditing = ref(false);\r\nconst editingMetricRuleId = ref(null);\r\nconst saving = ref(false);\r\nconst loadingRules = ref(false);\r\nconst availableDimensions = ref([]); // 可选的维度列表\r\nconst dataTables = ref([]); // 可选的数据表\r\n// const availableFieldRules = ref([]); // 可选的字段规则 (待加载)\r\n\r\n// 指标规则表单模型\r\nconst initialMetricForm = () => ({\r\n  id: null,\r\n  name: '',\r\n  description: '',\r\n  dimensionId: null, // 所属维度 ID\r\n  calculationPeriod: 'monthly', // 默认月度\r\n  baseDataTable: null,\r\n  associatedFieldRuleIds: [], // 关联的字段规则 ID 列表\r\n  calculationMethod: 'SUCCESS_RATE', // 默认计算方法\r\n  maxScore: 100, // 默认满分值\r\n  // calculationParams: {} // (可选) 用于存储特定计算方法的参数\r\n});\r\nconst metricForm = reactive(initialMetricForm());\r\n\r\n// 表单验证规则\r\nconst formRules = reactive({\r\n  name: [{ required: true, message: '请输入指标规则名称', trigger: 'blur' }],\r\n  dimensionId: [{ required: true, message: '请选择所属维度', trigger: 'change' }],\r\n  calculationPeriod: [{ required: true, message: '请选择计算周期', trigger: 'change' }],\r\n  baseDataTable: [{ required: true, message: '请选择基础数据表', trigger: 'change' }],\r\n  // associatedFieldRuleIds: [{ required: true, type: 'array', message: '请至少关联一个字段规则', trigger: 'change' }], // 待实现 UI 后启用\r\n  calculationMethod: [{ required: true, message: '请选择得分计算方法', trigger: 'change' }],\r\n  maxScore: [{ required: true, message: '请输入满分值', trigger: 'blur' }, {type: 'number', min: 0, message: '满分值不能小于0'}]\r\n});\r\n\r\n// 已配置的指标规则列表\r\nconst configuredMetricRules = ref([]);\r\n\r\n// --- Mappings for display ---\r\nconst periodMap = { monthly: '月度', quarterly: '季度', yearly: '年度' };\r\nconst calculationMethodMap = {\r\n    SUCCESS_RATE: '成功率 (1 - 失败率)',\r\n    DEDUCTION_SUBTRACT: '扣分累加制 (满分 - 总扣分)',\r\n    DEDUCTION_SUM: '仅统计总扣分值',\r\n    CUSTOM_FORMULA_A: '自定义分数映射 (待明确)'\r\n};\r\n\r\n// --- Lifecycle ---\r\nonMounted(async () => {\r\n  await loadInitialData();\r\n  await loadMetricRules();\r\n});\r\n\r\n// --- 模拟 API 调用 ---\r\nconst loadInitialData = async () => {\r\n    // TODO: [API] 调用 API 获取维度列表 (从 RatingDimensionConfig 配置的结果)\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n    availableDimensions.value = [\r\n        { id: 'dim_1', name: '时效性', weight: 40 },\r\n        { id: 'dim_2', name: '服务质量', weight: 30 },\r\n        { id: 'dim_3', name: '成本控制', weight: 20 },\r\n        { id: 'dim_4', name: '合规与配合度', weight: 10 },\r\n    ];\r\n\r\n    // TODO: [API] 调用 API 获取可用数据表列表 (同 FieldRuleConfig)\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n    dataTables.value = [\r\n        { value: 'order', label: '订单表 (order)' },\r\n        { value: 'cargo_damage', label: '货损记录表 (cargo_damage)' },\r\n        { value: 'complaint', label: '投诉记录表 (complaint)' },\r\n    ];\r\n\r\n    // TODO: [API] 调用 API 获取所有已定义的字段规则 (ID 和 Name 即可)\r\n    // availableFieldRules.value = await api.getFieldRules();\r\n};\r\n\r\nconst loadMetricRules = async () => {\r\n  loadingRules.value = true;\r\n  // TODO: [API] 调用 API 获取已配置的指标规则列表\r\n  await new Promise(resolve => setTimeout(resolve, 500));\r\n  configuredMetricRules.value = [\r\n    {\r\n      id: `metric_${uuidv4()}`,\r\n      name: '准时提货率评分',\r\n      description: '基于订单实际提货时间和计划时间的比较，计算准时率得分',\r\n      dimensionId: 'dim_1',\r\n      calculationPeriod: 'monthly',\r\n      baseDataTable: 'order',\r\n      associatedFieldRuleIds: ['rule_1'], // 假设 rule_1 是\"实际提货晚点\"\r\n      calculationMethod: 'SUCCESS_RATE',\r\n      maxScore: 100,\r\n    },\r\n     {\r\n      id: `metric_${uuidv4()}`,\r\n      name: '货损扣分统计',\r\n      description: '累加与货损相关的字段规则扣分',\r\n      dimensionId: 'dim_2',\r\n      calculationPeriod: 'quarterly',\r\n      baseDataTable: 'cargo_damage',\r\n      associatedFieldRuleIds: ['rule_calc_or'], // 假设 rule_calc_or 是\"高额货损或未赔付\"\r\n      calculationMethod: 'DEDUCTION_SUBTRACT',\r\n      maxScore: 100,\r\n    },\r\n  ];\r\n  loadingRules.value = false;\r\n};\r\n\r\n// --- Methods ---\r\n// 获取维度名称用于显示\r\nconst getDimensionName = (dimensionId) => {\r\n    const dim = availableDimensions.value.find(d => d.id === dimensionId);\r\n    return dim ? dim.name : '未知维度';\r\n};\r\n\r\n// 重置表单\r\nconst resetForm = () => {\r\n  // 使用 initialMetricForm 获取新的初始状态对象进行合并\r\n  const initial = initialMetricForm();\r\n  Object.assign(metricForm, initial); // 直接合并，不需要深拷贝，因为 initial 本身是新对象\r\n  isEditing.value = false;\r\n  editingMetricRuleId.value = null;\r\n  nextTick(() => {\r\n      metricFormRef.value?.clearValidate();\r\n  });\r\n};\r\n\r\n// 取消编辑\r\nconst cancelEdit = () => {\r\n    resetForm();\r\n};\r\n\r\n// 编辑规则\r\nconst editMetricRule = (rule) => {\r\n    isEditing.value = true;\r\n    editingMetricRuleId.value = rule.id;\r\n    // 深拷贝加载数据\r\n    Object.assign(metricForm, JSON.parse(JSON.stringify(rule)));\r\n     nextTick(() => {\r\n        metricFormRef.value?.clearValidate();\r\n     });\r\n};\r\n\r\n// 删除规则\r\nconst deleteMetricRule = (ruleId) => {\r\n    const ruleToDelete = configuredMetricRules.value.find(r => r.id === ruleId);\r\n    ElMessageBox.confirm(`确定要删除指标规则 \"${ruleToDelete?.name || ruleId}\" 吗？`, '确认删除', {\r\n        confirmButtonText: '确定', cancelButtonText: '取消', type: 'warning',\r\n    }).then(async () => {\r\n        // TODO: [API] 调用 API 删除指标规则\r\n        console.log('删除指标规则 ID:', ruleId);\r\n        loadingRules.value = true;\r\n        await new Promise(resolve => setTimeout(resolve, 300));\r\n        loadingRules.value = false;\r\n        ElMessage.success('指标规则删除成功');\r\n        loadMetricRules(); // 重新加载列表\r\n         if (isEditing.value && editingMetricRuleId.value === ruleId) {\r\n             resetForm();\r\n         }\r\n    }).catch(() => {});\r\n};\r\n\r\n// 提交表单 (创建或更新)\r\nconst submitForm = () => {\r\n  metricFormRef.value?.validate(async (valid) => {\r\n    if (valid) {\r\n       // TODO: 可以在这里加入更复杂的验证，比如关联字段规则是否为空等\r\n       // if (!metricForm.associatedFieldRuleIds || metricForm.associatedFieldRuleIds.length === 0) {\r\n       //    ElMessage.error('请至少关联一个字段规则');\r\n       //    return;\r\n       // }\r\n\r\n      saving.value = true;\r\n      try {\r\n        const payload = JSON.parse(JSON.stringify(metricForm));\r\n\r\n        if (isEditing.value) {\r\n          // TODO: [API] 调用 API 更新指标规则\r\n          console.log('更新指标规则:', payload);\r\n          await new Promise(resolve => setTimeout(resolve, 500));\r\n          ElMessage.success('指标规则更新成功');\r\n        } else {\r\n          // TODO: [API] 调用 API 创建指标规则\r\n          payload.id = `metric_${uuidv4()}`;\r\n          console.log('创建指标规则:', payload);\r\n          await new Promise(resolve => setTimeout(resolve, 500));\r\n          ElMessage.success('指标规则创建成功');\r\n        }\r\n        resetForm();\r\n        loadMetricRules();\r\n      } catch (error) {\r\n        console.error('保存指标规则失败:', error);\r\n        ElMessage.error('保存指标规则失败，请稍后重试。');\r\n      } finally {\r\n        saving.value = false;\r\n      }\r\n    } else {\r\n      ElMessage.error('表单验证失败，请检查输入项。');\r\n      return false;\r\n    }\r\n  });\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.metric-rule-config-container {\r\n  padding: 20px;\r\n}\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.el-form {\r\n    padding-right: 15px;\r\n}\r\n/* 给 Table 列加一点内边距 */\r\n:deep(.el-table .cell) {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}\r\n</style> ","import script from \"./MetricRuleConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MetricRuleConfig.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MetricRuleConfig.vue?vue&type=style&index=0&id=3ef6a466&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ef6a466\"]])\n\nexport default __exports__"],"names":["metricFormRef","ref","isEditing","editingMetricRuleId","saving","loadingRules","availableDimensions","dataTables","initialMetricForm","id","name","description","dimensionId","calculationPeriod","baseDataTable","associatedFieldRuleIds","calculationMethod","maxScore","metricForm","reactive","formRules","required","message","trigger","type","min","configuredMetricRules","periodMap","monthly","quarterly","yearly","calculationMethodMap","SUCCESS_RATE","DEDUCTION_SUBTRACT","DEDUCTION_SUM","CUSTOM_FORMULA_A","onMounted","async","loadInitialData","loadMetricRules","Promise","resolve","setTimeout","value","weight","label","uuidv4","getDimensionName","dim","find","d","resetForm","initial","Object","assign","nextTick","clearValidate","cancelEdit","editMetricRule","rule","JSON","parse","stringify","deleteMetricRule","ruleId","ruleToDelete","r","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","console","log","ElMessage","success","catch","submitForm","validate","valid","error","payload","__exports__"],"sourceRoot":""}