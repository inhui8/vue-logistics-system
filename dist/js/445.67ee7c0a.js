"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[445],{8445:(e,l,a)=>{a.r(l),a.d(l,{default:()=>O});var t=a(641),o=a(3751),u=a(953),n=a(33),i=a(5220),r=a(8548),d=a(163),s=a(7918),p=a(3344),c=a(2998),v=a(432),b=a.n(v);const k={class:"work-order-list-container"},m={class:"page-header"},g={class:"page-actions"},f={class:"search-bar"},y={class:"filter-section"},h={class:"view-management"},_={key:0,class:"table-operations"},F={class:"selected-count"},w={class:"subject-cell"},C={class:"subject-text"},V={key:1},x={class:"pagination-container"},W={class:"group-settings"},R={class:"group-level"},K={class:"group-level"},L={class:"group-level"},z={class:"dialog-footer"},S={class:"sort-settings"},A={class:"sort-actions"},U={class:"dialog-footer"},X={class:"column-settings"},D={class:"column-settings-header"},E={class:"column-list"},T={class:"column-item"},I={class:"dialog-footer"},$={__name:"ExceptionWorkOrderList",setup(e){const l=(0,i.rd)(),a=(0,u.KR)([{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"客服团队"},{id:5,name:"财务"}]),v=(0,u.KR)(!1),$=(0,u.KR)(""),j=(0,u.Kh)({status:"",type:"exception",exceptionType:"",priority:"",assignee:null,createdAtRange:[]}),N=(0,u.KR)([{id:"WO202307250001",subject:"客户反馈订单延迟问题",type:"exception",status:"pending",priority:"high",exceptionType:"客户投诉",orderNo:"ORD202307250123",creator:"张三",assignee:"李四",createdAt:new Date(Date.now()-864e5),updatedAt:new Date},{id:"WO202307250005",subject:"支付异常退款处理",type:"exception",status:"closed",priority:"high",exceptionType:"支付问题",orderNo:"ORD202307250126",creator:"李四",assignee:"财务",createdAt:new Date(Date.now()-2592e5),updatedAt:new Date(Date.now()-1728e5)},{id:"WO202307250007",subject:"入库单商品数量不符",type:"exception",status:"processing",priority:"medium",exceptionType:"系统错误",orderNo:"INB20230725005",creator:"仓库管理员",assignee:"客服团队",createdAt:new Date(Date.now()-288e5),updatedAt:new Date(Date.now()-72e5)}]),O=(0,u.Kh)({current:1,pageSize:10,total:0}),Y=(0,u.KR)([]),B=e=>{if(!e)return"-";const l=new Date(e);return`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")} ${String(l.getHours()).padStart(2,"0")}:${String(l.getMinutes()).padStart(2,"0")}`},M=e=>{const l={pending:"待处理",processing:"处理中",pending_confirmation:"待确认",resolved:"已解决",closed:"已关闭"};return l[e]||e},Q=e=>{const l={pending:"warning",processing:"primary",pending_confirmation:"info",resolved:"success",closed:"info"};return l[e]||"info"},q=e=>{const l={exception:"异常订单处理",command:"指令执行",warning:"订单预警响应",value_added:"增值服务请求",other:"其他问题"};return l[e]||e},G=e=>{const l={urgent:"紧急",high:"高",medium:"中",low:"低"};return l[e]||e},H=e=>{const l={urgent:"danger",high:"warning",medium:"info",low:"success"};return l[e]||"info"},P=e=>["pending","processing"].includes(e.status),J=()=>{O.current=1,de()},Z=()=>{j.status="",j.exceptionType="",j.priority="",j.assignee=null,j.createdAtRange=[],$.value="",J()},ee=e=>{Y.value=e},le=()=>{Y.value=[]},ae=e=>{O.pageSize=e,de()},te=e=>{O.current=e,de()},oe=()=>{l.push({path:"/work-order/create",query:{defaultType:"exception"}})},ue=e=>{l.push(`/work-order/detail/${e}`)},ne=e=>{console.log("Navigate to order detail for:",e),d.nk.info(`跳转到订单 ${e} 的详情页 (功能待实现)`)},ie=e=>{s.s.confirm(`确认开始处理工单 "${e.subject}"?`,"操作确认",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then((()=>{const a=N.value.findIndex((l=>l.id===e.id));-1!==a&&(N.value[a].status="processing",N.value[a].updatedAt=new Date),d.nk.success("工单状态已更新为：处理中"),l.push(`/work-order/detail/${e.id}`)})).catch((()=>{}))},re=()=>{if(0===Y.value.length)return void d.nk.warning("请先选择工单");const e=Y.value.filter((e=>P(e))).map((e=>e.id));0!==e.length?s.s.confirm(`确认批量处理 ${e.length} 个工单?`,"操作确认",{}).then((()=>{e.forEach((e=>{const l=N.value.findIndex((l=>l.id===e));-1!==l&&(N.value[l].status="processing",N.value[l].updatedAt=new Date)})),d.nk.success(`已开始处理 ${e.length} 个工单`),le(),de()})).catch((()=>{})):d.nk.warning("所选工单中没有可处理的工单")},de=async()=>{v.value=!0;try{const e={page:O.current,pageSize:O.pageSize,search:$.value,type:j.type,status:j.status,exceptionType:j.exceptionType,priority:j.priority,assigneeId:j.assignee,createdAtStart:j.createdAtRange?j.createdAtRange[0]:null,createdAtEnd:j.createdAtRange?j.createdAtRange[1]:null};console.log("Fetching Exception Work Orders with params:",e),setTimeout((()=>{let l=[...N.value];e.search,e.status,e.exceptionType&&(l=l.filter((l=>l.exceptionType===e.exceptionType))),e.priority,e.assigneeId;const a=(e.page-1)*e.pageSize,t=a+e.pageSize,o=l.slice(a,t);N.value=o,O.total=l.length,v.value=!1}),500)}catch(e){console.error("Failed to fetch exception work orders:",e),d.nk.error("获取异常工单列表失败"),v.value=!1}},se=(0,u.KR)("all"),pe=(0,u.KR)([]),ce=(0,u.KR)(!1),ve=(0,u.KR)(!1),be=(0,u.KR)(!1),ke=(0,u.KR)(0),me=(0,u.KR)(0),ge=(0,u.KR)({name:"",columns:[]}),fe=(0,u.KR)(!1),ye=(0,u.KR)([]),he=(0,u.KR)("and"),_e=(0,u.KR)(!1),Fe=(0,u.KR)({level1:"",level2:"",level3:""}),we=(0,u.KR)(""),Ce=(0,u.KR)(!1),Ve=(0,u.KR)([{field:"",direction:"asc"}]),xe=(0,u.KR)(!1),We=(0,u.KR)([]),Re=(0,u.KR)(!0),Ke=(0,u.KR)([{prop:"id",label:"工单号",width:150,visible:!0},{prop:"subject",label:"主题",minWidth:200,visible:!0},{prop:"type",label:"类型",width:120,visible:!0},{prop:"status",label:"状态",width:100,visible:!0},{prop:"priority",label:"优先级",width:80,visible:!0},{prop:"exceptionType",label:"异常类型",width:120,visible:!0},{prop:"orderNo",label:"关联订单",width:150,visible:!0},{prop:"creator",label:"创建人",width:100,visible:!0},{prop:"assignee",label:"当前处理人",width:100,visible:!0},{prop:"createdAt",label:"创建时间",width:180,visible:!0},{prop:"updatedAt",label:"更新时间",width:180,visible:!0},{prop:"operation",label:"操作",width:150,fixed:"right",visible:!0}]),Le=(0,u.KR)([{prop:"status",label:"状态"},{prop:"priority",label:"优先级"},{prop:"exceptionType",label:"异常类型"},{prop:"creator",label:"创建人"},{prop:"assignee",label:"处理人"}]),ze=(0,u.KR)([{prop:"createdAt",label:"创建时间"},{prop:"updatedAt",label:"更新时间"},{prop:"priority",label:"优先级"},{prop:"status",label:"状态"}]),Se=(0,t.EW)((()=>Ke.value.filter((e=>e.visible)))),Ae=e=>{const l=Le.value.find((l=>l.prop===e));return l?l.label:e},Ue=()=>{ce.value=!0},Xe=()=>{if(!ge.value.name)return void d.nk.warning("请输入视图名称");const e={id:Date.now().toString(),name:ge.value.name,columns:ge.value.columns,filters:ye.value,groupSettings:Fe.value,sortSettings:Ve.value};pe.value.push(e),ce.value=!1,d.nk.success("视图保存成功")},De=()=>{se.value&&(ve.value=!0)},Ee=()=>{se.value&&s.s.confirm("确认删除该视图？","提示",{type:"warning"}).then((()=>{const e=pe.value.findIndex((e=>e.id===se.value));-1!==e&&(pe.value.splice(e,1),se.value="all",d.nk.success("视图删除成功"))}))},Te=()=>{fe.value=!0},Ie=({filters:e,logic:l})=>{ye.value=e,he.value=l,de()},$e=()=>{fe.value=!1},je=()=>{_e.value=!0},Ne=()=>{const{level1:e,level2:l,level3:a}=Fe.value,t=[e,l,a].filter(Boolean);we.value=t[0]||"",de(),_e.value=!1},Oe=()=>{Fe.value={level1:"",level2:"",level3:""},we.value="",de()},Ye=()=>{Ce.value=!0},Be=()=>{Ve.value.push({field:"",direction:"asc"})},Me=e=>{Ve.value.splice(e,1)},Qe=()=>{de(),Ce.value=!1},qe=()=>{Ve.value=[{field:"",direction:"asc"}],de()},Ge=()=>{xe.value=!0},He=e=>{We.value.forEach((l=>{l.visible=e}))},Pe=()=>{},Je=()=>{Ke.value=We.value.map((e=>({...e,visible:e.visible}))),xe.value=!1,d.nk.success("字段配置已更新")},Ze=()=>{el(),Re.value=!0},el=()=>{We.value=Ke.value.map((e=>({...e,visible:!0})))},ll=e=>{e.preventDefault(),be.value=!0,ke.value=e.clientX,me.value=e.clientY},al=()=>{if(!se.value)return;const e=pe.value.find((e=>e.id===se.value));if(e){const l={id:Date.now().toString(),name:`${e.name} (副本)`,columns:[...e.columns],filters:[...e.filters],groupSettings:{...e.groupSettings},sortSettings:[...e.sortSettings]};pe.value.push(l),be.value=!1,d.nk.success("视图复制成功")}};return(0,t.sV)((()=>{el(),de()})),(e,l)=>{const i=(0,t.g2)("el-button"),d=(0,t.g2)("el-input"),s=(0,t.g2)("el-option"),de=(0,t.g2)("el-select"),ve=(0,t.g2)("el-form-item"),el=(0,t.g2)("el-date-picker"),tl=(0,t.g2)("el-form"),ol=(0,t.g2)("el-card"),ul=(0,t.g2)("el-radio-button"),nl=(0,t.g2)("el-radio-group"),il=(0,t.g2)("el-link"),rl=(0,t.g2)("el-tag"),dl=(0,t.g2)("el-table-column"),sl=(0,t.g2)("el-pagination"),pl=(0,t.g2)("el-checkbox"),cl=(0,t.g2)("el-checkbox-group"),vl=(0,t.g2)("el-dialog"),bl=(0,t.g2)("el-icon"),kl=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",m,[l[27]||(l[27]=(0,t.Lk)("h2",{class:"page-title"},"异常工单",-1)),(0,t.Lk)("div",g,[(0,t.bF)(i,{type:"primary",onClick:oe},{default:(0,t.k6)((()=>l[26]||(l[26]=[(0,t.eW)("提交异常反馈")]))),_:1})])]),(0,t.bF)(ol,{shadow:"never",class:"filter-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",f,[(0,t.bF)(d,{modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=e=>$.value=e),placeholder:"搜索异常工单 (工单号、主题、订单号...)",class:"search-input",onKeyup:(0,o.jR)(J,["enter"])},{append:(0,t.k6)((()=>[(0,t.bF)(i,{icon:(0,u.R1)(r.vji),onClick:J},null,8,["icon"])])),_:1},8,["modelValue"])]),(0,t.Lk)("div",y,[(0,t.bF)(tl,{inline:!0,model:j,size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(ve,{label:"状态"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{modelValue:j.status,"onUpdate:modelValue":l[1]||(l[1]=e=>j.status=e),placeholder:"按状态筛选",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"待处理",value:"pending"}),(0,t.bF)(s,{label:"处理中",value:"processing"}),(0,t.bF)(s,{label:"待确认",value:"pending_confirmation"}),(0,t.bF)(s,{label:"已解决",value:"resolved"}),(0,t.bF)(s,{label:"已关闭",value:"closed"})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ve,{label:"异常类型"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{modelValue:j.exceptionType,"onUpdate:modelValue":l[2]||(l[2]=e=>j.exceptionType=e),placeholder:"按异常类型筛选",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"缺货",value:"out_of_stock"}),(0,t.bF)(s,{label:"地址错误",value:"address_error"}),(0,t.bF)(s,{label:"支付问题",value:"payment_issue"}),(0,t.bF)(s,{label:"客户投诉",value:"customer_complaint"}),(0,t.bF)(s,{label:"系统错误",value:"system_error"})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ve,{label:"优先级"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{modelValue:j.priority,"onUpdate:modelValue":l[3]||(l[3]=e=>j.priority=e),placeholder:"按优先级筛选",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"紧急",value:"urgent"}),(0,t.bF)(s,{label:"高",value:"high"}),(0,t.bF)(s,{label:"中",value:"medium"}),(0,t.bF)(s,{label:"低",value:"low"})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ve,{label:"处理人"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{modelValue:j.assignee,"onUpdate:modelValue":l[4]||(l[4]=e=>j.assignee=e),placeholder:"按处理人筛选",clearable:"",filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ve,{label:"创建时间"},{default:(0,t.k6)((()=>[(0,t.bF)(el,{modelValue:j.createdAtRange,"onUpdate:modelValue":l[5]||(l[5]=e=>j.createdAtRange=e),type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","range-separator":"至","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ve,null,{default:(0,t.k6)((()=>[(0,t.bF)(i,{type:"primary",onClick:J},{default:(0,t.k6)((()=>l[28]||(l[28]=[(0,t.eW)("查询")]))),_:1}),(0,t.bF)(i,{onClick:Z},{default:(0,t.k6)((()=>l[29]||(l[29]=[(0,t.eW)("重置")]))),_:1})])),_:1})])),_:1},8,["model"])])])),_:1}),(0,t.Lk)("div",h,[(0,t.bF)(nl,{modelValue:se.value,"onUpdate:modelValue":l[7]||(l[7]=e=>se.value=e),size:"small",class:"status-view-group"},{default:(0,t.k6)((()=>[(0,t.bF)(ul,{value:"all"},{default:(0,t.k6)((()=>l[30]||(l[30]=[(0,t.eW)("全部")]))),_:1}),(0,t.bF)(ul,{value:"pending"},{default:(0,t.k6)((()=>l[31]||(l[31]=[(0,t.eW)("待处理")]))),_:1}),(0,t.bF)(ul,{value:"processing"},{default:(0,t.k6)((()=>l[32]||(l[32]=[(0,t.eW)("处理中")]))),_:1}),(0,t.bF)(ul,{value:"pending_confirmation"},{default:(0,t.k6)((()=>l[33]||(l[33]=[(0,t.eW)("待确认")]))),_:1}),(0,t.bF)(ul,{value:"resolved"},{default:(0,t.k6)((()=>l[34]||(l[34]=[(0,t.eW)("已解决")]))),_:1}),(0,t.bF)(ul,{value:"closed"},{default:(0,t.k6)((()=>l[35]||(l[35]=[(0,t.eW)("已关闭")]))),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(pe.value,(e=>((0,t.uX)(),(0,t.Wv)(ul,{key:e.id,label:e.id,onContextmenu:l[6]||(l[6]=(0,o.D$)((e=>ll(e)),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),(0,t.bF)(i,{type:"text",size:"small",onClick:Ue},{default:(0,t.k6)((()=>l[36]||(l[36]=[(0,t.eW)("新增视图")]))),_:1}),(0,t.bF)(i,{type:"text",size:"small",onClick:je},{default:(0,t.k6)((()=>l[37]||(l[37]=[(0,t.eW)("高级分组")]))),_:1}),(0,t.bF)(i,{type:"text",size:"small",onClick:Ye},{default:(0,t.k6)((()=>l[38]||(l[38]=[(0,t.eW)("高级排序")]))),_:1}),(0,t.bF)(i,{type:"text",size:"small",onClick:Te},{default:(0,t.k6)((()=>l[39]||(l[39]=[(0,t.eW)("筛选")]))),_:1}),(0,t.bF)(i,{type:"text",size:"small",onClick:Ge},{default:(0,t.k6)((()=>l[40]||(l[40]=[(0,t.eW)("字段配置")]))),_:1})]),(0,t.bF)(ol,{shadow:"never",class:"list-card"},{default:(0,t.k6)((()=>[Y.value.length>0?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.Lk)("span",F,"已选择 "+(0,n.v_)(Y.value.length)+" 项",1),(0,t.bF)(i,{size:"small",onClick:re},{default:(0,t.k6)((()=>l[41]||(l[41]=[(0,t.eW)("批量处理")]))),_:1}),(0,t.bF)(i,{size:"small",onClick:le},{default:(0,t.k6)((()=>l[42]||(l[42]=[(0,t.eW)("清除选择")]))),_:1})])):(0,t.Q3)("",!0),(0,t.bo)(((0,t.uX)(),(0,t.Wv)(c.A,{ref:"mainTable",data:N.value,"row-key":"id","group-fields":we.value?[we.value]:[],"show-selection":!0,"show-group-column":!!we.value,"group-column-label":we.value?Ae(we.value):"分组","default-expand-all":!1,"show-pagination":!0,"current-page":O.current,"page-size":O.pageSize,"page-sizes":[10,20,50,100],total:O.total,onSelectionChange:ee,onSizeChange:ae,onCurrentChange:te,onCellClick:e.handleCellClick,onCellDblclick:e.handleCellDbClick,style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,(e=>((0,t.uX)(),(0,t.Wv)(dl,{key:e.prop,label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,fixed:e.fixed},(0,t.eX)({_:2},["id"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(il,{type:"primary",onClick:l=>ue(e.row.id)},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.row.id),1)])),_:2},1032,["onClick"])])),key:"0"}:"subject"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.Lk)("div",w,[(0,t.Lk)("span",C,(0,n.v_)(e.row.subject),1),"urgent"===e.row.priority?((0,t.uX)(),(0,t.Wv)(rl,{key:0,type:"danger",size:"small",effect:"dark"},{default:(0,t.k6)((()=>l[43]||(l[43]=[(0,t.eW)("紧急")]))),_:1})):(0,t.Q3)("",!0)])])),key:"1"}:"type"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.eW)((0,n.v_)(q(e.row.type)),1)])),key:"2"}:"status"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(rl,{type:Q(e.row.status),size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(M(e.row.status)),1)])),_:2},1032,["type"])])),key:"3"}:"priority"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(rl,{type:H(e.row.priority),size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(G(e.row.priority)),1)])),_:2},1032,["type"])])),key:"4"}:"orderNo"===e.prop?{name:"default",fn:(0,t.k6)((e=>[e.row.orderNo?((0,t.uX)(),(0,t.Wv)(il,{key:0,type:"info",onClick:l=>ne(e.row.orderNo)},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.row.orderNo),1)])),_:2},1032,["onClick"])):((0,t.uX)(),(0,t.CE)("span",V,"-"))])),key:"5"}:"assignee"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.eW)((0,n.v_)(e.row.assignee||"未指派"),1)])),key:"6"}:"createdAt"===e.prop||"updatedAt"===e.prop?{name:"default",fn:(0,t.k6)((l=>[(0,t.eW)((0,n.v_)(B(l.row[e.prop])),1)])),key:"7"}:"operation"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(i,{link:"",type:"primary",onClick:l=>ue(e.row.id)},{default:(0,t.k6)((()=>l[44]||(l[44]=[(0,t.eW)("查看")]))),_:2},1032,["onClick"]),P(e.row)?((0,t.uX)(),(0,t.Wv)(i,{key:0,link:"",type:"primary",onClick:l=>ie(e.row)},{default:(0,t.k6)((()=>l[45]||(l[45]=[(0,t.eW)("处理")]))),_:2},1032,["onClick"])):(0,t.Q3)("",!0)])),key:"8"}:void 0]),1032,["label","prop","width","min-width","fixed"])))),128))])),_:1},8,["data","group-fields","show-group-column","group-column-label","current-page","page-size","total","onCellClick","onCellDblclick"])),[[kl,v.value]]),(0,t.Lk)("div",x,[(0,t.bF)(sl,{"current-page":O.current,"onUpdate:currentPage":l[8]||(l[8]=e=>O.current=e),"page-size":O.pageSize,"onUpdate:pageSize":l[9]||(l[9]=e=>O.pageSize=e),total:O.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ae,onCurrentChange:te},null,8,["current-page","page-size","total"])])])),_:1}),(0,t.bF)(p.A,{visible:fe.value,"onUpdate:visible":l[10]||(l[10]=e=>fe.value=e),columns:Ke.value,"existing-filters":ye.value,"existing-logic":he.value,onApplyFilters:Ie,onCancel:$e},null,8,["visible","columns","existing-filters","existing-logic"]),(0,t.bF)(vl,{title:"保存视图",modelValue:ce.value,"onUpdate:modelValue":l[14]||(l[14]=e=>ce.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(i,{onClick:l[13]||(l[13]=e=>ce.value=!1)},{default:(0,t.k6)((()=>l[46]||(l[46]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:Xe},{default:(0,t.k6)((()=>l[47]||(l[47]=[(0,t.eW)("确定")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(tl,{model:ge.value,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(ve,{label:"视图名称",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(d,{modelValue:ge.value.name,"onUpdate:modelValue":l[11]||(l[11]=e=>ge.value.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ve,{label:"显示字段"},{default:(0,t.k6)((()=>[(0,t.bF)(cl,{modelValue:ge.value.columns,"onUpdate:modelValue":l[12]||(l[12]=e=>ge.value.columns=e)},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ke.value,(e=>((0,t.uX)(),(0,t.Wv)(pl,{key:e.prop,label:e.prop},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(vl,{title:"分组设置",modelValue:_e.value,"onUpdate:modelValue":l[19]||(l[19]=e=>_e.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",z,[(0,t.bF)(i,{onClick:l[18]||(l[18]=e=>_e.value=!1)},{default:(0,t.k6)((()=>l[51]||(l[51]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"danger",onClick:Oe},{default:(0,t.k6)((()=>l[52]||(l[52]=[(0,t.eW)("清除分组")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:Ne},{default:(0,t.k6)((()=>l[53]||(l[53]=[(0,t.eW)("应用")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",W,[(0,t.Lk)("div",R,[l[48]||(l[48]=(0,t.Lk)("span",{class:"group-level-label"},"一级分组：",-1)),(0,t.bF)(de,{modelValue:Fe.value.level1,"onUpdate:modelValue":l[15]||(l[15]=e=>Fe.value.level1=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Le.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",K,[l[49]||(l[49]=(0,t.Lk)("span",{class:"group-level-label"},"二级分组：",-1)),(0,t.bF)(de,{modelValue:Fe.value.level2,"onUpdate:modelValue":l[16]||(l[16]=e=>Fe.value.level2=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Le.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",L,[l[50]||(l[50]=(0,t.Lk)("span",{class:"group-level-label"},"三级分组：",-1)),(0,t.bF)(de,{modelValue:Fe.value.level3,"onUpdate:modelValue":l[17]||(l[17]=e=>Fe.value.level3=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Le.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,t.bF)(vl,{title:"排序设置",modelValue:Ce.value,"onUpdate:modelValue":l[21]||(l[21]=e=>Ce.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",U,[(0,t.bF)(i,{onClick:l[20]||(l[20]=e=>Ce.value=!1)},{default:(0,t.k6)((()=>l[56]||(l[56]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"danger",onClick:qe},{default:(0,t.k6)((()=>l[57]||(l[57]=[(0,t.eW)("清除排序")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:Qe},{default:(0,t.k6)((()=>l[58]||(l[58]=[(0,t.eW)("应用")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",S,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ve.value,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"sort-item"},[(0,t.bF)(de,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",style:{width:"200px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ze.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(de,{modelValue:e.direction,"onUpdate:modelValue":l=>e.direction=l,placeholder:"排序方向",style:{width:"120px"}},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"升序",value:"asc"}),(0,t.bF)(s,{label:"降序",value:"desc"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(i,{type:"danger",size:"small",onClick:e=>Me(a)},{default:(0,t.k6)((()=>l[54]||(l[54]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128)),(0,t.Lk)("div",A,[(0,t.bF)(i,{type:"primary",plain:"",onClick:Be},{default:(0,t.k6)((()=>l[55]||(l[55]=[(0,t.eW)("添加排序字段")]))),_:1})])])])),_:1},8,["modelValue"]),(0,t.bF)(vl,{title:"字段配置",modelValue:xe.value,"onUpdate:modelValue":l[25]||(l[25]=e=>xe.value=e),width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",I,[(0,t.bF)(i,{onClick:l[24]||(l[24]=e=>xe.value=!1)},{default:(0,t.k6)((()=>l[61]||(l[61]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:Je},{default:(0,t.k6)((()=>l[62]||(l[62]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",X,[(0,t.Lk)("div",D,[(0,t.bF)(pl,{modelValue:Re.value,"onUpdate:modelValue":l[22]||(l[22]=e=>Re.value=e),onChange:He},{default:(0,t.k6)((()=>l[59]||(l[59]=[(0,t.eW)("全选")]))),_:1},8,["modelValue"]),(0,t.bF)(i,{type:"primary",size:"small",onClick:Ze},{default:(0,t.k6)((()=>l[60]||(l[60]=[(0,t.eW)("重置")]))),_:1})]),(0,t.Lk)("div",E,[(0,t.bF)((0,u.R1)(b()),{modelValue:We.value,"onUpdate:modelValue":l[23]||(l[23]=e=>We.value=e),"item-key":"prop",handle:".drag-handle",onEnd:Pe},{item:(0,t.k6)((({element:e})=>[(0,t.Lk)("div",T,[(0,t.bF)(bl,{class:"drag-handle"},{default:(0,t.k6)((()=>[(0,t.bF)((0,u.R1)(r.V6m))])),_:1}),(0,t.bF)(pl,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,t.bo)((0,t.Lk)("div",{class:"context-menu",style:(0,n.Tr)({left:ke.value+"px",top:me.value+"px"})},[(0,t.Lk)("div",{class:"context-menu-item",onClick:al},l[63]||(l[63]=[(0,t.Lk)("span",null,"复制视图",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:De},l[64]||(l[64]=[(0,t.Lk)("span",null,"重命名",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:Ee},l[65]||(l[65]=[(0,t.Lk)("span",null,"删除",-1)]))],4),[[o.aG,be.value]])])}}};var j=a(6262);const N=(0,j.A)($,[["__scopeId","data-v-0ed3f8d6"]]),O=N}}]);
//# sourceMappingURL=445.67ee7c0a.js.map