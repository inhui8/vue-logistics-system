{"version":3,"file":"js/8595.3cbe1438.js","mappings":"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","sources":["webpack://vue-logistics-system/./src/views/MessageManage.vue","webpack://vue-logistics-system/./src/views/MessageManage.vue?ddbf"],"sourcesContent":["<template>\r\n  <div class=\"message-manage\">\r\n    <el-card class=\"send-message\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>发送消息</span>\r\n        </div>\r\n      </template>\r\n      <el-form ref=\"formRef\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n        <el-form-item label=\"消息类型\" prop=\"type\">\r\n          <el-select v-model=\"form.type\" placeholder=\"请选择消息类型\">\r\n            <el-option label=\"指令工单\" value=\"command\" />\r\n            <el-option label=\"异常工单\" value=\"exception\" />\r\n            <el-option label=\"增值服务\" value=\"value-added\" />\r\n            <el-option label=\"系统公告\" value=\"announcement\" />\r\n            <el-option label=\"管理员信息\" value=\"admin\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"接收对象\" prop=\"receivers\">\r\n          <el-select v-model=\"form.receivers\" multiple placeholder=\"请选择接收对象\">\r\n            <el-option label=\"全体用户\" value=\"all\" />\r\n            <el-option v-for=\"user in users\" :key=\"user.id\" :label=\"user.name\" :value=\"user.id\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"消息标题\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" placeholder=\"请输入消息标题\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"消息内容\" prop=\"content\">\r\n          <el-input\r\n            v-model=\"form.content\"\r\n            type=\"textarea\"\r\n            :rows=\"6\"\r\n            placeholder=\"请输入消息内容\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"发送方式\" prop=\"isSystem\">\r\n          <el-radio-group v-model=\"form.isSystem\">\r\n            <el-radio :label=\"true\">系统自动</el-radio>\r\n            <el-radio :label=\"false\">人工发送</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm\">发送</el-button>\r\n          <el-button @click=\"resetForm\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-card class=\"message-history\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>发送历史</span>\r\n        </div>\r\n      </template>\r\n      <el-table :data=\"messageHistory\" style=\"width: 100%\">\r\n        <el-table-column prop=\"number\" label=\"单号\" width=\"180\" />\r\n        <el-table-column prop=\"type\" label=\"类型\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getTagType(row.type)\">{{ getTypeText(row.type) }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"title\" label=\"标题\" />\r\n        <el-table-column prop=\"receivers\" label=\"接收对象\" width=\"150\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatReceivers(row.receivers) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"createTime\" label=\"发送时间\" width=\"180\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatTime(row.createTime) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"isSystem\" label=\"发送方式\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.isSystem ? '系统自动' : '人工发送' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150\">\r\n          <template #default=\"{ row }\">\r\n            <el-button type=\"text\" @click=\"viewDetail(row)\">查看</el-button>\r\n            <el-button type=\"text\" class=\"delete-btn\" @click=\"deleteMessage(row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          v-model:current-page=\"currentPage\"\r\n          v-model:page-size=\"pageSize\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :total=\"total\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { formatTime } from '@/utils/time'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'MessageManage',\r\n  setup() {\r\n    const formRef = ref(null)\r\n    const currentPage = ref(1)\r\n    const pageSize = ref(10)\r\n    const total = ref(100)\r\n    const router = useRouter()\r\n\r\n    const form = reactive({\r\n      type: '',\r\n      receivers: [],\r\n      title: '',\r\n      content: '',\r\n      isSystem: false\r\n    })\r\n\r\n    const rules = {\r\n      type: [{ required: true, message: '请选择消息类型', trigger: 'change' }],\r\n      receivers: [{ required: true, message: '请选择接收对象', trigger: 'change' }],\r\n      title: [{ required: true, message: '请输入消息标题', trigger: 'blur' }],\r\n      content: [{ required: true, message: '请输入消息内容', trigger: 'blur' }]\r\n    }\r\n\r\n    // 模拟用户数据\r\n    const users = ref([\r\n      { id: 1, name: '张三' },\r\n      { id: 2, name: '李四' },\r\n      { id: 3, name: '王五' }\r\n    ])\r\n\r\n    // 模拟消息历史数据\r\n    const messageHistory = ref([\r\n      {\r\n        id: 1,\r\n        number: 'CMD20240315001',\r\n        type: 'command',\r\n        title: '新的指令工单',\r\n        receivers: ['all'],\r\n        createTime: new Date(),\r\n        isSystem: true\r\n      },\r\n      {\r\n        id: 2,\r\n        number: 'EXP20240315001',\r\n        type: 'exception',\r\n        title: '异常工单提醒',\r\n        receivers: [1, 2],\r\n        createTime: new Date(Date.now() - 1000 * 60 * 30),\r\n        isSystem: true\r\n      },\r\n      {\r\n        id: 3,\r\n        number: 'VAS20240315001',\r\n        type: 'value-added',\r\n        title: '增值服务通知',\r\n        receivers: [3],\r\n        createTime: new Date(Date.now() - 1000 * 60 * 60),\r\n        isSystem: false\r\n      }\r\n    ])\r\n\r\n    const getTypeText = (type) => {\r\n      const typeMap = {\r\n        command: '指令工单',\r\n        exception: '异常工单',\r\n        'value-added': '增值服务',\r\n        announcement: '系统公告',\r\n        admin: '管理员信息'\r\n      }\r\n      return typeMap[type] || '未知类型'\r\n    }\r\n\r\n    const getTagType = (type) => {\r\n      const typeMap = {\r\n        command: 'primary',\r\n        exception: 'danger',\r\n        'value-added': 'success',\r\n        announcement: 'warning',\r\n        admin: 'info'\r\n      }\r\n      return typeMap[type] || ''\r\n    }\r\n\r\n    const formatReceivers = (receivers) => {\r\n      if (receivers.includes('all')) {\r\n        return '全体用户'\r\n      }\r\n      return receivers.length + '个用户'\r\n    }\r\n\r\n    const submitForm = () => {\r\n      formRef.value.validate((valid) => {\r\n        if (valid) {\r\n          // 这里应该是调用API发送消息\r\n          ElMessage.success('消息发送成功')\r\n          resetForm()\r\n        }\r\n      })\r\n    }\r\n\r\n    const resetForm = () => {\r\n      formRef.value.resetFields()\r\n    }\r\n\r\n    const viewDetail = (row) => {\r\n      // 跳转到消息详情页\r\n      router.push({\r\n        path: '/messages/detail',\r\n        query: { id: row.id }\r\n      })\r\n    }\r\n\r\n    const deleteMessage = (row) => {\r\n      ElMessageBox.confirm('确定要删除这条消息吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 这里应该是调用API删除消息\r\n        messageHistory.value = messageHistory.value.filter(item => item.id !== row.id)\r\n        ElMessage.success('删除成功')\r\n      })\r\n    }\r\n\r\n    const handleSizeChange = (val) => {\r\n      pageSize.value = val\r\n      // 这里应该是重新加载数据\r\n    }\r\n\r\n    const handleCurrentChange = (val) => {\r\n      currentPage.value = val\r\n      // 这里应该是重新加载数据\r\n    }\r\n\r\n    return {\r\n      formRef,\r\n      form,\r\n      rules,\r\n      users,\r\n      messageHistory,\r\n      currentPage,\r\n      pageSize,\r\n      total,\r\n      formatTime,\r\n      getTypeText,\r\n      getTagType,\r\n      formatReceivers,\r\n      submitForm,\r\n      resetForm,\r\n      viewDetail,\r\n      deleteMessage,\r\n      handleSizeChange,\r\n      handleCurrentChange\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.message-manage {\r\n  padding: 20px;\r\n}\r\n\r\n.send-message {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.delete-btn {\r\n  color: #F56C6C;\r\n}\r\n</style> ","import { render } from \"./MessageManage.vue?vue&type=template&id=6e96cc35&scoped=true\"\nimport script from \"./MessageManage.vue?vue&type=script&lang=js\"\nexport * from \"./MessageManage.vue?vue&type=script&lang=js\"\n\nimport \"./MessageManage.vue?vue&type=style&index=0&id=6e96cc35&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e96cc35\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","default","_component_el_form","ref","model","$setup","form","rules","_component_el_form_item","label","prop","_component_el_select","modelValue","type","$event","placeholder","_component_el_option","value","_","receivers","multiple","_Fragment","_renderList","users","user","_createBlock","key","id","name","_component_el_input","title","content","rows","_component_el_radio_group","isSystem","_component_el_radio","_createTextVNode","_component_el_button","onClick","submitForm","resetForm","_component_el_table","data","messageHistory","style","_component_el_table_column","width","row","_component_el_tag","getTagType","_toDisplayString","getTypeText","formatReceivers","formatTime","createTime","viewDetail","deleteMessage","_hoisted_2","_component_el_pagination","currentPage","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","setup","formRef","router","useRouter","reactive","required","message","trigger","number","Date","now","typeMap","command","exception","announcement","admin","includes","length","validate","valid","ElMessage","success","resetFields","push","path","query","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","filter","item","val","__exports__","render"],"sourceRoot":""}