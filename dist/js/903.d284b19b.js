"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[903],{5903:(e,a,l)=>{l.r(a),l.d(a,{default:()=>s});var t=l(641),o=l(33),r=l(953);const n={class:"log-list-container"},d={__name:"LogList",setup(e){const a=(0,r.KR)([]),l=(e=150)=>{const a=[{key:"supplier",label:"供应商管理"},{key:"role",label:"角色管理"},{key:"order",label:"订单管理"},{key:"quote",label:"报价管理"},{key:"login",label:"登录/登出"}],l=["创建","更新","删除","查看","审批通过","审批拒绝","分配","登录","登出"],t=["管理员A","运营专员B","调度员C","系统管理员"],o=[],r=Date.now();for(let n=0;n<e;n++){const e=r-Math.floor(30*Math.random()*24*60*60*1e3),d=a[Math.floor(Math.random()*a.length)],u=l[Math.floor(Math.random()*l.length)],p=t[Math.floor(Math.random()*t.length)];o.push({id:"log_"+(r-n),timestamp:new Date(e).toLocaleString("sv-SE"),operator:p,module:d.key,action:u,details:`${u}了 ${d.label} 中的项目 ID: ${Math.floor(1e3*Math.random())}`,ipAddress:`192.168.${Math.floor(255*Math.random())}.${Math.floor(255*Math.random())}`})}return o.sort(((e,a)=>new Date(a.timestamp)-new Date(e.timestamp)))},d=(0,r.Kh)({operator:"",module:"",dateRange:[]}),u=(0,r.Kh)({currentPage:1,pageSize:10}),p=(0,t.EW)((()=>s.value.length)),s=(0,t.EW)((()=>a.value.filter((e=>{const a=!d.operator||e.operator.includes(d.operator),l=!d.module||e.module===d.module,t=!d.dateRange||2!==d.dateRange.length||new Date(e.timestamp)>=new Date(d.dateRange[0])&&new Date(e.timestamp)<=new Date(d.dateRange[1]);return a&&l&&t})))),i=(0,t.EW)((()=>{const e=(u.currentPage-1)*u.pageSize,a=e+u.pageSize;return s.value.slice(e,a)})),g=e=>{const a={supplier:"供应商管理",role:"角色管理",order:"订单管理",quote:"报价管理",login:"登录/登出"};return a[e]||e},m=()=>{u.currentPage=1},b=e=>{u.pageSize=e,u.currentPage=1},c=e=>{u.currentPage=e};return(0,t.sV)((()=>{a.value=l()})),(e,a)=>{const l=(0,t.g2)("el-input"),r=(0,t.g2)("el-form-item"),s=(0,t.g2)("el-option"),h=(0,t.g2)("el-select"),f=(0,t.g2)("el-date-picker"),k=(0,t.g2)("el-button"),v=(0,t.g2)("el-form"),F=(0,t.g2)("el-table-column"),_=(0,t.g2)("el-table"),w=(0,t.g2)("el-pagination"),M=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.bF)(M,null,{header:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("span",null,"操作日志")],-1)]))),default:(0,t.k6)((()=>[(0,t.bF)(v,{inline:!0,model:d,class:"filter-form"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{label:"操作人"},{default:(0,t.k6)((()=>[(0,t.bF)(l,{modelValue:d.operator,"onUpdate:modelValue":a[0]||(a[0]=e=>d.operator=e),placeholder:"输入操作人名称",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(r,{label:"操作模块"},{default:(0,t.k6)((()=>[(0,t.bF)(h,{modelValue:d.module,"onUpdate:modelValue":a[1]||(a[1]=e=>d.module=e),placeholder:"选择模块",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"供应商管理",value:"supplier"}),(0,t.bF)(s,{label:"角色管理",value:"role"}),(0,t.bF)(s,{label:"订单管理",value:"order"}),(0,t.bF)(s,{label:"报价管理",value:"quote"})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(r,{label:"时间范围"},{default:(0,t.k6)((()=>[(0,t.bF)(f,{modelValue:d.dateRange,"onUpdate:modelValue":a[2]||(a[2]=e=>d.dateRange=e),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1}),(0,t.bF)(r,null,{default:(0,t.k6)((()=>[(0,t.bF)(k,{type:"primary",onClick:m},{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)("查询")]))),_:1})])),_:1})])),_:1},8,["model"]),(0,t.bF)(_,{data:i.value,style:{width:"100%"},border:""},{default:(0,t.k6)((()=>[(0,t.bF)(F,{prop:"timestamp",label:"操作时间",width:"180"}),(0,t.bF)(F,{prop:"operator",label:"操作人",width:"120"}),(0,t.bF)(F,{prop:"module",label:"操作模块",width:"150"},{default:(0,t.k6)((e=>[(0,t.eW)((0,o.v_)(g(e.row.module)),1)])),_:1}),(0,t.bF)(F,{prop:"action",label:"操作类型",width:"120"}),(0,t.bF)(F,{prop:"details",label:"操作详情","show-overflow-tooltip":""}),(0,t.bF)(F,{prop:"ipAddress",label:"IP 地址",width:"150"})])),_:1},8,["data"]),(0,t.bF)(w,{style:{"margin-top":"20px","justify-content":"flex-end"},background:"",layout:"total, sizes, prev, pager, next, jumper",total:p.value,"page-sizes":[10,20,50,100],"page-size":u.pageSize,"current-page":u.currentPage,onSizeChange:b,onCurrentChange:c},null,8,["total","page-size","current-page"])])),_:1})])}}};var u=l(6262);const p=(0,u.A)(d,[["__scopeId","data-v-b375c8d8"]]),s=p}}]);
//# sourceMappingURL=903.d284b19b.js.map