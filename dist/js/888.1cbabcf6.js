"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[888],{4888:(e,l,a)=>{a.r(l),a.d(l,{default:()=>E});var t=a(641),u=a(953),i=a(33),n=a(3751),d=a(163),r=a(7918),o=a(8548),s=a(432),p=a.n(s),c=a(3344),v=a(2998);const m={class:"bidding-list-container"},b={class:"card-header"},k={class:"view-management"},g={class:"group-settings"},f={class:"group-level"},h={class:"group-level"},w={class:"group-level"},F={class:"dialog-footer"},_={class:"sort-settings"},y={class:"sort-actions"},V={class:"dialog-footer"},L={class:"column-settings"},W={class:"column-settings-header"},C={class:"column-list"},x={class:"column-item"},S={class:"dialog-footer"},K={key:1},T={key:0},D={key:2,style:{"text-align":"center",color:"#909399","margin-top":"10px"}},I={class:"dialog-footer"},R={key:0},U={key:0,style:{"text-align":"center",color:"#909399","margin-top":"10px"}},M={class:"dialog-footer"},P={__name:"BiddingList",setup(e){const l=(0,u.KR)([{id:"supplier_1",name:"测试供应商A"},{id:"supplier_2",name:"测试供应商B"},{id:"supplier_3",name:"测试供应商C"},{id:"supplier_4",name:"测试供应商D"}]),a=(0,u.KR)([]);let s=null;const P=(e=20)=>{const a=["年度提柜服务竞标","Q3 旺季派送补充运力","紧急线路竞价","新仓库启用运输招标"],t=["LAX-ONT8 提柜","LGB-LAX9 提柜","ONT8-SBD1 派送","JFK-TEB9 提柜"],u=["preparing","bidding","ended","awarded","cancelled"],i=[],n=Date.now();for(let d=0;d<e;d++){const e=u[Math.floor(Math.random()*u.length)],r=new Date(n-Math.floor(30*Math.random()*24*60*60*1e3)),o=new Date(r.getTime()+("preparing"===e?5*Math.random()*24*60*60*1e3:3*-Math.random()*24*60*60*1e3)),s=new Date(o.getTime()+60*(4*Math.random()+1)*60*1e3),p=Math.floor(Math.random()*(l.value.length-1))+2,c=[...l.value].sort((()=>.5-Math.random())).slice(0,p);let v=[],m=0,b=null,k=null,g=null,f=null;if("bidding"===e||"ended"===e||"awarded"===e){const e=Math.floor(Math.random()*p)+1,l=c.slice(0,e);v=l.map((e=>{const l=[],a=Math.floor(5*Math.random())+1;let t=1e3+1e3*Math.random(),u=new Date(o.getTime()+Math.random()*(Math.min(s.getTime(),Date.now())-o.getTime()));for(let i=0;i<a;i++)l.push({price:t,time:u}),t-=100*Math.random(),u=new Date(u.getTime()-10*Math.random()*60*1e3);return l.sort(((e,l)=>e.price-l.price)),{supplierId:e.id,supplierName:e.name,bidPrice:Math.max(100,l[0].price),bidTime:l[0].time.toLocaleString(),bidCount:a,remarks:Math.random()>.8?`供应商${e.name}的竞价备注...`:"",rating:Math.floor(40*Math.random())+60}})),v.sort(((e,l)=>e.bidPrice-l.bidPrice)),m=v.reduce(((e,l)=>e+l.bidCount),0),v.length>0&&(b=v[0].bidPrice)}if("awarded"===e&&v.length>0){const e=v[0];k=e.supplierId,g=e.supplierName,f=e.bidPrice}i.push({id:`BID-${String(r.getFullYear()).slice(2)}${String(d+1e3).slice(1)}`,name:`${a[Math.floor(Math.random()*a.length)]} #${d+1}`,serviceDescription:t[Math.floor(Math.random()*t.length)],details:`详细需求描述 ${d+1}...`,startTime:o.toLocaleString(),endTime:s.toLocaleString(),startPrice:Math.random()>.5?parseFloat((1500+500*Math.random()).toFixed(2)):null,invitedSupplierIds:c.map((e=>e.id)),invitedCount:p,status:e,remarks:Math.random()>.7?`项目备注 ${d+1}...`:"",bids:v,bidCount:m,currentLowestBid:b,awardedSupplierId:k,awardedSupplierName:g,awardedPrice:f})}return i},X={preparing:{label:"准备中",tag:"info"},bidding:{label:"竞价中",tag:"primary"},ended:{label:"已结束 (待授标)",tag:"warning"},awarded:{label:"已授标",tag:"success"},cancelled:{label:"已流标/取消",tag:"danger"}},N=[{prop:"id",label:"项目编号",width:150,sortable:!0},{prop:"name",label:"项目名称",minWidth:200,showOverflowTooltip:!0,sortable:!0},{prop:"startTime",label:"开始时间",width:160,sortable:!0},{prop:"endTime",label:"结束时间",width:160,sortable:!0},{prop:"invitedCount",label:"受邀供应商数",width:130,align:"center",sortable:!0},{prop:"bidCount",label:"出价次数",width:110,align:"center",sortable:!0},{prop:"currentLowestBid",label:"当前最低价 (USD)",width:160,sortable:!0},{prop:"remarks",label:"备注",width:200,showOverflowTooltip:!0},{prop:"status",label:"状态",width:150,sortable:!0},{prop:"operation",label:"操作",fixed:"right",width:280}],E=(0,u.KR)([...N]),$=(0,u.KR)([...N]),z=(0,u.KR)([]),O=(0,u.KR)("all"),B=(0,u.KR)([]),A=(0,u.KR)(!1),Y=(0,u.KR)(!1),J=(0,u.KR)(!1),q=(0,u.KR)(!1),Q=(0,u.KR)(0),H=(0,u.KR)(0),G=(0,u.KR)(""),j=(0,u.KR)({name:"",columns:[]}),Z=(0,u.KR)(null),ee=(0,u.KR)({name:""}),le=(0,u.KR)(!1),ae=(0,u.KR)([]),te=(0,u.KR)("and"),ue=(0,u.KR)(!1),ie=(0,u.KR)({level1:"",level2:"",level3:""}),ne=(0,t.EW)((()=>E.value.filter((e=>"operation"!==e.prop&&!["id"].includes(e.prop))))),de=(0,u.KR)(!1),re=(0,u.KR)([{field:"",direction:"desc"}]),oe=(0,t.EW)((()=>E.value.filter((e=>e.sortable&&"operation"!==e.prop)))),se=(0,u.KR)(!1),pe=(0,u.KR)([]),ce=(0,u.KR)(!0),ve=e=>a.value.filter((l=>l.status===e)).length,me=e=>{const l=E.value.find((l=>l.prop===e));return l?`按${l.label}分组`:"分组"},be=()=>{le.value=!0},ke=e=>{ae.value=e.filters,te.value=e.logic,fe()},ge=()=>{},fe=()=>{},he=()=>{ue.value=!0},we=()=>{ie.value={level1:"",level2:"",level3:""},G.value=""},Fe=()=>{ie.value.level1?G.value=ie.value.level1:G.value="",ue.value=!1},_e=()=>{de.value=!0},ye=()=>{re.value.push({field:"",direction:"asc"})},Ve=e=>{re.value.splice(e,1),0===re.value.length&&(re.value=[{field:"",direction:"asc"}])},Le=()=>{re.value=[{field:"",direction:"asc"}]},We=()=>{const e=re.value.filter((e=>e.field));if(e.length>0){const{field:l,direction:t}=e[0];a.value.sort(((e,a)=>{const u=e[l],i=a[l];return"asc"===t?u<i?-1:u>i?1:0:u>i?-1:u<i?1:0}))}de.value=!1},Ce=()=>{pe.value=JSON.parse(JSON.stringify(E.value)),ce.value=pe.value.every((e=>!1!==e.visible)),se.value=!0},xe=e=>{pe.value.forEach((l=>{l.visible=e}))},Se=()=>{pe.value=JSON.parse(JSON.stringify(N)),ce.value=!0},Ke=()=>{E.value=pe.value,$.value=E.value.filter((e=>!1!==e.visible)),se.value=!1},Te=()=>{},De=(e,l)=>{e.preventDefault(),Z.value=l,Q.value=e.clientX,H.value=e.clientY,q.value=!0;const a=()=>{q.value=!1,document.removeEventListener("click",a)};setTimeout((()=>{document.addEventListener("click",a)}),0)},Ie=()=>{j.value={name:"",columns:E.value.filter((e=>!1!==e.visible)).map((e=>e.prop))},A.value=!0},Re=()=>{if(!j.value.name.trim())return void d.nk.warning("请输入视图名称");const e="view_"+Date.now(),l={id:e,name:j.value.name,columns:j.value.columns,filters:JSON.parse(JSON.stringify(ae.value)),filterLogic:te.value,groupField:G.value};B.value.push(l),O.value=e,A.value=!1,d.nk.success("视图保存成功")},Ue=()=>{Z.value&&(ee.value.name=Z.value.name,J.value=!0,Y.value=!1)},Me=()=>{if(!ee.value.name.trim())return void d.nk.warning("请输入视图名称");const e=B.value.findIndex((e=>e.id===Z.value.id));-1!==e&&(B.value[e].name=ee.value.name,d.nk.success("视图重命名成功")),J.value=!1},Pe=()=>{if(!Z.value)return;const e="view_"+Date.now(),l=JSON.parse(JSON.stringify(Z.value));l.id=e,l.name=`${l.name} (复制)`,B.value.push(l),O.value=e,Y.value=!1,d.nk.success("视图复制成功")},Xe=()=>{Z.value&&r.s.confirm(`确定要删除视图"${Z.value.name}"吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=B.value.findIndex((e=>e.id===Z.value.id));-1!==e&&(B.value.splice(e,1),O.value===Z.value.id&&(O.value="all"),d.nk.success("视图删除成功")),Y.value=!1})).catch((()=>{}))},Ne=e=>{z.value=e},Ee=(0,t.EW)((()=>{let e=a.value;if("all"===O.value||O.value.startsWith("view_")){if(O.value.startsWith("view_")){const l=B.value.find((e=>e.id===O.value));l&&l.filters&&l.filters.length>0&&(e=e.filter((e=>{const a=l.filters.map((l=>{const{field:a,operator:t,value:u}=l,i=e[a];switch(t){case"eq":return i===u;case"neq":return i!==u;case"contains":return String(i).includes(u);case"notContains":return!String(i).includes(u);case"startsWith":return String(i).startsWith(u);case"endsWith":return String(i).endsWith(u);case"gt":return i>u;case"gte":return i>=u;case"lt":return i<u;case"lte":return i<=u;case"in":return!!Array.isArray(u)&&u.includes(i);case"notIn":return!Array.isArray(u)||!u.includes(i);default:return!0}}));return"and"===l.filterLogic?a.every((e=>e)):a.some((e=>e))})))}}else e=e.filter((e=>e.status===O.value));return e=e.filter((e=>{const l=!$e.status||e.status===$e.status,a=!$e.name||(e.name.includes($e.name)||e.id.includes($e.name)),t=!$e.dateRange||2!==$e.dateRange.length||new Date(e.startTime.split(" ")[0])>=new Date($e.dateRange[0])&&new Date(e.startTime.split(" ")[0])<=new Date($e.dateRange[1]);return l&&a&&t})),ae.value&&ae.value.length>0&&(e=e.filter((e=>{const l=ae.value.map((l=>{const{field:a,operator:t,value:u}=l,i=e[a];switch(t){case"eq":return i===u;case"neq":return i!==u;case"contains":return String(i).includes(u);case"notContains":return!String(i).includes(u);case"startsWith":return String(i).startsWith(u);case"endsWith":return String(i).endsWith(u);case"gt":return i>u;case"gte":return i>=u;case"lt":return i<u;case"lte":return i<=u;case"in":return!!Array.isArray(u)&&u.includes(i);case"notIn":return!Array.isArray(u)||!u.includes(i);default:return!0}}));return"and"===te.value?l.every((e=>e)):l.some((e=>e))}))),e}));(0,t.wB)(O,(e=>{if(e.startsWith("view_")){const l=B.value.find((l=>l.id===e));l&&l.groupField&&(G.value=l.groupField)}}),{immediate:!0}),(0,t.sV)((()=>{a.value=P(),$.value=E.value.filter((e=>!1!==e.visible))})),(0,t.hi)((()=>{pl()}));const $e=(0,u.Kh)({status:"",name:"",dateRange:[]}),ze=(0,u.Kh)({currentPage:1,pageSize:10}),Oe=(0,t.EW)((()=>Ee.value.length)),Be=(0,t.EW)((()=>{const e=(ze.currentPage-1)*ze.pageSize,l=e+ze.pageSize;let a=[...Ee.value];return a.slice(e,l)})),Ae=(0,u.KR)(!1),Ye=(0,u.KR)(!1),Je=(0,u.KR)(""),qe=(0,u.KR)(!1),Qe=(0,u.KR)(null),He=(0,u.KR)(null),Ge={name:"",serviceDescription:"",details:"",startTime:"",endTime:"",startPrice:null,invitedSupplierIds:[]},je=(0,u.Kh)({...Ge}),Ze=(0,u.Kh)({name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],serviceDescription:[{required:!0,message:"请输入服务类型/线路",trigger:"blur"}],details:[{required:!0,message:"请输入详细需求描述",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}],invitedSupplierIds:[{required:!0,type:"array",message:"请至少邀请一个供应商",trigger:"change"}]}),el=e=>X[e]?.label||e,ll=e=>X[e]?.tag||"info",al=()=>{ze.currentPage=1},tl=()=>{ul(),qe.value=!0,Je.value="创建新竞价项目",Ae.value=!0},ul=()=>{Object.assign(je,Ge),(0,t.dY)((()=>{Qe.value?.clearValidate()}))},il=e=>{He.value=JSON.parse(JSON.stringify(e)),qe.value=!1,Je.value=`竞价详情 (${e.id})`,Ae.value=!0,sl()},nl=e=>{r.s.confirm(`确定要取消竞价项目 ${e.name} (${e.id}) 吗?`,"确认取消",{type:"warning"}).then((()=>{console.log("取消竞价项目:",e.id);const l=a.value.findIndex((l=>l.id===e.id));-1===l||"preparing"!==a.value[l].status&&"bidding"!==a.value[l].status?d.nk.error("操作失败或状态已不允许取消"):(a.value[l].status="cancelled",d.nk.success("竞价项目已取消"))})).catch((()=>d.nk.info("取消操作")))},dl=e=>{if(!He.value)return;const l=He.value;r.s.confirm(`确定将此项目授予供应商 ${e.supplierName} (最终价: ${e.bidPrice?.toFixed(2)} USD) 吗?`,"确认授标",{type:"success"}).then((()=>{console.log(`授标给: ${e.supplierName} for bidding ${l.id}`);const t=a.value.findIndex((e=>e.id===l.id));-1!==t&&"ended"===a.value[t].status?(a.value[t].status="awarded",a.value[t].awardedSupplierId=e.supplierId,a.value[t].awardedSupplierName=e.supplierName,a.value[t].awardedPrice=e.bidPrice,He.value.status="awarded",He.value.awardedSupplierId=e.supplierId,He.value.awardedSupplierName=e.supplierName,He.value.awardedPrice=e.bidPrice,d.nk.success("授标成功")):d.nk.error('授标失败: 状态不是"已结束"')})).catch((()=>d.nk.info("取消授标")))},rl=()=>{ul(),He.value=null,pl(),Ae.value=!1},ol=async()=>{if(Qe.value)try{await Qe.value.validate();const e=new Date,l={id:`BID-${String(e.getFullYear()).slice(2)}${String(Date.now()).slice(-5)}`,name:je.name,serviceDescription:je.serviceDescription,details:je.details,startTime:je.startTime,endTime:je.endTime,startPrice:je.startPrice,invitedSupplierIds:je.invitedSupplierIds,invitedCount:je.invitedSupplierIds.length,status:"preparing",bids:[],bidCount:0,currentLowestBid:null,awardedSupplierId:null,awardedSupplierName:null,awardedPrice:null};console.log("创建新竞价项目:",l),a.value.unshift(l),d.nk.success("竞价项目创建成功，状态：准备中"),Ae.value=!1}catch(e){console.log("表单验证失败:",e),d.nk.error("请检查表单填写是否正确")}},sl=()=>{pl(),He.value&&"bidding"===He.value.status&&(s=setInterval((()=>{if(He.value&&"bidding"===He.value.status){console.log("模拟刷新竞价数据...");const e=He.value.bids;if(e&&e.length>0){const l=Math.floor(Math.random()*e.length),a=e[l];a.bidPrice=Math.max(100,a.bidPrice-50*Math.random()),a.bidCount+=1,a.bidTime=(new Date).toLocaleString(),e.sort(((e,l)=>e.bidPrice-l.bidPrice)),He.value.currentLowestBid=e[0]?.bidPrice,He.value.bidCount+=1}}}),5e3))},pl=()=>{s&&(clearInterval(s),s=null)},cl=(e,l)=>{switch(e){case"monitor":il(l);break;case"endEarly":vl(l);break;case"cancel":nl(l);break}},vl=e=>{He.value=JSON.parse(JSON.stringify(e)),Ye.value=!0},ml=e=>{r.s.confirm(`确定要提前结束竞价并授予供应商 ${e.supplierName} (最终价: ${e.bidPrice?.toFixed(2)} USD) 吗?`,"确认提前结束并授标",{type:"warning"}).then((()=>{const l=a.value.findIndex((e=>e.id===He.value.id));-1!==l&&"bidding"===a.value[l].status?(a.value[l].status="awarded",a.value[l].endTime=(new Date).toLocaleString(),a.value[l].awardedSupplierId=e.supplierId,a.value[l].awardedSupplierName=e.supplierName,a.value[l].awardedPrice=e.bidPrice,He.value.status="awarded",He.value.awardedSupplierId=e.supplierId,He.value.awardedSupplierName=e.supplierName,He.value.awardedPrice=e.bidPrice,d.nk.success("竞价项目已提前结束并授标"),Ye.value=!1):d.nk.error("操作失败或状态已不允许提前结束")})).catch((()=>d.nk.info("取消操作")))},bl=e=>{console.log("更新竞价备注:",e)},kl=e=>e>=90?"rating-excellent":e>=80?"rating-good":e>=70?"rating-fair":"rating-poor";return(e,a)=>{const d=(0,t.g2)("el-icon"),r=(0,t.g2)("el-button"),s=(0,t.g2)("el-option"),P=(0,t.g2)("el-select"),X=(0,t.g2)("el-form-item"),N=(0,t.g2)("el-input"),z=(0,t.g2)("el-date-picker"),Z=(0,t.g2)("el-form"),fe=(0,t.g2)("el-radio-button"),Ge=(0,t.g2)("el-radio-group"),ul=(0,t.g2)("el-tag"),nl=(0,t.g2)("el-dropdown-item"),sl=(0,t.g2)("el-dropdown-menu"),pl=(0,t.g2)("el-dropdown"),vl=(0,t.g2)("el-table-column"),gl=(0,t.g2)("el-checkbox"),fl=(0,t.g2)("el-checkbox-group"),hl=(0,t.g2)("el-dialog"),wl=(0,t.g2)("el-col"),Fl=(0,t.g2)("el-row"),_l=(0,t.g2)("el-input-number"),yl=(0,t.g2)("el-text"),Vl=(0,t.g2)("el-divider"),Ll=(0,t.g2)("el-alert"),Wl=(0,t.g2)("el-table"),Cl=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(Cl,null,{header:(0,t.k6)((()=>[(0,t.Lk)("div",b,[a[36]||(a[36]=(0,t.Lk)("span",null,"竞价项目列表",-1)),(0,t.bF)(r,{type:"primary",onClick:tl},{default:(0,t.k6)((()=>[(0,t.bF)(d,null,{default:(0,t.k6)((()=>[(0,t.bF)((0,u.R1)(o.FWt))])),_:1}),a[35]||(a[35]=(0,t.eW)(" 创建新竞价项目 "))])),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(Z,{inline:!0,model:$e,class:"filter-form"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"竞价状态"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{modelValue:$e.status,"onUpdate:modelValue":a[0]||(a[0]=e=>$e.status=e),placeholder:"选择状态",clearable:""},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"准备中",value:"preparing"}),(0,t.bF)(s,{label:"竞价中",value:"bidding"}),(0,t.bF)(s,{label:"已结束 (待授标)",value:"ended"}),(0,t.bF)(s,{label:"已授标",value:"awarded"}),(0,t.bF)(s,{label:"已流标/取消",value:"cancelled"})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(X,{label:"项目名称/编号"},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:$e.name,"onUpdate:modelValue":a[1]||(a[1]=e=>$e.name=e),placeholder:"输入名称或编号",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(X,{label:"创建时间"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{modelValue:$e.dateRange,"onUpdate:modelValue":a[2]||(a[2]=e=>$e.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(r,{type:"primary",onClick:al},{default:(0,t.k6)((()=>a[37]||(a[37]=[(0,t.eW)("查询")]))),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Lk)("div",k,[a[43]||(a[43]=(0,t.Lk)("span",{class:"view-label"},null,-1)),(0,t.bF)(Ge,{modelValue:O.value,"onUpdate:modelValue":a[3]||(a[3]=e=>O.value=e),size:"small",class:"status-view-group"},{default:(0,t.k6)((()=>[(0,t.bF)(fe,{value:"all"},{default:(0,t.k6)((()=>[(0,t.eW)("全部("+(0,i.v_)(Ee.value.length)+")",1)])),_:1}),(0,t.bF)(fe,{value:"preparing"},{default:(0,t.k6)((()=>[(0,t.eW)("准备中("+(0,i.v_)(ve("preparing"))+")",1)])),_:1}),(0,t.bF)(fe,{value:"bidding"},{default:(0,t.k6)((()=>[(0,t.eW)("竞价中("+(0,i.v_)(ve("bidding"))+")",1)])),_:1}),(0,t.bF)(fe,{value:"ended"},{default:(0,t.k6)((()=>[(0,t.eW)("已结束("+(0,i.v_)(ve("ended"))+")",1)])),_:1}),(0,t.bF)(fe,{value:"awarded"},{default:(0,t.k6)((()=>[(0,t.eW)("已授标("+(0,i.v_)(ve("awarded"))+")",1)])),_:1}),(0,t.bF)(fe,{value:"cancelled"},{default:(0,t.k6)((()=>[(0,t.eW)("已流标/取消("+(0,i.v_)(ve("cancelled"))+")",1)])),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.value,(e=>((0,t.uX)(),(0,t.Wv)(fe,{key:e.id,label:e.id,onContextmenu:(0,n.D$)((l=>De(l,e)),["prevent"])},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.name),1)])),_:2},1032,["label","onContextmenu"])))),128))])),_:1},8,["modelValue"]),(0,t.bF)(r,{type:"text",size:"small",onClick:Ie},{default:(0,t.k6)((()=>a[38]||(a[38]=[(0,t.eW)("新增视图")]))),_:1}),(0,t.bF)(r,{type:"text",size:"small",onClick:he},{default:(0,t.k6)((()=>a[39]||(a[39]=[(0,t.eW)("高级分组")]))),_:1}),(0,t.bF)(r,{type:"text",size:"small",onClick:_e},{default:(0,t.k6)((()=>a[40]||(a[40]=[(0,t.eW)("高级排序")]))),_:1}),(0,t.bF)(r,{type:"text",size:"small",onClick:be},{default:(0,t.k6)((()=>a[41]||(a[41]=[(0,t.eW)("筛选")]))),_:1}),(0,t.bF)(r,{type:"text",size:"small",onClick:Ce},{default:(0,t.k6)((()=>a[42]||(a[42]=[(0,t.eW)("字段配置")]))),_:1})]),(0,t.bF)(v.A,{ref:"mainTable",data:Be.value,"row-key":"id","group-fields":G.value?[G.value]:[],"show-selection":!0,"show-group-column":!!G.value,"group-column-label":G.value?me(G.value):"分组","default-expand-all":!1,"show-pagination":!0,"current-page":ze.currentPage,"page-size":ze.pageSize,"page-sizes":[10,20,50,100],total:Oe.value,onSelectionChange:Ne,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,style:{width:"100%"},border:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)($.value,(e=>((0,t.uX)(),(0,t.Wv)(vl,{key:e.prop,prop:e.prop,label:e.label,width:e.width,sortable:e.sortable,fixed:e.fixed,"show-overflow-tooltip":!1!==e.showOverflowTooltip},(0,t.eX)({_:2},["status"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(ul,{type:ll(e.row.status)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(el(e.row.status)),1)])),_:2},1032,["type"])])),key:"0"}:"currentLowestBid"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.eW)((0,i.v_)(e.row.currentLowestBid?e.row.currentLowestBid.toFixed(2):"-"),1)])),key:"1"}:"operation"===e.prop?{name:"default",fn:(0,t.k6)((e=>[(0,t.bF)(r,{text:"",type:"primary",size:"small",onClick:l=>il(e.row)},{default:(0,t.k6)((()=>a[44]||(a[44]=[(0,t.eW)("详情")]))),_:2},1032,["onClick"]),(0,t.bF)(pl,{trigger:"click",onCommand:l=>cl(l,e.row)},{dropdown:(0,t.k6)((()=>[(0,t.bF)(sl,null,{default:(0,t.k6)((()=>[(0,t.bF)(nl,{command:"monitor"},{default:(0,t.k6)((()=>a[46]||(a[46]=[(0,t.eW)("监控")]))),_:1}),"bidding"===e.row.status?((0,t.uX)(),(0,t.Wv)(nl,{key:0,command:"endEarly"},{default:(0,t.k6)((()=>a[47]||(a[47]=[(0,t.eW)("提前结束竞价")]))),_:1})):(0,t.Q3)("",!0),"preparing"===e.row.status||"bidding"===e.row.status?((0,t.uX)(),(0,t.Wv)(nl,{key:1,command:"cancel"},{default:(0,t.k6)((()=>a[48]||(a[48]=[(0,t.eW)("取消项目")]))),_:1})):(0,t.Q3)("",!0)])),_:2},1024)])),default:(0,t.k6)((()=>[(0,t.bF)(r,{text:"",type:"primary",size:"small"},{default:(0,t.k6)((()=>[a[45]||(a[45]=(0,t.eW)(" 更多")),(0,t.bF)(d,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,u.R1)(o.yd$))])),_:1})])),_:1})])),_:2},1032,["onCommand"])])),key:"2"}:void 0]),1032,["prop","label","width","sortable","fixed","show-overflow-tooltip"])))),128))])),_:1},8,["data","group-fields","show-group-column","group-column-label","current-page","page-size","total","onSizeChange","onCurrentChange"]),(0,t.bF)(c.A,{visible:le.value,"onUpdate:visible":a[4]||(a[4]=e=>le.value=e),columns:E.value,"existing-filters":ae.value,"existing-logic":te.value,onApplyFilters:ke,onCancel:ge},null,8,["visible","columns","existing-filters","existing-logic"]),(0,t.bF)(hl,{title:"保存视图",modelValue:A.value,"onUpdate:modelValue":a[8]||(a[8]=e=>A.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(r,{onClick:a[7]||(a[7]=e=>A.value=!1)},{default:(0,t.k6)((()=>a[49]||(a[49]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(r,{type:"primary",onClick:Re},{default:(0,t.k6)((()=>a[50]||(a[50]=[(0,t.eW)("确定")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(Z,{model:j.value,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"视图名称",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:j.value.name,"onUpdate:modelValue":a[5]||(a[5]=e=>j.value.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1}),(0,t.bF)(X,{label:"显示字段"},{default:(0,t.k6)((()=>[(0,t.bF)(fl,{modelValue:j.value.columns,"onUpdate:modelValue":a[6]||(a[6]=e=>j.value.columns=e)},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(E.value,(e=>((0,t.uX)(),(0,t.Wv)(gl,{key:e.prop,label:e.prop},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(hl,{title:"视图操作",modelValue:Y.value,"onUpdate:modelValue":a[9]||(a[9]=e=>Y.value=e),width:"300px"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",{class:"view-options-menu"},[(0,t.Lk)("div",{class:"view-option-item",onClick:Ue},a[51]||(a[51]=[(0,t.Lk)("i",{class:"el-icon-edit"},null,-1),(0,t.Lk)("span",null,"重命名视图",-1)])),(0,t.Lk)("div",{class:"view-option-item",onClick:Pe},a[52]||(a[52]=[(0,t.Lk)("i",{class:"el-icon-document-copy"},null,-1),(0,t.Lk)("span",null,"复制视图",-1)])),(0,t.Lk)("div",{class:"view-option-item",onClick:Xe},a[53]||(a[53]=[(0,t.Lk)("i",{class:"el-icon-delete"},null,-1),(0,t.Lk)("span",null,"删除视图",-1)]))])])),_:1},8,["modelValue"]),(0,t.bF)(hl,{title:"重命名视图",modelValue:J.value,"onUpdate:modelValue":a[12]||(a[12]=e=>J.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(r,{onClick:a[11]||(a[11]=e=>J.value=!1)},{default:(0,t.k6)((()=>a[54]||(a[54]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(r,{type:"primary",onClick:Me},{default:(0,t.k6)((()=>a[55]||(a[55]=[(0,t.eW)("确定")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(Z,{model:ee.value,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"视图名称",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:ee.value.name,"onUpdate:modelValue":a[10]||(a[10]=e=>ee.value.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bo)((0,t.Lk)("div",{class:"context-menu",style:(0,i.Tr)({left:Q.value+"px",top:H.value+"px"})},[(0,t.Lk)("div",{class:"context-menu-item",onClick:Pe},a[56]||(a[56]=[(0,t.Lk)("span",null,"复制视图",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:Ue},a[57]||(a[57]=[(0,t.Lk)("span",null,"重命名",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:Xe},a[58]||(a[58]=[(0,t.Lk)("span",null,"删除",-1)]))],4),[[n.aG,q.value]]),(0,t.bF)(hl,{title:"分组设置",modelValue:ue.value,"onUpdate:modelValue":a[17]||(a[17]=e=>ue.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",F,[(0,t.bF)(r,{onClick:a[16]||(a[16]=e=>ue.value=!1)},{default:(0,t.k6)((()=>a[62]||(a[62]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(r,{type:"danger",onClick:we},{default:(0,t.k6)((()=>a[63]||(a[63]=[(0,t.eW)("清除分组")]))),_:1}),(0,t.bF)(r,{type:"primary",onClick:Fe},{default:(0,t.k6)((()=>a[64]||(a[64]=[(0,t.eW)("应用")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",g,[(0,t.Lk)("div",f,[a[59]||(a[59]=(0,t.Lk)("span",{class:"group-level-label"},"一级分组：",-1)),(0,t.bF)(P,{modelValue:ie.value.level1,"onUpdate:modelValue":a[13]||(a[13]=e=>ie.value.level1=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ne.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",h,[a[60]||(a[60]=(0,t.Lk)("span",{class:"group-level-label"},"二级分组：",-1)),(0,t.bF)(P,{modelValue:ie.value.level2,"onUpdate:modelValue":a[14]||(a[14]=e=>ie.value.level2=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ne.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",w,[a[61]||(a[61]=(0,t.Lk)("span",{class:"group-level-label"},"三级分组：",-1)),(0,t.bF)(P,{modelValue:ie.value.level3,"onUpdate:modelValue":a[15]||(a[15]=e=>ie.value.level3=e),placeholder:"选择字段",style:{width:"280px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ne.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,t.bF)(hl,{title:"排序设置",modelValue:de.value,"onUpdate:modelValue":a[19]||(a[19]=e=>de.value=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",V,[(0,t.bF)(r,{onClick:a[18]||(a[18]=e=>de.value=!1)},{default:(0,t.k6)((()=>a[67]||(a[67]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(r,{type:"danger",onClick:Le},{default:(0,t.k6)((()=>a[68]||(a[68]=[(0,t.eW)("清除排序")]))),_:1}),(0,t.bF)(r,{type:"primary",onClick:We},{default:(0,t.k6)((()=>a[69]||(a[69]=[(0,t.eW)("应用")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",_,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(re.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"sort-item"},[(0,t.bF)(P,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",style:{width:"200px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(oe.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(P,{modelValue:e.direction,"onUpdate:modelValue":l=>e.direction=l,placeholder:"排序方向",style:{width:"120px"}},{default:(0,t.k6)((()=>[(0,t.bF)(s,{label:"升序",value:"asc"}),(0,t.bF)(s,{label:"降序",value:"desc"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(r,{type:"danger",size:"small",onClick:e=>Ve(l)},{default:(0,t.k6)((()=>a[65]||(a[65]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128)),(0,t.Lk)("div",y,[(0,t.bF)(r,{type:"primary",plain:"",onClick:ye},{default:(0,t.k6)((()=>a[66]||(a[66]=[(0,t.eW)("添加排序字段")]))),_:1})])])])),_:1},8,["modelValue"]),(0,t.bF)(hl,{title:"字段配置",modelValue:se.value,"onUpdate:modelValue":a[23]||(a[23]=e=>se.value=e),width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",S,[(0,t.bF)(r,{onClick:a[22]||(a[22]=e=>se.value=!1)},{default:(0,t.k6)((()=>a[72]||(a[72]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(r,{type:"primary",onClick:Ke},{default:(0,t.k6)((()=>a[73]||(a[73]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",L,[(0,t.Lk)("div",W,[(0,t.bF)(gl,{modelValue:ce.value,"onUpdate:modelValue":a[20]||(a[20]=e=>ce.value=e),onChange:xe},{default:(0,t.k6)((()=>a[70]||(a[70]=[(0,t.eW)("全选")]))),_:1},8,["modelValue"]),(0,t.bF)(r,{type:"primary",size:"small",onClick:Se},{default:(0,t.k6)((()=>a[71]||(a[71]=[(0,t.eW)("重置")]))),_:1})]),(0,t.Lk)("div",C,[(0,t.bF)((0,u.R1)(p()),{modelValue:pe.value,"onUpdate:modelValue":a[21]||(a[21]=e=>pe.value=e),"item-key":"prop",handle:".drag-handle",onEnd:Te},{item:(0,t.k6)((({element:e})=>[(0,t.Lk)("div",x,[(0,t.bF)(d,{class:"drag-handle"},{default:(0,t.k6)((()=>[(0,t.bF)((0,u.R1)(o.V6m))])),_:1}),(0,t.bF)(gl,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"]),(0,t.bF)(hl,{modelValue:Ae.value,"onUpdate:modelValue":a[32]||(a[32]=e=>Ae.value=e),title:Je.value,width:"80%",onClose:rl,"close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",I,[(0,t.bF)(r,{onClick:a[31]||(a[31]=e=>Ae.value=!1)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(qe.value?"取消":"关闭"),1)])),_:1}),qe.value?((0,t.uX)(),(0,t.Wv)(r,{key:0,type:"primary",onClick:ol},{default:(0,t.k6)((()=>a[87]||(a[87]=[(0,t.eW)("确认创建")]))),_:1})):(0,t.Q3)("",!0)])])),default:(0,t.k6)((()=>[qe.value?((0,t.uX)(),(0,t.Wv)(Z,{key:0,ref_key:"biddingFormRef",ref:Qe,model:je,rules:Ze,"label-width":"120px"},{default:(0,t.k6)((()=>[(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"项目名称",prop:"name"},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:je.name,"onUpdate:modelValue":a[24]||(a[24]=e=>je.name=e),placeholder:"为竞价项目起个名字"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(wl,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"服务类型/线路",prop:"serviceDescription"},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:je.serviceDescription,"onUpdate:modelValue":a[25]||(a[25]=e=>je.serviceDescription=e),placeholder:"如：LAX-ONT8 提柜服务 (未来一个月)"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(X,{label:"详细需求描述",prop:"details"},{default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:je.details,"onUpdate:modelValue":a[26]||(a[26]=e=>je.details=e),type:"textarea",rows:3,placeholder:"详细描述服务要求、数量、时间范围等"},null,8,["modelValue"])])),_:1}),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"开始时间",prop:"startTime"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{modelValue:je.startTime,"onUpdate:modelValue":a[27]||(a[27]=e=>je.startTime=e),type:"datetime",placeholder:"选择竞价开始时间",style:{width:"100%"},"value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"结束时间",prop:"endTime"},{default:(0,t.k6)((()=>[(0,t.bF)(z,{modelValue:je.endTime,"onUpdate:modelValue":a[28]||(a[28]=e=>je.endTime=e),type:"datetime",placeholder:"选择竞价结束时间",style:{width:"100%"},"value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"起始价格 (USD)"},{default:(0,t.k6)((()=>[(0,t.bF)(_l,{modelValue:je.startPrice,"onUpdate:modelValue":a[29]||(a[29]=e=>je.startPrice=e),precision:2,step:10,placeholder:"可选",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"邀请供应商",prop:"invitedSupplierIds"},{default:(0,t.k6)((()=>[(0,t.bF)(P,{modelValue:je.invitedSupplierIds,"onUpdate:modelValue":a[30]||(a[30]=e=>je.invitedSupplierIds=e),multiple:"",filterable:"",placeholder:"选择参与竞价的供应商",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value,(e=>((0,t.uX)(),(0,t.Wv)(s,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(wl,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(X,{label:"竞价规则 (占位)"},{default:(0,t.k6)((()=>[(0,t.bF)(yl,null,{default:(0,t.k6)((()=>a[74]||(a[74]=[(0,t.eW)("例如：最低价中标，允许多次出价，显示排名等 (待实现)")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])):((0,t.uX)(),(0,t.CE)("div",K,[a[85]||(a[85]=(0,t.Lk)("h4",null,"竞价项目信息",-1)),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[75]||(a[75]=(0,t.Lk)("strong",null,"项目编号:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.id),1)])])),_:1}),(0,t.bF)(wl,{span:16},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[76]||(a[76]=(0,t.Lk)("strong",null,"项目名称:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.name),1)])])),_:1})])),_:1}),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[77]||(a[77]=(0,t.Lk)("strong",null,"开始时间:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.startTime),1)])])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[78]||(a[78]=(0,t.Lk)("strong",null,"结束时间:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.endTime),1)])])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[79]||(a[79]=(0,t.Lk)("strong",null,"状态:",-1)),(0,t.eW)(" "+(0,i.v_)(el(He.value?.status)),1)])])),_:1})])),_:1}),(0,t.Lk)("p",null,[a[80]||(a[80]=(0,t.Lk)("strong",null,"服务需求:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.serviceDescription),1)]),(0,t.Lk)("p",null,[a[81]||(a[81]=(0,t.Lk)("strong",null,"详细描述:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.details),1)]),He.value?.awardedSupplierId?((0,t.uX)(),(0,t.CE)("p",T,[a[82]||(a[82]=(0,t.Lk)("strong",null,"中标供应商:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value?.awardedSupplierName)+" (最终价: "+(0,i.v_)(He.value?.awardedPrice?.toFixed(2))+" USD)",1)])):(0,t.Q3)("",!0),(0,t.bF)(Vl),a[86]||(a[86]=(0,t.Lk)("h4",null,"供应商出价监控 (模拟)",-1)),"bidding"===He.value?.status?((0,t.uX)(),(0,t.Wv)(Ll,{key:1,title:"竞价进行中... (模拟数据每 5 秒刷新一次)",type:"info","show-icon":"",closable:!1})):(0,t.Q3)("",!0),(0,t.bF)(Wl,{data:He.value?.bids,style:{width:"100%","margin-top":"10px"},border:"",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(vl,{type:"index",label:"排名",width:"60",align:"center"}),(0,t.bF)(vl,{prop:"supplierName",label:"供应商",width:"200","show-overflow-tooltip":""}),(0,t.bF)(vl,{prop:"bidPrice",label:"当前出价 (USD)",width:"150",sortable:""},{default:(0,t.k6)((e=>[(0,t.Lk)("span",{class:(0,i.C4)({"best-bid":0===e.$index})},(0,i.v_)(e.row.bidPrice?.toFixed(2)),3)])),_:1}),(0,t.bF)(vl,{prop:"bidTime",label:"最后出价时间",width:"160"}),(0,t.bF)(vl,{prop:"bidCount",label:"出价次数",width:"100",align:"center"}),(0,t.bF)(vl,{label:"供应商评分",width:"100",align:"center"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",{class:(0,i.C4)(kl(e.row.rating))},(0,i.v_)(e.row.rating)+"分 ",3)])),_:1}),(0,t.bF)(vl,{prop:"remarks",label:"备注",minWidth:"200","show-overflow-tooltip":""},{default:(0,t.k6)((e=>[(0,t.bF)(N,{modelValue:e.row.remarks,"onUpdate:modelValue":l=>e.row.remarks=l,type:"textarea",rows:1,placeholder:"添加备注",onChange:l=>bl(e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,t.bF)(vl,{label:"操作",width:"100",align:"center"},{default:(0,t.k6)((e=>["ended"===He.value?.status?((0,t.uX)(),(0,t.Wv)(r,{key:0,text:"",type:"success",size:"small",onClick:l=>dl(e.row)},{default:(0,t.k6)((()=>a[83]||(a[83]=[(0,t.eW)("授标")]))),_:2},1032,["onClick"])):(0,t.Q3)("",!0),"awarded"===He.value?.status&&He.value?.awardedSupplierId===e.row.supplierId?((0,t.uX)(),(0,t.Wv)(ul,{key:1,type:"success"},{default:(0,t.k6)((()=>a[84]||(a[84]=[(0,t.eW)("已中标")]))),_:1})):(0,t.Q3)("",!0)])),_:1})])),_:1},8,["data"]),He.value?.bids&&0!==He.value?.bids.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("p",D,"暂无出价记录"))]))])),_:1},8,["modelValue","title"]),(0,t.bF)(hl,{title:"提前结束竞标",modelValue:Ye.value,"onUpdate:modelValue":a[34]||(a[34]=e=>Ye.value=e),width:"80%","close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",M,[(0,t.bF)(r,{onClick:a[33]||(a[33]=e=>Ye.value=!1)},{default:(0,t.k6)((()=>a[98]||(a[98]=[(0,t.eW)("取消")]))),_:1})])])),default:(0,t.k6)((()=>[He.value?((0,t.uX)(),(0,t.CE)("div",R,[a[96]||(a[96]=(0,t.Lk)("h4",null,"竞价项目信息",-1)),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[88]||(a[88]=(0,t.Lk)("strong",null,"项目编号:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.id),1)])])),_:1}),(0,t.bF)(wl,{span:16},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[89]||(a[89]=(0,t.Lk)("strong",null,"项目名称:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.name),1)])])),_:1})])),_:1}),(0,t.bF)(Fl,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[90]||(a[90]=(0,t.Lk)("strong",null,"开始时间:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.startTime),1)])])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[91]||(a[91]=(0,t.Lk)("strong",null,"结束时间:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.endTime),1)])])),_:1}),(0,t.bF)(wl,{span:8},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[a[92]||(a[92]=(0,t.Lk)("strong",null,"状态:",-1)),(0,t.eW)(" "+(0,i.v_)(el(He.value.status)),1)])])),_:1})])),_:1}),(0,t.Lk)("p",null,[a[93]||(a[93]=(0,t.Lk)("strong",null,"服务需求:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.serviceDescription),1)]),(0,t.Lk)("p",null,[a[94]||(a[94]=(0,t.Lk)("strong",null,"详细描述:",-1)),(0,t.eW)(" "+(0,i.v_)(He.value.details),1)]),(0,t.bF)(Vl),a[97]||(a[97]=(0,t.Lk)("h4",null,"供应商出价列表",-1)),(0,t.bF)(Wl,{data:He.value.bids,style:{width:"100%","margin-top":"10px"},border:"",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(vl,{type:"index",label:"排名",width:"60",align:"center"}),(0,t.bF)(vl,{prop:"supplierName",label:"供应商",width:"200","show-overflow-tooltip":""}),(0,t.bF)(vl,{prop:"bidPrice",label:"当前出价 (USD)",width:"150",sortable:""},{default:(0,t.k6)((e=>[(0,t.Lk)("span",{class:(0,i.C4)({"best-bid":0===e.$index})},(0,i.v_)(e.row.bidPrice?.toFixed(2)),3)])),_:1}),(0,t.bF)(vl,{prop:"bidTime",label:"最后出价时间",width:"160"}),(0,t.bF)(vl,{prop:"bidCount",label:"出价次数",width:"100",align:"center"}),(0,t.bF)(vl,{prop:"remarks",label:"备注",minWidth:"200","show-overflow-tooltip":""},{default:(0,t.k6)((e=>[(0,t.bF)(N,{modelValue:e.row.remarks,"onUpdate:modelValue":l=>e.row.remarks=l,type:"textarea",rows:1,placeholder:"添加备注",onChange:l=>bl(e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,t.bF)(vl,{label:"操作",width:"120",align:"center"},{default:(0,t.k6)((e=>[(0,t.bF)(r,{text:"",type:"success",size:"small",onClick:l=>ml(e.row)},{default:(0,t.k6)((()=>a[95]||(a[95]=[(0,t.eW)("选择中标")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),He.value.bids&&0!==He.value.bids.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("p",U,"暂无出价记录"))])):(0,t.Q3)("",!0)])),_:1},8,["modelValue"])])),_:1})])}}};var X=a(6262);const N=(0,X.A)(P,[["__scopeId","data-v-5b716569"]]),E=N}}]);
//# sourceMappingURL=888.1cbabcf6.js.map