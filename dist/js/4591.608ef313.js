"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[4591],{616:(e,l,a)=>{a.d(l,{A:()=>k});var t=a(641);const o={class:"upload-pod-container"},i={class:"form-item"},n={class:"upload-area"},r={class:"upload-boxes"},u={class:"upload-box"},s={class:"upload-box"},d={class:"dialog-footer"};function p(e,l,a,p,c,m){const v=(0,t.g2)("el-date-picker"),b=(0,t.g2)("el-button"),g=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.Wv)(g,{title:"更新签收",modelValue:p.dialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>p.dialogVisible=e),width:"600px","close-on-click-modal":!1,onClose:p.handleClose},{footer:(0,t.k6)((()=>[(0,t.Lk)("div",d,[(0,t.bF)(b,{onClick:p.handleClose},{default:(0,t.k6)((()=>l[10]||(l[10]=[(0,t.eW)("取消")]))),_:1},8,["onClick"]),(0,t.bF)(b,{type:"primary",onClick:p.handleSubmit,loading:p.uploading},{default:(0,t.k6)((()=>l[11]||(l[11]=[(0,t.eW)("确定")]))),_:1},8,["onClick","loading"])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",o,[(0,t.Lk)("div",i,[l[6]||(l[6]=(0,t.Lk)("label",{class:"label"},"签收时间：",-1)),(0,t.bF)(v,{modelValue:p.receiveTime,"onUpdate:modelValue":l[0]||(l[0]=e=>p.receiveTime=e),type:"datetime",placeholder:"请选择日期时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",class:"date-picker"},null,8,["modelValue"])]),(0,t.Lk)("div",n,[l[9]||(l[9]=(0,t.Lk)("label",{class:"label"},"POD文件：",-1)),(0,t.Lk)("div",r,[(0,t.Lk)("div",u,[(0,t.Lk)("div",{class:"upload-content",onClick:l[1]||(l[1]=(...e)=>p.handleIsaUpload&&p.handleIsaUpload(...e))},l[7]||(l[7]=[(0,t.Lk)("i",{class:"el-icon-upload"},null,-1),(0,t.Lk)("p",{class:"upload-text"},"将ISA文件拖到此处，或点击上传",-1)])),(0,t.Lk)("input",{ref:"isaFileInput",type:"file",style:{display:"none"},onChange:l[2]||(l[2]=(...e)=>p.handleIsaFileChange&&p.handleIsaFileChange(...e)),accept:".pdf,.jpg,.jpeg,.png"},null,544)]),(0,t.Lk)("div",s,[(0,t.Lk)("div",{class:"upload-content",onClick:l[3]||(l[3]=(...e)=>p.handleBolUpload&&p.handleBolUpload(...e))},l[8]||(l[8]=[(0,t.Lk)("i",{class:"el-icon-upload"},null,-1),(0,t.Lk)("p",{class:"upload-text"},"将BOL文件拖到此处，或点击上传",-1)])),(0,t.Lk)("input",{ref:"bolFileInput",type:"file",style:{display:"none"},onChange:l[4]||(l[4]=(...e)=>p.handleBolFileChange&&p.handleBolFileChange(...e)),accept:".pdf,.jpg,.jpeg,.png"},null,544)])])])])])),_:1},8,["modelValue","onClose"])}var c=a(953),m=a(163);const v={name:"UploadPodDialog",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","submit","cancel"],setup(e,{emit:l}){const a=(0,c.KR)(e.visible),o=(0,c.KR)(""),i=(0,c.KR)(null),n=(0,c.KR)(null),r=(0,c.KR)(null),u=(0,c.KR)(null),s=(0,c.KR)(!1);(0,t.wB)((()=>e.visible),(e=>{a.value=e}));const d=()=>{i.value.click()},p=()=>{n.value.click()},v=e=>{const l=e.target.files[0];l&&(r.value=l,m.nk.success(`已选择ISA文件: ${l.name}`))},b=e=>{const l=e.target.files[0];l&&(u.value=l,m.nk.success(`已选择BOL文件: ${l.name}`))},g=()=>{a.value=!1,l("update:visible",!1),l("cancel"),o.value="",r.value=null,u.value=null,i.value&&(i.value.value=""),n.value&&(n.value.value="")},k=async()=>{if(o.value)if(r.value||u.value){s.value=!0;try{const e=new FormData;e.append("receiveTime",o.value),r.value&&e.append("isaFile",r.value),u.value&&e.append("bolFile",u.value),l("submit",e),g()}catch(e){console.error("上传失败:",e),m.nk.error("上传失败，请重试")}finally{s.value=!1}}else m.nk.warning("请至少上传一个POD文件");else m.nk.warning("请选择签收时间")};return{dialogVisible:a,receiveTime:o,isaFileInput:i,bolFileInput:n,uploading:s,handleIsaUpload:d,handleBolUpload:p,handleIsaFileChange:v,handleBolFileChange:b,handleClose:g,handleSubmit:k}}};var b=a(6262);const g=(0,b.A)(v,[["render",p],["__scopeId","data-v-37de2916"]]),k=g},4591:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ge});var t=a(641),o=a(3751),i=a(33);const n={class:"delivery-trains-container"},r={class:"filter-bar"},u={class:"filter-row"},s={class:"date-buttons"},d={class:"action-buttons"},p={class:"view-management"},c={class:"table-container"},m={class:"sub-table-container"},v={key:0,class:"group-name"},b={key:1},g={key:0,class:"cell-editor"},k=["onClick"],f=["onClick"],h={key:1},y=["onClick"],w={key:1},C={key:4},F={class:"view-options-menu"},V={class:"sort-settings"},_={class:"sort-actions"},S={class:"dialog-footer"},T={class:"column-settings"},x={class:"column-settings-header"},L={class:"column-list"},N={class:"column-item"},W={class:"dialog-footer"},D={key:0},R={key:1},U={key:2},$={class:"dialog-footer"},A={class:"dialog-footer"},K={class:"follow-up-container"},P={class:"follow-up-history"},E={class:"follow-up-item"},M={class:"follow-up-content"},O={class:"follow-up-operator"},z={class:"dialog-footer"},X={class:"history-item"},I={class:"history-content"},q={class:"history-operator"};function B(e,l,a,B,G,Q){const H=(0,t.g2)("el-option"),j=(0,t.g2)("el-select"),Y=(0,t.g2)("el-date-picker"),J=(0,t.g2)("el-input"),Z=(0,t.g2)("el-button"),ee=(0,t.g2)("el-radio-button"),le=(0,t.g2)("el-radio-group"),ae=(0,t.g2)("el-table-column"),te=(0,t.g2)("el-table"),oe=(0,t.g2)("el-tag"),ie=(0,t.g2)("el-dropdown-item"),ne=(0,t.g2)("el-dropdown-menu"),re=(0,t.g2)("el-dropdown"),ue=(0,t.g2)("groupable-table"),se=(0,t.g2)("filter-panel"),de=(0,t.g2)("el-form-item"),pe=(0,t.g2)("el-checkbox"),ce=(0,t.g2)("el-checkbox-group"),me=(0,t.g2)("el-form"),ve=(0,t.g2)("el-dialog"),be=(0,t.g2)("d-arrow-left"),ge=(0,t.g2)("el-icon"),ke=(0,t.g2)("draggable"),fe=(0,t.g2)("el-radio"),he=(0,t.g2)("el-timeline-item"),ye=(0,t.g2)("el-timeline"),we=(0,t.g2)("upload-pod-dialog"),Ce=(0,t.g2)("CreateOutboundPC"),Fe=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",r,[(0,t.Lk)("div",u,[(0,t.bF)(j,{modelValue:B.warehouse,"onUpdate:modelValue":l[0]||(l[0]=e=>B.warehouse=e),placeholder:"美西二号仓",size:"small",class:"filter-item"},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"美西二号仓",value:"west2"}),(0,t.bF)(H,{label:"美西一号仓",value:"west1"}),(0,t.bF)(H,{label:"新泽西一号仓",value:"east1"}),(0,t.bF)(H,{label:"萨凡纳二号仓",value:"east2"}),(0,t.bF)(H,{label:"达拉斯三号仓",value:"east3"})])),_:1},8,["modelValue"]),(0,t.bF)(j,{modelValue:B.createDateType,"onUpdate:modelValue":l[1]||(l[1]=e=>B.createDateType=e),placeholder:"ETA",size:"small",class:"filter-item"},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"ETA",value:"eta"}),(0,t.bF)(H,{label:"提柜时间",value:"issue"}),(0,t.bF)(H,{label:"抵仓时间",value:"appointment"}),(0,t.bF)(H,{label:"预计拆柜时间",value:"expectedUnloading"}),(0,t.bF)(H,{label:"拆柜完成时间",value:"unloading"})])),_:1},8,["modelValue"]),(0,t.Lk)("div",s,[(0,t.bF)(Y,{modelValue:B.dateRange,"onUpdate:modelValue":l[2]||(l[2]=e=>B.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small",class:"date-range-picker",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},null,8,["modelValue"])]),(0,t.bF)(j,{modelValue:B.searchType,"onUpdate:modelValue":l[3]||(l[3]=e=>B.searchType=e),placeholder:"部分模糊搜索",size:"small",class:"filter-item"},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"部分模糊搜索",value:"trainNumber"}),(0,t.bF)(H,{label:"柜号",value:"containerNo"}),(0,t.bF)(H,{label:"SO号",value:"soNumber"}),(0,t.bF)(H,{label:"货件编号",value:"shipmentNumber"}),(0,t.bF)(H,{label:"追踪编号",value:"trackingNumber"})])),_:1},8,["modelValue"]),(0,t.bF)(J,{placeholder:"MEMO/跟进记录/ref/zip_code等",modelValue:B.searchText,"onUpdate:modelValue":l[4]||(l[4]=e=>B.searchText=e),size:"small",class:"search-input","prefix-icon":"el-icon-search"},null,8,["modelValue"]),(0,t.Lk)("div",d,[(0,t.bF)(Z,{type:"primary",size:"small",onClick:B.handleSearch},{default:(0,t.k6)((()=>l[54]||(l[54]=[(0,t.eW)("查询")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{size:"small",type:"warning",onClick:l[5]||(l[5]=e=>B.handleBatchOperation("followUp"))},{default:(0,t.k6)((()=>l[55]||(l[55]=[(0,t.eW)("批量跟进")]))),_:1}),(0,t.bF)(Z,{size:"small",type:"warning",onClick:l[6]||(l[6]=e=>B.handleBatchOperation("memo"))},{default:(0,t.k6)((()=>l[56]||(l[56]=[(0,t.eW)("批量MEMO")]))),_:1}),(0,t.bF)(Z,{size:"small",type:"warning",onClick:l[7]||(l[7]=e=>B.handleBatchOperation("createPC"))},{default:(0,t.k6)((()=>l[57]||(l[57]=[(0,t.eW)("创建PC")]))),_:1}),(0,t.bF)(Z,{size:"small"},{default:(0,t.k6)((()=>l[58]||(l[58]=[(0,t.eW)("导出列表")]))),_:1})])])]),(0,t.Lk)("div",p,[l[69]||(l[69]=(0,t.Lk)("span",{class:"view-label"},null,-1)),(0,t.bF)(le,{modelValue:B.currentView,"onUpdate:modelValue":l[8]||(l[8]=e=>B.currentView=e),size:"small",class:"status-view-group"},{default:(0,t.k6)((()=>[(0,t.bF)(ee,{value:"all"},{default:(0,t.k6)((()=>l[59]||(l[59]=[(0,t.eW)("全部(0)")]))),_:1}),(0,t.bF)(ee,{value:"pending"},{default:(0,t.k6)((()=>l[60]||(l[60]=[(0,t.eW)("待处理(0)")]))),_:1}),(0,t.bF)(ee,{value:"processing"},{default:(0,t.k6)((()=>l[61]||(l[61]=[(0,t.eW)("处理中(0)")]))),_:1}),(0,t.bF)(ee,{value:"completed"},{default:(0,t.k6)((()=>l[62]||(l[62]=[(0,t.eW)("已完成(0)")]))),_:1}),(0,t.bF)(ee,{value:"cancelled"},{default:(0,t.k6)((()=>l[63]||(l[63]=[(0,t.eW)("已取消(0)")]))),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.customViews,(e=>((0,t.uX)(),(0,t.Wv)(ee,{key:e.id,label:e.id,onContextmenu:(0,o.D$)((l=>B.handleContextMenu(l,e)),["prevent"])},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.name),1)])),_:2},1032,["label","onContextmenu"])))),128))])),_:1},8,["modelValue"]),(0,t.bF)(Z,{type:"text",size:"small",onClick:B.handleSaveView},{default:(0,t.k6)((()=>l[64]||(l[64]=[(0,t.eW)("新增视图")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"text",size:"small",onClick:B.showGroupModal},{default:(0,t.k6)((()=>l[65]||(l[65]=[(0,t.eW)("高级分组")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"text",size:"small",onClick:B.showSortModal},{default:(0,t.k6)((()=>l[66]||(l[66]=[(0,t.eW)("高级排序")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"text",size:"small",onClick:B.showFilterPanel},{default:(0,t.k6)((()=>l[67]||(l[67]=[(0,t.eW)("筛选")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"text",size:"small",onClick:B.showColumnSettings},{default:(0,t.k6)((()=>l[68]||(l[68]=[(0,t.eW)("字段配置")]))),_:1},8,["onClick"])]),(0,t.Lk)("div",c,[(0,t.bo)(((0,t.uX)(),(0,t.Wv)(ue,{ref:"mainTable",data:B.displayData,"row-key":"id","group-fields":B.groupField?[B.groupField]:[],"show-selection":!0,"show-group-column":!!B.groupField,"group-column-label":B.groupField?B.getGroupColumnLabel(B.groupField):"分组","default-expand-all":!1,"show-pagination":!0,"current-page":B.currentPage,"page-size":B.pageSize,"page-sizes":[10,20,50,100],total:B.total,onSelectionChange:B.handleSelectionChange,onSizeChange:B.handleSizeChange,onCurrentChange:B.handleCurrentChange,onCellClick:B.handleCellClick,onCellDblclick:B.handleCellDbClick,style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(ae,{type:"expand"},{default:(0,t.k6)((e=>[(0,t.Lk)("div",m,[l[70]||(l[70]=(0,t.Lk)("h4",{class:"sub-table-title"},"预约信息",-1)),(0,t.bF)(te,{data:e.row.children||[],border:"",size:"small",stripe:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.childColumns,(e=>((0,t.uX)(),(0,t.Wv)(ae,{key:e.prop,prop:e.prop,label:e.label,width:e.width,sortable:e.sortable},null,8,["prop","label","width","sortable"])))),128))])),_:2},1032,["data"])])])),_:1}),B.hasGroupedData?((0,t.uX)(),(0,t.Wv)(ae,{key:0,label:"分组信息",width:"200"},{default:(0,t.k6)((e=>[e.row.isGroup?((0,t.uX)(),(0,t.CE)("span",v,[(0,t.bF)(oe,{type:B.getGroupTagType(e.row.groupLevel)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.row.groupName)+" ("+(0,i.v_)(e.row.count||0)+") ",1)])),_:2},1032,["type"])])):((0,t.uX)(),(0,t.CE)("span",b,"-"))])),_:1})):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.tableColumns,(e=>((0,t.uX)(),(0,t.CE)(t.FK,{key:e.prop},[!1!==e.visible&&"loadingStatus"===e.prop?((0,t.uX)(),(0,t.Wv)(ae,{key:0,prop:e.prop,label:e.label,width:e.width,sortable:e.sortable},{default:(0,t.k6)((e=>[(0,t.bF)(oe,{type:B.getStatusTagType(e.row.loadingStatus),effect:"plain",size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.row.loadingStatus),1)])),_:2},1032,["type"])])),_:2},1032,["prop","label","width","sortable"])):!1!==e.visible&&"operation"===e.prop?((0,t.uX)(),(0,t.Wv)(ae,{key:1,label:e.label,width:e.width,fixed:"right"},{default:(0,t.k6)((e=>[(0,t.bF)(Z,{type:"text",size:"small",onClick:l=>B.handleDetail(e.row)},{default:(0,t.k6)((()=>l[71]||(l[71]=[(0,t.eW)("详情")]))),_:2},1032,["onClick"]),(0,t.bF)(re,{size:"small",onCommand:l=>B.handleCommand(l,e.row)},{dropdown:(0,t.k6)((()=>[(0,t.bF)(ne,null,{default:(0,t.k6)((()=>[(0,t.bF)(ie,{command:"palletDetail"},{default:(0,t.k6)((()=>l[73]||(l[73]=[(0,t.eW)("卡板明细")]))),_:1}),(0,t.bF)(ie,{command:"copyAddress"},{default:(0,t.k6)((()=>l[74]||(l[74]=[(0,t.eW)("复制地址信息")]))),_:1}),(0,t.bF)(ie,{command:"followUp"},{default:(0,t.k6)((()=>l[75]||(l[75]=[(0,t.eW)("跟进记录")]))),_:1}),(0,t.bF)(ie,{command:"memo"},{default:(0,t.k6)((()=>l[76]||(l[76]=[(0,t.eW)("MEMO")]))),_:1}),(0,t.bF)(ie,{command:"markException"},{default:(0,t.k6)((()=>l[77]||(l[77]=[(0,t.eW)("标记异常")]))),_:1}),(0,t.bF)(ie,{command:"uploadPod"},{default:(0,t.k6)((()=>l[78]||(l[78]=[(0,t.eW)("上传POD")]))),_:1}),(0,t.bF)(ie,{command:"history"},{default:(0,t.k6)((()=>l[79]||(l[79]=[(0,t.eW)("历史记录")]))),_:1}),(0,t.bF)(ie,{command:"detail"},{default:(0,t.k6)((()=>l[80]||(l[80]=[(0,t.eW)("详情")]))),_:1}),(0,t.bF)(ie,{command:"expense"},{default:(0,t.k6)((()=>l[81]||(l[81]=[(0,t.eW)("费用明细")]))),_:1})])),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(Z,{type:"text",size:"small"},{default:(0,t.k6)((()=>l[72]||(l[72]=[(0,t.eW)(" 更多"),(0,t.Lk)("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)]))),_:1})])),_:2},1032,["onCommand"])])),_:2},1032,["label","width"])):!1!==e.visible?((0,t.uX)(),(0,t.Wv)(ae,{key:2,prop:e.prop,label:e.label,width:e.width,sortable:e.sortable},{default:(0,t.k6)((a=>[["address","city","state","zipCode","deliveryArea","appointmentNumber","deliveryAppointmentTime","deliveryTime","deliveryCompany","deliveryDriver","driverPhone","appointmentStatus","tags","followUpRecord","remarks","internalRemarks","quotationLianyu","shippingMark","platformQuotation"].includes(e.prop)&&B.editingCell.rowIndex===a.$index&&B.editingCell.prop===e.prop?((0,t.uX)(),(0,t.CE)("div",g,[["appointmentStatus","tags"].includes(e.prop)?((0,t.uX)(),(0,t.Wv)(j,{key:0,modelValue:B.editingCell.value,"onUpdate:modelValue":l[9]||(l[9]=e=>B.editingCell.value=e),size:"small",onBlur:l=>B.saveEdit(a.row,e.prop),onKeyup:(0,o.jR)((l=>B.saveEdit(a.row,e.prop)),["enter"]),style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.getOptionsForColumn(e.prop),(e=>((0,t.uX)(),(0,t.Wv)(H,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onBlur","onKeyup"])):((0,t.uX)(),(0,t.Wv)(J,{key:1,modelValue:B.editingCell.value,"onUpdate:modelValue":l[10]||(l[10]=e=>B.editingCell.value=e),size:"small",onBlur:l=>B.saveEdit(a.row,e.prop),onKeyup:(0,o.jR)((l=>B.saveEdit(a.row,e.prop)),["enter"]),type:["zipCode","boxCount","weight","volume","palletCount"].includes(e.prop)?"number":"text"},null,8,["modelValue","onBlur","onKeyup","type"]))])):["address","city","state","zipCode","deliveryArea","appointmentNumber","deliveryAppointmentTime","deliveryTime","deliveryCompany","deliveryDriver","driverPhone","followUpRecord","remarks","internalRemarks","quotationLianyu","shippingMark","platformQuotation"].includes(e.prop)?((0,t.uX)(),(0,t.CE)("div",{key:1,class:"editable-cell",onClick:l=>B.handleCellClick(a.row,e,a.$el)},(0,i.v_)(a.row[e.prop]||"-"),9,k)):"appointmentStatus"===e.prop?((0,t.uX)(),(0,t.CE)("div",{key:2,class:"editable-cell tag-cell",onClick:l=>B.handleCellClick(a.row,e,a.$el)},[a.row.appointmentStatus?((0,t.uX)(),(0,t.Wv)(oe,{key:0,type:B.getAppointmentStatusType(a.row.appointmentStatus),closable:"",onClose:e=>B.removeAppointmentStatus(a.row),size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(a.row.appointmentStatus),1)])),_:2},1032,["type","onClose"])):((0,t.uX)(),(0,t.CE)("span",h,"未设置"))],8,f)):"tags"===e.prop?((0,t.uX)(),(0,t.CE)("div",{key:3,class:"editable-cell tag-cell",onClick:l=>B.handleCellClick(a.row,e,a.$el)},[a.row.tags?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)("string"===typeof a.row.tags?a.row.tags.split(","):[a.row.tags],((e,l)=>((0,t.uX)(),(0,t.Wv)(oe,{key:l,type:B.getTagType(e),closable:"",onClose:l=>B.removeTag(a.row,e),size:"small",style:{margin:"2px"}},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e),1)])),_:2},1032,["type","onClose"])))),128)):((0,t.uX)(),(0,t.CE)("span",w,"未设置"))],8,y)):((0,t.uX)(),(0,t.CE)("span",C,(0,i.v_)(a.row[e.prop]),1))])),_:2},1032,["prop","label","width","sortable"])):(0,t.Q3)("",!0)],64)))),128))])),_:1},8,["data","group-fields","show-group-column","group-column-label","current-page","page-size","total","onSelectionChange","onSizeChange","onCurrentChange","onCellClick","onCellDblclick"])),[[Fe,B.loading]])]),(0,t.bF)(se,{visible:B.filterPanelVisible,"onUpdate:visible":l[11]||(l[11]=e=>B.filterPanelVisible=e),columns:B.tableColumns,"existing-filters":B.activeFilters,"existing-logic":B.filterLogic,onApplyFilters:B.applyFilters,onCancel:B.cancelFilters},null,8,["visible","columns","existing-filters","existing-logic","onApplyFilters","onCancel"]),(0,t.bF)(ve,{title:"保存视图",modelValue:B.saveViewDialogVisible,"onUpdate:modelValue":l[15]||(l[15]=e=>B.saveViewDialogVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(Z,{onClick:l[14]||(l[14]=e=>B.saveViewDialogVisible=!1)},{default:(0,t.k6)((()=>l[82]||(l[82]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.saveView},{default:(0,t.k6)((()=>l[83]||(l[83]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,t.k6)((()=>[(0,t.bF)(me,{model:B.viewForm,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"视图名称",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(J,{modelValue:B.viewForm.name,"onUpdate:modelValue":l[12]||(l[12]=e=>B.viewForm.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1}),(0,t.bF)(de,{label:"显示字段"},{default:(0,t.k6)((()=>[(0,t.bF)(ce,{modelValue:B.viewForm.columns,"onUpdate:modelValue":l[13]||(l[13]=e=>B.viewForm.columns=e)},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.tableColumns,(e=>((0,t.uX)(),(0,t.Wv)(pe,{key:e.prop,label:e.prop},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"视图操作",modelValue:B.viewOptionsDialogVisible,"onUpdate:modelValue":l[19]||(l[19]=e=>B.viewOptionsDialogVisible=e),width:"300px"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",F,[(0,t.Lk)("div",{class:"view-option-item",onClick:l[16]||(l[16]=(...e)=>B.handleRenameView&&B.handleRenameView(...e))},l[84]||(l[84]=[(0,t.Lk)("i",{class:"el-icon-edit"},null,-1),(0,t.Lk)("span",null,"重命名视图",-1)])),(0,t.Lk)("div",{class:"view-option-item",onClick:l[17]||(l[17]=(...e)=>B.handleCopyView&&B.handleCopyView(...e))},l[85]||(l[85]=[(0,t.Lk)("i",{class:"el-icon-document-copy"},null,-1),(0,t.Lk)("span",null,"复制视图",-1)])),(0,t.Lk)("div",{class:"view-option-item",onClick:l[18]||(l[18]=(...e)=>B.handleDeleteView&&B.handleDeleteView(...e))},l[86]||(l[86]=[(0,t.Lk)("i",{class:"el-icon-delete"},null,-1),(0,t.Lk)("span",null,"删除视图",-1)]))])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"重命名视图",modelValue:B.renameViewDialogVisible,"onUpdate:modelValue":l[22]||(l[22]=e=>B.renameViewDialogVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(Z,{onClick:l[21]||(l[21]=e=>B.renameViewDialogVisible=!1)},{default:(0,t.k6)((()=>l[87]||(l[87]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.saveRenameView},{default:(0,t.k6)((()=>l[88]||(l[88]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,t.k6)((()=>[(0,t.bF)(me,{model:B.renameForm,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"视图名称",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(J,{modelValue:B.renameForm.name,"onUpdate:modelValue":l[20]||(l[20]=e=>B.renameForm.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"编辑信息",modelValue:B.editDialogVisible,"onUpdate:modelValue":l[26]||(l[26]=e=>B.editDialogVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(Z,{onClick:l[25]||(l[25]=e=>B.editDialogVisible=!1)},{default:(0,t.k6)((()=>l[89]||(l[89]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.saveDialogEdit},{default:(0,t.k6)((()=>l[90]||(l[90]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,t.k6)((()=>[(0,t.bF)(me,{model:B.editingForm,"label-width":"120px"},{default:(0,t.k6)((()=>[B.editingColumn.prop?((0,t.uX)(),(0,t.Wv)(de,{key:0,label:B.editingColumn.label},{default:(0,t.k6)((()=>[["appointmentStatus","tags"].includes(B.editingColumn.prop)?((0,t.uX)(),(0,t.Wv)(j,{key:0,modelValue:B.editingForm.value,"onUpdate:modelValue":l[23]||(l[23]=e=>B.editingForm.value=e),style:{width:"100%"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.getOptionsForColumn(B.editingColumn.prop),(e=>((0,t.uX)(),(0,t.Wv)(H,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):((0,t.uX)(),(0,t.Wv)(J,{key:1,modelValue:B.editingForm.value,"onUpdate:modelValue":l[24]||(l[24]=e=>B.editingForm.value=e),type:["zipCode","boxCount","weight","volume","palletCount"].includes(B.editingColumn.prop)?"number":"text"},null,8,["modelValue","type"]))])),_:1},8,["label"])):(0,t.Q3)("",!0)])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bo)((0,t.Lk)("div",{class:"context-menu",style:(0,i.Tr)({left:B.contextMenuX+"px",top:B.contextMenuY+"px"})},[(0,t.Lk)("div",{class:"context-menu-item",onClick:l[27]||(l[27]=(...e)=>B.handleCopyView&&B.handleCopyView(...e))},l[91]||(l[91]=[(0,t.Lk)("span",null,"复制视图",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:l[28]||(l[28]=(...e)=>B.handleRenameView&&B.handleRenameView(...e))},l[92]||(l[92]=[(0,t.Lk)("span",null,"重命名",-1)])),(0,t.Lk)("div",{class:"context-menu-item",onClick:l[29]||(l[29]=(...e)=>B.handleDeleteView&&B.handleDeleteView(...e))},l[93]||(l[93]=[(0,t.Lk)("span",null,"删除",-1)]))],4),[[o.aG,B.contextMenuVisible]]),(0,t.bF)(ve,{title:"高级分组",modelValue:B.groupModalVisible,"onUpdate:modelValue":l[31]||(l[31]=e=>B.groupModalVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.bF)(Z,{onClick:e.cancelGrouping},{default:(0,t.k6)((()=>l[94]||(l[94]=[(0,t.eW)("取消")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"primary",onClick:e.applyGrouping},{default:(0,t.k6)((()=>l[95]||(l[95]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])),default:(0,t.k6)((()=>[(0,t.bF)(me,{"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"分组字段"},{default:(0,t.k6)((()=>[(0,t.bF)(j,{modelValue:B.tempGroupField,"onUpdate:modelValue":l[30]||(l[30]=e=>B.tempGroupField=e),placeholder:"请选择分组字段",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"不分组",value:""}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.groupableFields,(e=>((0,t.uX)(),(0,t.Wv)(H,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"排序设置",modelValue:B.sortModalVisible,"onUpdate:modelValue":l[33]||(l[33]=e=>B.sortModalVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",S,[(0,t.bF)(Z,{onClick:l[32]||(l[32]=e=>B.sortModalVisible=!1)},{default:(0,t.k6)((()=>l[98]||(l[98]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"danger",onClick:B.clearSortSettings},{default:(0,t.k6)((()=>l[99]||(l[99]=[(0,t.eW)("清除排序")]))),_:1},8,["onClick"]),(0,t.bF)(Z,{type:"primary",onClick:B.applySortSettings},{default:(0,t.k6)((()=>l[100]||(l[100]=[(0,t.eW)("应用")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.sortSettings,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"sort-item"},[(0,t.bF)(j,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",style:{width:"200px"},clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.sortableFields,(e=>((0,t.uX)(),(0,t.Wv)(H,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(j,{modelValue:e.direction,"onUpdate:modelValue":l=>e.direction=l,placeholder:"排序方向",style:{width:"120px"}},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"升序",value:"asc"}),(0,t.bF)(H,{label:"降序",value:"desc"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(Z,{type:"danger",size:"small",onClick:e=>B.removeSortField(a)},{default:(0,t.k6)((()=>l[96]||(l[96]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128)),(0,t.Lk)("div",_,[(0,t.bF)(Z,{type:"primary",plain:"",onClick:B.addSortField},{default:(0,t.k6)((()=>l[97]||(l[97]=[(0,t.eW)("添加排序字段")]))),_:1},8,["onClick"])])])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"字段配置",modelValue:B.columnSettingsVisible,"onUpdate:modelValue":l[37]||(l[37]=e=>B.columnSettingsVisible=e),width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",W,[(0,t.bF)(Z,{onClick:l[36]||(l[36]=e=>B.columnSettingsVisible=!1)},{default:(0,t.k6)((()=>l[103]||(l[103]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.applyColumnSettings},{default:(0,t.k6)((()=>l[104]||(l[104]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",T,[(0,t.Lk)("div",x,[(0,t.bF)(pe,{modelValue:B.allColumnsSelected,"onUpdate:modelValue":l[34]||(l[34]=e=>B.allColumnsSelected=e),onChange:B.handleSelectAllColumns},{default:(0,t.k6)((()=>l[101]||(l[101]=[(0,t.eW)("全选")]))),_:1},8,["modelValue","onChange"]),(0,t.bF)(Z,{type:"primary",size:"small",onClick:B.resetColumnSettings},{default:(0,t.k6)((()=>l[102]||(l[102]=[(0,t.eW)("重置")]))),_:1},8,["onClick"])]),(0,t.Lk)("div",L,[(0,t.bF)(ke,{modelValue:B.columnSettingsList,"onUpdate:modelValue":l[35]||(l[35]=e=>B.columnSettingsList=e),"item-key":"prop",handle:".drag-handle",onEnd:B.handleDragEnd},{item:(0,t.k6)((({element:e})=>[(0,t.Lk)("div",N,[(0,t.bF)(ge,{class:"drag-handle"},{default:(0,t.k6)((()=>[(0,t.bF)(be)])),_:1}),(0,t.bF)(pe,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1},8,["modelValue","onEnd"])])])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{modelValue:B.batchDialogVisible,"onUpdate:modelValue":l[43]||(l[43]=e=>B.batchDialogVisible=e),title:"批量操作",width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",$,[(0,t.bF)(Z,{onClick:l[42]||(l[42]=e=>B.batchDialogVisible=!1)},{default:(0,t.k6)((()=>l[107]||(l[107]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.handleBatchSubmit},{default:(0,t.k6)((()=>l[108]||(l[108]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>["followUp"===B.batchOperation?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.bF)(me,{model:B.batchForm,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"跟进记录",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(J,{type:"textarea",modelValue:B.batchForm.followUp,"onUpdate:modelValue":l[38]||(l[38]=e=>B.batchForm.followUp=e),rows:"4",placeholder:"请输入跟进记录"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])):(0,t.Q3)("",!0),"memo"===B.batchOperation?((0,t.uX)(),(0,t.CE)("div",R,[(0,t.bF)(me,{model:B.batchForm,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"MEMO",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(J,{type:"textarea",modelValue:B.batchForm.memo,"onUpdate:modelValue":l[39]||(l[39]=e=>B.batchForm.memo=e),rows:"4",placeholder:"请输入MEMO内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])):(0,t.Q3)("",!0),"createPC"===B.batchOperation?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.bF)(me,{model:B.batchForm,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"PC类型",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(le,{modelValue:B.batchForm.pcType,"onUpdate:modelValue":l[40]||(l[40]=e=>B.batchForm.pcType=e)},{default:(0,t.k6)((()=>[(0,t.bF)(fe,{label:"delivery"},{default:(0,t.k6)((()=>l[105]||(l[105]=[(0,t.eW)("出库PC")]))),_:1}),(0,t.bF)(fe,{label:"transfer"},{default:(0,t.k6)((()=>l[106]||(l[106]=[(0,t.eW)("调拨PC")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),"transfer"===B.batchForm.pcType?((0,t.uX)(),(0,t.Wv)(de,{key:0,label:"目标仓库",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(j,{modelValue:B.batchForm.targetWarehouse,"onUpdate:modelValue":l[41]||(l[41]=e=>B.batchForm.targetWarehouse=e),placeholder:"请选择目标仓库"},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"美西一号仓",value:"west1"}),(0,t.bF)(H,{label:"美西二号仓",value:"west2"}),(0,t.bF)(H,{label:"美东仓",value:"east"})])),_:1},8,["modelValue"])])),_:1})):(0,t.Q3)("",!0)])),_:1},8,["model"])])):(0,t.Q3)("",!0)])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"MEMO",modelValue:B.memoDialogVisible,"onUpdate:modelValue":l[46]||(l[46]=e=>B.memoDialogVisible=e),width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",A,[(0,t.bF)(Z,{onClick:l[45]||(l[45]=e=>B.memoDialogVisible=!1)},{default:(0,t.k6)((()=>l[109]||(l[109]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.saveMemo},{default:(0,t.k6)((()=>l[110]||(l[110]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>[(0,t.bF)(me,{model:B.memoForm,"label-width":"80px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"备注"},{default:(0,t.k6)((()=>[(0,t.bF)(J,{modelValue:B.memoForm.memo,"onUpdate:modelValue":l[44]||(l[44]=e=>B.memoForm.memo=e),type:"textarea",rows:4,placeholder:"请输入备注信息"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"跟进记录",modelValue:B.followUpDialogVisible,"onUpdate:modelValue":l[50]||(l[50]=e=>B.followUpDialogVisible=e),width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",z,[(0,t.bF)(Z,{onClick:l[49]||(l[49]=e=>B.followUpDialogVisible=!1)},{default:(0,t.k6)((()=>l[112]||(l[112]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(Z,{type:"primary",onClick:B.saveFollowUp},{default:(0,t.k6)((()=>l[113]||(l[113]=[(0,t.eW)("确定")]))),_:1},8,["onClick"])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",K,[(0,t.Lk)("div",P,[l[111]||(l[111]=(0,t.Lk)("h4",null,"历史记录",-1)),(0,t.bF)(ye,null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.followUpHistory,((e,l)=>((0,t.uX)(),(0,t.Wv)(he,{key:l,timestamp:e.time,type:e.type},{default:(0,t.k6)((()=>[(0,t.Lk)("div",E,[(0,t.Lk)("div",M,(0,i.v_)(e.content),1),(0,t.Lk)("div",O,"操作人："+(0,i.v_)(e.operator),1)])])),_:2},1032,["timestamp","type"])))),128))])),_:1})]),(0,t.bF)(me,{model:B.followUpForm,"label-width":"80px"},{default:(0,t.k6)((()=>[(0,t.bF)(de,{label:"跟进内容"},{default:(0,t.k6)((()=>[(0,t.bF)(J,{modelValue:B.followUpForm.content,"onUpdate:modelValue":l[47]||(l[47]=e=>B.followUpForm.content=e),type:"textarea",rows:4,placeholder:"请输入跟进内容"},null,8,["modelValue"])])),_:1}),(0,t.bF)(de,{label:"跟进类型"},{default:(0,t.k6)((()=>[(0,t.bF)(j,{modelValue:B.followUpForm.type,"onUpdate:modelValue":l[48]||(l[48]=e=>B.followUpForm.type=e),placeholder:"请选择跟进类型",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(H,{label:"常规跟进",value:"primary"}),(0,t.bF)(H,{label:"重要跟进",value:"warning"}),(0,t.bF)(H,{label:"紧急跟进",value:"danger"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),(0,t.bF)(ve,{title:"历史记录",modelValue:B.historyDialogVisible,"onUpdate:modelValue":l[51]||(l[51]=e=>B.historyDialogVisible=e),width:"800px"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(B.historyRecords,((e,l)=>((0,t.uX)(),(0,t.Wv)(he,{key:l,timestamp:e.time,type:e.type},{default:(0,t.k6)((()=>[(0,t.Lk)("div",X,[(0,t.Lk)("div",I,(0,i.v_)(e.content),1),(0,t.Lk)("div",q,"操作人："+(0,i.v_)(e.operator),1)])])),_:2},1032,["timestamp","type"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(we,{visible:B.podDialogVisible,"onUpdate:visible":l[52]||(l[52]=e=>B.podDialogVisible=e),onSubmit:B.handlePodSubmit},null,8,["visible","onSubmit"]),(0,t.bF)(ve,{modelValue:B.createPCDialogVisible,"onUpdate:modelValue":l[53]||(l[53]=e=>B.createPCDialogVisible=e),title:"创建出库PC",width:"80%",top:"5vh","destroy-on-close":""},{default:(0,t.k6)((()=>[B.createPCDialogVisible?((0,t.uX)(),(0,t.Wv)(Ce,{key:0})):(0,t.Q3)("",!0)])),_:1},8,["modelValue"])])}var G=a(953),Q=a(163),H=a(7918),j=a(3344),Y=a(2998),J=a(616),Z=a(8597),ee=a(7443),le=a(7006),ae=a(8548),te=a(432),oe=a.n(te),ie=a(5220);const ne={class:"create-outbound-pc-container-inner"},re={style:{display:"flex","align-items":"center",width:"100%"}},ue={class:"tab-toolbar"},se={class:"dialog-footer"},de={__name:"CreateOutboundPC",emits:["cancel","save"],setup(e,{emit:l}){const a=(0,G.KR)({destination:"Amazon-GEU2",deliveryMethod:"卡车派送",palletQuantity:2,departureDate:null,apptDate:null,supplier:null,bookingStatus:"unconfirmed",loadingType:"pallet",shippingType:"ftl",bookingParty:"self",deliveryCost:null,bookingNumber:null,remarks:null}),o=(0,t.EW)((()=>a.value.destination&&a.value.destination.toLowerCase().includes("amazon"))),n=(0,G.KR)("stocked"),r=(0,G.KR)([]),u=(0,G.KR)([{id:1,waybillNo:"LW25041701409",containerNo:"2025/04/17乐摇",palletNo:"KB25041701101",location:"C25",pieces:66,weight:1100.01,volume:2.03},{id:2,waybillNo:"LW25041701409",containerNo:"2025/04/17乐摇",palletNo:"KB25041701102",location:"C25",pieces:64,weight:1066.67,volume:1.97}]),s=(0,G.KR)(!1),d=(0,G.KR)([{id:"appt1",appointmentNumber:"APPT_12345",destination:"Amazon-ABQ2",appointmentTime:"2024-07-25 10:00",crdd:"2024-07-28 15:00",status:"未使用"},{id:"appt2",appointmentNumber:"APPT_67890",destination:"Amazon-ONT8",appointmentTime:"2024-07-26 14:30",crdd:"2024-07-29 09:30",status:"未使用"},{id:"appt3",appointmentNumber:"APPT_11223",destination:"Amazon-ABQ2",appointmentTime:"2024-07-27 09:00",crdd:"2024-07-30 11:00",status:"已使用"}]),p=e=>{r.value=e},c=()=>{0!==r.value.length?H.s.confirm(`确定要删除选中的 ${r.value.length} 项吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=r.value.map((e=>e.id));u.value=u.value.filter((l=>!e.includes(l.id))),Q.nk.success("批量删除成功")})).catch((()=>{})):Q.nk.warning("请先选择要删除的项")},m=e=>{H.s.confirm(`确定要删除运单号 ${e.waybillNo} 吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{u.value=u.value.filter((l=>l.id!==e.id)),Q.nk.success("删除成功")})).catch((()=>{}))},v=()=>{console.log("选择预约按钮被点击"),s.value=!0},b=e=>{if("未使用"===e.status){if(a.value.bookingNumber=e.appointmentNumber,e.appointmentTime){const l=e.appointmentTime.split(" ")[0];a.value.apptDate=l}else a.value.apptDate=null;s.value=!1,Q.nk.success(`已选择预约号: ${e.appointmentNumber}`)}else Q.nk.warning("该预约已被使用，请选择其他预约。")};return(e,l)=>{const r=(0,t.g2)("el-input"),g=(0,t.g2)("el-form-item"),k=(0,t.g2)("el-col"),f=(0,t.g2)("el-row"),h=(0,t.g2)("el-date-picker"),y=(0,t.g2)("el-option"),w=(0,t.g2)("el-select"),C=(0,t.g2)("el-radio"),F=(0,t.g2)("el-radio-group"),V=(0,t.g2)("el-button"),_=(0,t.g2)("el-form"),S=(0,t.g2)("el-card"),T=(0,t.g2)("el-table-column"),x=(0,t.g2)("el-table"),L=(0,t.g2)("el-tab-pane"),N=(0,t.g2)("el-tabs"),W=(0,t.g2)("el-tag"),D=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.CE)("div",ne,[(0,t.bF)(S,{class:"section-card basic-info-card"},{header:(0,t.k6)((()=>l[16]||(l[16]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("span",null,"基础信息")],-1)]))),default:(0,t.k6)((()=>[(0,t.bF)(_,{ref:"basicInfoForm",model:a.value,"label-width":"100px",size:"small"},{default:(0,t.k6)((()=>[(0,t.bF)(f,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"目的地",prop:"destination"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:a.value.destination,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.destination=e),placeholder:"Amazon-GEU2"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"派送方式",prop:"deliveryMethod"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:a.value.deliveryMethod,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.deliveryMethod=e),placeholder:"卡车派送"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"卡板数量",prop:"palletQuantity"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:a.value.palletQuantity,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.palletQuantity=e),modelModifiers:{number:!0},placeholder:"2",type:"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(f,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"发车日期",prop:"departureDate"},{default:(0,t.k6)((()=>[(0,t.bF)(h,{modelValue:a.value.departureDate,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.departureDate=e),type:"date",placeholder:"请选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"APPT",prop:"apptDate"},{default:(0,t.k6)((()=>[(0,t.bF)(h,{modelValue:a.value.apptDate,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.apptDate=e),type:"date",placeholder:"请选择日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"供应商",prop:"supplier",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(w,{modelValue:a.value.supplier,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.supplier=e),placeholder:"请选择",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(y,{label:"供应商A",value:"A"}),(0,t.bF)(y,{label:"供应商B",value:"B"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(f,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"预约状态",prop:"bookingStatus",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:a.value.bookingStatus,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value.bookingStatus=e)},{default:(0,t.k6)((()=>[(0,t.bF)(C,{label:"unconfirmed"},{default:(0,t.k6)((()=>l[17]||(l[17]=[(0,t.eW)("未确认")]))),_:1}),(0,t.bF)(C,{label:"confirmed"},{default:(0,t.k6)((()=>l[18]||(l[18]=[(0,t.eW)("已确认")]))),_:1}),(0,t.bF)(C,{label:"overbooked"},{default:(0,t.k6)((()=>l[19]||(l[19]=[(0,t.eW)("爆仓")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"装车类型",prop:"loadingType",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:a.value.loadingType,"onUpdate:modelValue":l[7]||(l[7]=e=>a.value.loadingType=e)},{default:(0,t.k6)((()=>[(0,t.bF)(C,{label:"pallet"},{default:(0,t.k6)((()=>l[20]||(l[20]=[(0,t.eW)("卡板")]))),_:1}),(0,t.bF)(C,{label:"floor"},{default:(0,t.k6)((()=>l[21]||(l[21]=[(0,t.eW)("地板")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"运输类型",prop:"shippingType",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:a.value.shippingType,"onUpdate:modelValue":l[8]||(l[8]=e=>a.value.shippingType=e)},{default:(0,t.k6)((()=>[(0,t.bF)(C,{label:"ftl"},{default:(0,t.k6)((()=>l[22]||(l[22]=[(0,t.eW)("FTL")]))),_:1}),(0,t.bF)(C,{label:"ltl"},{default:(0,t.k6)((()=>l[23]||(l[23]=[(0,t.eW)("LTL")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,t.bF)(f,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"预约方",prop:"bookingParty",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:a.value.bookingParty,"onUpdate:modelValue":l[9]||(l[9]=e=>a.value.bookingParty=e)},{default:(0,t.k6)((()=>[(0,t.bF)(C,{label:"self"},{default:(0,t.k6)((()=>l[24]||(l[24]=[(0,t.eW)("自有约")]))),_:1}),(0,t.bF)(C,{label:"supplier"},{default:(0,t.k6)((()=>l[25]||(l[25]=[(0,t.eW)("供应商约")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"派送成本",prop:"deliveryCost"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:a.value.deliveryCost,"onUpdate:modelValue":l[10]||(l[10]=e=>a.value.deliveryCost=e),placeholder:"请输入"},{append:(0,t.k6)((()=>l[26]||(l[26]=[(0,t.eW)("USD")]))),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"预约号",prop:"bookingNumber"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",re,[(0,t.bF)(r,{modelValue:a.value.bookingNumber,"onUpdate:modelValue":l[11]||(l[11]=e=>a.value.bookingNumber=e),placeholder:"请输入或选择预约",style:{"flex-grow":"1"}},null,8,["modelValue"]),o.value&&"self"===a.value.bookingParty?((0,t.uX)(),(0,t.Wv)(V,{key:0,type:"primary",plain:"",size:"small",onClick:v,style:{"margin-left":"8px","flex-shrink":"0"}},{default:(0,t.k6)((()=>l[27]||(l[27]=[(0,t.eW)(" 选择预约 ")]))),_:1})):(0,t.Q3)("",!0)])])),_:1})])),_:1})])),_:1}),(0,t.bF)(f,{gutter:20},{default:(0,t.k6)((()=>[(0,t.bF)(k,{span:8},{default:(0,t.k6)((()=>[(0,t.bF)(g,{label:"备注",prop:"remarks"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:a.value.remarks,"onUpdate:modelValue":l[12]||(l[12]=e=>a.value.remarks=e),placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(k,{span:8}),(0,t.bF)(k,{span:8})])),_:1})])),_:1},8,["model"])])),_:1}),(0,t.bF)(S,{class:"section-card outbound-details-card"},{header:(0,t.k6)((()=>l[28]||(l[28]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("span",null,"出库明细")],-1)]))),default:(0,t.k6)((()=>[(0,t.bF)(N,{modelValue:n.value,"onUpdate:modelValue":l[13]||(l[13]=e=>n.value=e),type:"card"},{default:(0,t.k6)((()=>[(0,t.bF)(L,{label:"已入库",name:"stocked"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",ue,[(0,t.bF)(V,{size:"small",type:"danger",plain:"",onClick:c},{default:(0,t.k6)((()=>l[29]||(l[29]=[(0,t.eW)("批量删除")]))),_:1}),l[30]||(l[30]=(0,t.Lk)("span",{class:"summary-text"},"合计: 130 PCS, 4.00 CBM, 2166.68 lbs",-1))]),(0,t.bF)(x,{ref:"stockedTable",data:u.value,style:{width:"100%"},size:"small",onSelectionChange:p},{default:(0,t.k6)((()=>[(0,t.bF)(T,{type:"selection",width:"55"}),(0,t.bF)(T,{prop:"waybillNo",label:"运单号"}),(0,t.bF)(T,{prop:"containerNo",label:"柜号"}),(0,t.bF)(T,{prop:"palletNo",label:"卡板号"}),(0,t.bF)(T,{prop:"location",label:"库位"}),(0,t.bF)(T,{label:"件重体"},{default:(0,t.k6)((e=>[(0,t.Lk)("div",null,"件数: "+(0,i.v_)(e.row.pieces),1),(0,t.Lk)("div",null,"重量(lbs): "+(0,i.v_)(e.row.weight),1),(0,t.Lk)("div",null,"体积: "+(0,i.v_)(e.row.volume),1)])),_:1}),(0,t.bF)(T,{label:"操作",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(V,{type:"text",size:"small",onClick:l=>m(e.row)},{default:(0,t.k6)((()=>l[31]||(l[31]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,t.bF)(L,{label:"待入库",name:"pending"},{default:(0,t.k6)((()=>l[32]||(l[32]=[(0,t.Lk)("div",{style:{padding:"20px","text-align":"center",color:"#909399"}},"待入库功能待实现",-1)]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(D,{modelValue:s.value,"onUpdate:modelValue":l[15]||(l[15]=e=>s.value=e),title:"选择预约",width:"75%","append-to-body":"","destroy-on-close":""},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",se,[(0,t.bF)(V,{onClick:l[14]||(l[14]=e=>s.value=!1),size:"small"},{default:(0,t.k6)((()=>l[34]||(l[34]=[(0,t.eW)("取消")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(x,{data:d.value,style:{width:"100%"},size:"small",border:""},{default:(0,t.k6)((()=>[(0,t.bF)(T,{prop:"appointmentNumber",label:"预约号",width:"180"}),(0,t.bF)(T,{prop:"destination",label:"目的地",width:"180"}),(0,t.bF)(T,{prop:"appointmentTime",label:"预约时间",width:"160"}),(0,t.bF)(T,{prop:"crdd",label:"CRDD",width:"160"}),(0,t.bF)(T,{prop:"status",label:"使用状态",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(W,{type:"未使用"===e.row.status?"success":"info",size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.row.status),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(T,{label:"操作",width:"80",fixed:"right"},{default:(0,t.k6)((e=>[(0,t.bF)(V,{type:"primary",size:"small",onClick:l=>b(e.row)},{default:(0,t.k6)((()=>l[33]||(l[33]=[(0,t.eW)("选择")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue"])])}}};var pe=a(6262);const ce=(0,pe.A)(de,[["__scopeId","data-v-53a0c6bd"]]),me=ce,ve={name:"ContainerShipments",components:{FilterPanel:j.A,GroupableTable:Y.A,draggable:oe(),DArrowLeft:ae.V6m,UploadPodDialog:J.A,CreateOutboundPC:me},setup(){const e=Z,l=ee,a=le,o=(0,G.KR)(e),i=(0,G.KR)(l),n=(0,G.KR)(a),r=(0,G.KR)([]),u=(0,G.KR)(!1),s=(0,G.KR)([...e]),d=(0,G.KR)([]),p=(0,G.KR)("west2"),c=(0,G.KR)("ETA"),m=(0,G.KR)([]),v=(0,G.KR)("trainNumber"),b=(0,G.KR)(""),g=(0,G.KR)("no"),k=(0,G.KR)("all"),f=(0,G.KR)(!1),h=(0,G.KR)([]),y=(0,G.KR)("and"),w=(0,G.KR)(1),C=(0,G.KR)(20),F=(0,G.KR)(0),V=(0,t.EW)((()=>F.value)),_=(0,G.KR)("all"),S=(0,G.KR)(""),T=(0,G.KR)([]),x=(0,G.KR)(!1),L=(0,G.KR)(!1),N=(0,G.KR)(!1),W=(0,G.KR)(""),D=(0,G.KR)(""),R=(0,G.KR)({name:"",columns:[]}),U=(0,G.KR)(null),$=(0,G.KR)({name:""}),A=(0,G.KR)(!1),K=(0,G.KR)({level1:"",level2:"",level3:""}),P=(0,t.EW)((()=>r.value.some((e=>e.isGroup)))),E=e=>{const l=["success","warning","info"];return l[e]||"info"},M=(0,t.EW)((()=>o.value.filter((e=>["trainNumber","loadingType","loadingStatus","loadingStartTime","loadingEndTime","loader","dockNumber","actualPallets"].includes(e.prop))))),O=(0,t.EW)((()=>o.value.filter((e=>["trainNumber","deliveryType","supplier","driverPhone","licensePlate","destination","deliveryCost"].includes(e.prop))))),z=(0,t.EW)((()=>o.value.filter((e=>["trainNumber","driverLicense","licensePlate","driverPhone","loadingStatus","loadingAppointmentTime"].includes(e.prop))))),X=(0,t.EW)((()=>o.value.filter((e=>e.sortable&&"operation"!==e.prop))));(0,t.wB)(_,(e=>{if(["all","pending","processing","completed","cancelled"].includes(e))S.value="",o.value.forEach((e=>e.visible=!0)),h.value=[],y.value="and",D.value="",W.value="",Oe.value=[{field:"",direction:"asc"}];else if(["loadingView","dispatchView","driverView"].includes(e))S.value="","loadingView"===e?s.value=M.value:"dispatchView"===e?s.value=O.value:"driverView"===e&&(s.value=z.value);else{const l=T.value.find((l=>l.id===e));l&&(S.value=e,il(e))}q()})),(0,t.wB)(S,(e=>{e&&(_.value=e)})),(0,t.sV)((()=>{s.value=o.value,oe(),n.value.forEach((e=>{e.tags&&Array.isArray(e.tags)&&(e.tags=e.tags.join(","))}));for(let e=4;e<=13;e++)n.value.push({id:e,containerNumber:`CONT${e}00${e}${e}${e}`,shippingNumber:`SH2024060${e}00${e}`,customerService:e%2===0?"李明":"张华",originalAddress:`${100+e} Harbor St, Oakland, CA 9460${e}`,address:`${200+e} Ocean Ave`,city:e%3===0?"Sacramento":e%3===1?"Oakland":"Riverside",state:"CA",zipCode:`9${e}${e}0${e}`,deliveryArea:e%2===0?"市区":"郊区",warehouseCode:`WH${e}00${e}`,channel:e%3===0?"空运":"海运",boxCount:20+2*e,weight:1e3+100*e,volume:30+1.5*e,palletCount:3+e%5,location:`D-0${e}-${10+e}`,eta:`2024-06-${10+e}`,containerPickupTime:`2024-06-${11+e} 08:00:00`,arrivalTime:`2024-06-${11+e} 10:30:00`,expectedUnpackingTime:`2024-06-${11+e} 13:00:00`,unpackingCompletedTime:e%3===0?null:`2024-06-${11+e} 16:00:00`,appointmentNumber:`APP00${130+e}`,deliveryAppointmentTime:e%4===0?null:`2024-06-${13+e} 09:00:00`,deliveryTime:e%5===0?null:`2024-06-${13+e} 09:30:00`,deliveryCompany:e%3===0?"顺风物流":e%3===1?"海洋物流":"空中物流",deliveryDriver:e%4===0?"":`司机${e}`,driverPhone:e%4===0?"":`138${e}${e}${e}${e}${e}${e}${e}${e}`,pcNumber:`PC202406${e}00${e}`,appointmentStatus:e%4===0?"未预约":e%4===1?"电话预约":e%4===2?"平台预约":"邮件预约",tags:e%3===0?"优先":e%3===1?"延期":"加急,特殊处理",followUpRecord:e%3===0?"待客户确认":e%3===1?"已联系客户":"客户已确认",remarks:`集装箱${e}的备注信息`,internalRemarks:e%2===0?"内部处理注意事项":"",quotationLianyu:4e3+200*e,shippingMark:`SHIP-${1e3+e}`,platformQuotation:4200+200*e,children:[{id:100*e+1,itemCode:`I20240${e}${e}01`,trackingNumber:`TRK000${e}${e}${e}01`,productName:e%2===0?"电子产品":"家居用品",quantity:10+e,weight:300+20*e,volume:10+.8*e,packageType:e%3===0?"木箱":e%3===1?"纸箱":"塑料箱",receiverName:`收件人${e}`,receiverPhone:`137${e}${e}${e}${e}${e}${e}${e}${e}`,deliveryAddress:`${e%3===0?"Sacramento":e%3===1?"Oakland":"Riverside"}市${10*e}号大厦`,deliveryStatus:e%4===0?"待派送":e%4===1?"派送中":e%4===2?"已派送":"已签收",shippingMark:`SHIP-${1e3+e}-A`,remarks:e%2===0?"需要签收确认":"送达后电话通知"}]});I()}));const I=()=>{u.value=!0;try{F.value=n.value.length,q();const e=n.value.filter((e=>"未预约"===e.appointmentStatus)).length,l=n.value.filter((e=>"已预约"===e.appointmentStatus||"已确认"===e.appointmentStatus)).length,a=n.value.filter((e=>"已完成"===e.appointmentStatus)).length,t=n.value.filter((e=>"已取消"===e.appointmentStatus)).length,o=document.querySelectorAll(".status-view-group .el-radio-button");o.length>=5&&(o[0].querySelector(".el-radio-button__inner").textContent=`全部(${n.value.length})`,o[1].querySelector(".el-radio-button__inner").textContent=`待处理(${e})`,o[2].querySelector(".el-radio-button__inner").textContent=`处理中(${l})`,o[3].querySelector(".el-radio-button__inner").textContent=`已完成(${a})`,o[4].querySelector(".el-radio-button__inner").textContent=`已取消(${t})`)}catch(e){console.error("加载数据失败:",e)}finally{u.value=!1}},q=()=>{let e=[...n.value];if(["pending","processing","completed","cancelled"].includes(_.value)){const l={pending:"待处理",processing:"处理中",completed:"已完成",cancelled:"已取消"},a=l[_.value];a&&(e=e.filter((e=>e.loadingStatus===a)))}if(b.value&&(e=e.filter((e=>{const l=e[v.value];return!!l&&l.toString().toLowerCase().includes(b.value.toLowerCase())}))),m.value&&2===m.value.length){const l={create:"createdAt",issue:"issueDate",appointment:"loadingAppointmentTime"},a=l[c.value],[t,o]=m.value;e=e.filter((e=>{const l=e[a];if(!l)return!1;const i=l.split(" ")[0];return i>=t&&i<=o}))}h.value.length>0&&(e=e.filter((e=>{const l=h.value.map((l=>{const{field:a,operator:t,value:o}=l,i=e[a];if(null==i)return!1;switch(t){case"eq":return i==o;case"neq":return i!=o;case"contains":return i.toString().toLowerCase().includes(o.toString().toLowerCase());case"notContains":return!i.toString().toLowerCase().includes(o.toString().toLowerCase());case"startsWith":return i.toString().toLowerCase().startsWith(o.toString().toLowerCase());case"endsWith":return i.toString().toLowerCase().endsWith(o.toString().toLowerCase());case"gt":return Number(i)>Number(o);case"gte":return Number(i)>=Number(o);case"lt":return Number(i)<Number(o);case"lte":return Number(i)<=Number(o);default:return!0}}));return"and"===y.value?l.every((e=>e)):l.some((e=>e))}))),D.value&&(e=B(e,D.value)),F.value=e.length;const l=(w.value-1)*C.value,a=l+C.value;r.value=e.slice(l,a)},B=(e,l)=>{const a={};e.forEach((e=>{const t=e[l],o=void 0===t||null===t?"未分类":String(t);a[o]||(a[o]=[]),a[o].push({...e})}));const t=[];for(const[o,i]of Object.entries(a))t.push({id:`group-${o}`,groupName:o,count:i.length,isGroup:!0,groupLevel:0,children:i});return t},j=e=>{d.value=e},Y=e=>{const l={待处理:"info",处理中:"warning",已完成:"success",已取消:"danger"};return l[e]||"info"},J=()=>{R.value={name:"",columns:o.value.filter((e=>!1!==e.visible)).map((e=>e.prop))},x.value=!0},ae=()=>{if(!R.value.name.trim())return void Q.nk.warning("请输入视图名称");const e={id:Date.now().toString(),name:R.value.name,columns:o.value.map((e=>({prop:e.prop,visible:!1!==e.visible}))),filters:h.value,filterLogic:y.value,groupSettings:K.value,sortSettings:Oe.value};T.value.push(e),S.value=e.id,x.value=!1,tl(),Q.nk.success("保存成功")},te=()=>{U.value&&H.s.confirm("确定要删除该视图吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=T.value.findIndex((e=>e.id===U.value.id));-1!==e&&(T.value.splice(e,1),_.value===U.value.id&&(_.value="all",S.value=""),tl(),Q.nk.success("删除成功")),L.value=!1})).catch((()=>{L.value=!1}))},oe=()=>{const e=localStorage.getItem("fbxViews");if(e)try{T.value=JSON.parse(e)}catch(l){console.error("加载保存的视图失败:",l)}},ne=e=>{console.log("查看详情",e)},re=(e,l)=>{Vl.value=l;let a="";switch(e){case"memo":kl.value=!0,fl.value.memo=l.remarks||"";break;case"followUp":hl.value=!0,Sl(l);break;case"history":Cl.value=!0,Ll(l);break;case"palletDetail":Q.nk.info("查看卡板明细");break;case"copyAddress":a=`${l.address||""}, ${l.city||""}, ${l.state||""} ${l.zipCode||""}`,navigator.clipboard.writeText(a).then((()=>{Q.nk.success("地址已复制到剪贴板")})).catch((e=>{console.error("复制失败:",e),Q.nk.error("复制地址失败")}));break;case"markException":Tl(l);break;case"detail":ne(l);break;case"expense":Ul.push({name:"FBXExpenseDetails",params:{id:l.id}});break;case"uploadPod":Dl(l);break;default:break}},ue=()=>{f.value=!0},se=()=>{console.log("showAddTrainDialog")},de=(e,l)=>{console.log("展开/折叠行:",e.id,l?"展开":"折叠")},pe=({prop:e,order:l})=>{if(!e||!l)return void q();const a=[...r.value];a.sort(((a,t)=>{let o=a[e],i=t[e];return isNaN(o)||isNaN(i)||(o=Number(o),i=Number(i)),"string"===typeof o&&"string"===typeof i?"ascending"===l?o.localeCompare(i):i.localeCompare(o):"ascending"===l?o>i?1:-1:o<i?1:-1})),r.value=a},ce=e=>{const l=o.value.find((l=>l.prop===e));return l?l.label:"分组"},me=e=>{C.value=e,I()},ve=e=>{w.value=e,I()},be=()=>{w.value=1,q()},ge=({filters:e,logic:l})=>{h.value=e,y.value=l,w.value=1,S.value&&ol(S.value),q()},ke=()=>{},fe=e=>{U.value=e,L.value=!0},he=()=>{U.value&&($.value.name=U.value.name,L.value=!1,N.value=!0)},ye=()=>{if(!U.value)return;if(!$.value.name.trim())return void Q.nk.warning("请输入视图名称");const e=T.value.findIndex((e=>e.id===U.value.id));-1!==e&&(T.value[e].name=$.value.name,tl(),Q.nk.success("重命名成功"),N.value=!1)},we=()=>{if(!U.value)return;const e={...U.value,id:Date.now().toString(),name:`${U.value.name} 副本`};T.value.push(e),tl(),Q.nk.success("复制成功"),L.value=!1},Ce=(0,G.KR)(!1),Fe=(0,G.KR)(0),Ve=(0,G.KR)(0),_e=(e,l)=>{e.preventDefault(),U.value=l,Ce.value=!0,Fe.value=e.clientX,Ve.value=e.clientY,setTimeout((()=>{document.addEventListener("click",Se)}),0)},Se=()=>{Ce.value=!1,document.removeEventListener("click",Se)},Te=(0,G.KR)({rowIndex:-1,prop:"",value:""}),xe=(0,G.KR)(!1),Le=(0,G.KR)(null),Ne=(0,G.KR)({}),We=(0,G.KR)({value:""}),De=(e,l,a)=>{const t=l.property;if(["address","city","state","zipCode","deliveryArea","appointmentNumber","deliveryAppointmentTime","deliveryTime","deliveryCompany","deliveryDriver","driverPhone","appointmentStatus","tags","followUpRecord","remarks","internalRemarks","quotationLianyu","shippingMark","platformQuotation"].includes(t)){const l=a?a.closest("tr"):null,o=l?Array.from(l.parentNode.children).indexOf(l):-1;console.log("单击编辑",e,t,o),Te.value={rowIndex:o,prop:t,value:e[t]||""},setTimeout((()=>{const e=document.querySelector(".cell-editor input");e&&e.focus()}),50)}},Re=(e,l)=>{const a=l.property;["address","city","state","zipCode","deliveryArea","appointmentNumber","deliveryAppointmentTime","deliveryTime","deliveryCompany","deliveryDriver","driverPhone","appointmentStatus","tags","followUpRecord","remarks","internalRemarks","quotationLianyu","shippingMark","platformQuotation"].includes(a)&&(Te.value={rowIndex:-1,prop:"",value:""},Le.value=e,Ne.value=o.value.find((e=>e.prop===a))||{prop:a,label:a},We.value.value=e[a]||"",xe.value=!0)},Ue=(e,l)=>{Te.value.prop===l&&(e[l]=Te.value.value,setTimeout((()=>{Te.value={rowIndex:-1,prop:"",value:""},Q.nk.success("保存成功")}),200))},$e=()=>{Le.value&&Ne.value.prop&&(Le.value[Ne.value.prop]=We.value.value,xe.value=!1,Q.nk.success("保存成功"))},Ae=e=>{const l=o.value.find((l=>l.prop===e));if(l&&l.filterOptions)return l.filterOptions;switch(e){case"appointmentStatus":return[{value:"待确认",label:"待确认"},{value:"已确认",label:"已确认"},{value:"已完成",label:"已完成"},{value:"已取消",label:"已取消"},{value:"延期",label:"延期"}];case"tags":return[{value:"优先",label:"优先"},{value:"紧急",label:"紧急"},{value:"延期",label:"延期"},{value:"异常",label:"异常"},{value:"正常",label:"正常"}];case"loader":return[{value:"张三",label:"张三"},{value:"李四",label:"李四"},{value:"王五",label:"王五"},{value:"赵六",label:"赵六"},{value:"钱七",label:"钱七"}];case"dockNumber":return Array.from({length:10},((e,l)=>{const a=l+1,t=`DOCK-${a<10?"0"+a:a}`;return{value:t,label:t}}));case"supplier":return[{value:"广州物流",label:"广州物流"},{value:"深圳物流",label:"深圳物流"},{value:"东莞物流",label:"东莞物流"},{value:"佛山物流",label:"佛山物流"},{value:"中山物流",label:"中山物流"}];case"driverLicense":case"licensePlate":case"driverPhone":return n.value.map((l=>({value:l[e],label:l[e]}))).filter(((e,l,a)=>e.value&&a.findIndex((l=>l.value===e.value))===l));default:return[]}},Ke=()=>{W.value=D.value,A.value=!0},Pe=()=>{const e=[];K.value.level1&&e.push(K.value.level1),K.value.level2&&e.push(K.value.level2),K.value.level3&&e.push(K.value.level3),D.value="",Ee(e),S.value&&ol(S.value),A.value=!1,Q.nk.success("分组已应用")},Ee=(e,l=[])=>{if(!e||0===e.length)return void q();const a=e=>{const l=o.value.find((l=>l.prop===e));return l?l.label:e};let t=[...n.value];if(["pending","processing","completed","cancelled"].includes(_.value)){const e={pending:"待处理",processing:"处理中",completed:"已完成",cancelled:"已取消"},l=e[_.value];l&&(t=t.filter((e=>e.loadingStatus===l)))}if(b.value&&(t=t.filter((e=>{const l=e[v.value];return l&&l.toString().toLowerCase().includes(b.value.toLowerCase())}))),m.value&&2===m.value.length){const e={create:"createdAt",issue:"issueDate",appointment:"loadingAppointmentTime"},l=e[c.value],[a,o]=m.value;t=t.filter((e=>{const t=e[l];if(!t)return!1;const i=t.split(" ")[0];return i>=a&&i<=o}))}h.value.length>0&&(t=t.filter((e=>{const l=h.value.map((l=>{const{field:a,operator:t,value:o}=l,i=e[a];if(null==i)return!1;switch(t){case"eq":return i==o;case"neq":return i!=o;case"contains":return i.toString().toLowerCase().includes(o.toString().toLowerCase());case"notContains":return!i.toString().toLowerCase().includes(o.toString().toLowerCase());case"startsWith":return i.toString().toLowerCase().startsWith(o.toString().toLowerCase());case"endsWith":return i.toString().toLowerCase().endsWith(o.toString().toLowerCase());case"gt":return Number(i)>Number(o);case"gte":return Number(i)>=Number(o);case"lt":return Number(i)<Number(o);case"lte":return Number(i)<=Number(o);default:return!0}}));return"and"===y.value?l.every((e=>e)):l.some((e=>e))})));const i=e=>!l||0===l.length||e.length<=1?e:[...e].sort(((e,a)=>{for(const{field:t,direction:o}of l){if(!t)continue;let l=e[t],i=a[t];if(void 0!==l&&void 0!==i&&(isNaN(l)||isNaN(i)||(l=Number(l),i=Number(i)),l!==i))return"string"===typeof l&&"string"===typeof i?"asc"===o?l.localeCompare(i):i.localeCompare(l):"asc"===o?l>i?1:-1:l<i?1:-1}return 0})),u=()=>{const l=[],o={};return t.forEach((l=>{const a=e[0],t=l[a]||"未分类",i=`${a}:${t}`;if(o[i]||(o[i]={items:[],subgroups:{}}),1===e.length)o[i].items.push(l);else{const a=e[1],t=l[a]||"未分类",n=`${a}:${t}`;if(o[i].subgroups[n]||(o[i].subgroups[n]={items:[],subgroups:{}}),2===e.length)o[i].subgroups[n].items.push(l);else{const a=e[2],t=l[a]||"未分类",r=`${a}:${t}`;o[i].subgroups[n].subgroups[r]||(o[i].subgroups[n].subgroups[r]={items:[]}),o[i].subgroups[n].subgroups[r].items.push(l)}}})),Object.entries(o).forEach((([t,o])=>{const[n,r]=t.split(":"),u=a(n),s={id:`group-${n}-${r}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,groupName:`${u}: ${r}`,isGroup:!0,groupLevel:0,count:1===e.length?o.items.length:Object.values(o.subgroups).reduce(((e,l)=>e+l.items.length),0)};if(l.push(s),1===e.length){const e=i(o.items);e.forEach((e=>{l.push({...e,parentGroupId:s.id})}))}else Object.entries(o.subgroups).forEach((([t,o])=>{const[n,r]=t.split(":"),u=a(n),d={id:`group-${n}-${r}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,groupName:`${u}: ${r}`,isGroup:!0,groupLevel:1,count:2===e.length?o.items.length:Object.values(o.subgroups).reduce(((e,l)=>e+l.items.length),0),parentGroupId:s.id};if(l.push(d),2===e.length){const e=i(o.items);e.forEach((e=>{l.push({...e,parentGroupId:d.id})}))}else Object.entries(o.subgroups).forEach((([e,t])=>{const[o,n]=e.split(":"),r=a(o),u={id:`group-${o}-${n}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,groupName:`${r}: ${n}`,isGroup:!0,groupLevel:2,count:t.items.length,parentGroupId:d.id};l.push(u);const s=i(t.items);s.forEach((e=>{l.push({...e,parentGroupId:u.id})}))}))}))})),l};r.value=u(),F.value=r.value.length,P.value=!0},Me=(0,G.KR)(!1),Oe=(0,G.KR)([{field:"",direction:"asc"}]),ze=(0,t.EW)((()=>o.value.filter((e=>e.sortable&&"operation"!==e.prop)))),Xe=()=>{Me.value=!0},Ie=()=>{Oe.value.push({field:"",direction:"asc"})},qe=e=>{Oe.value.splice(e,1),0===Oe.value.length&&Oe.value.push({field:"",direction:"asc"})},Be=()=>{if(Oe.value.some((e=>!e.field)))Q.nk.warning("请选择所有排序字段");else{if(K.value.level1||K.value.level2||K.value.level3){const e=[];K.value.level1&&e.push(K.value.level1),K.value.level2&&e.push(K.value.level2),K.value.level3&&e.push(K.value.level3),Ee(e,Oe.value)}else{let e=[...n.value];h.value.length>0&&(e=e.filter((e=>{const l=h.value.map((l=>{const{field:a,operator:t,value:o}=l,i=e[a];if(null==i)return!1;switch(t){case"eq":return i==o;case"neq":return i!=o;case"contains":return i.toString().toLowerCase().includes(o.toString().toLowerCase());case"notContains":return!i.toString().toLowerCase().includes(o.toString().toLowerCase());case"startsWith":return i.toString().toLowerCase().startsWith(o.toString().toLowerCase());case"endsWith":return i.toString().toLowerCase().endsWith(o.toString().toLowerCase());case"gt":return Number(i)>Number(o);case"gte":return Number(i)>=Number(o);case"lt":return Number(i)<Number(o);case"lte":return Number(i)<=Number(o);default:return!0}}));return"and"===y.value?l.every((e=>e)):l.some((e=>e))}))),e.sort(((e,l)=>{for(const{field:a,direction:t}of Oe.value){if(!a)continue;let o=e[a],i=l[a];if(void 0!==o&&void 0!==i&&(isNaN(o)||isNaN(i)||(o=Number(o),i=Number(i)),o!==i))return"string"===typeof o&&"string"===typeof i?"asc"===t?o.localeCompare(i):i.localeCompare(o):"asc"===t?o>i?1:-1:o<i?1:-1}return 0})),r.value=e,F.value=e.length,P.value=!1}Me.value=!1,S.value&&ol(S.value),Q.nk.success("排序已应用")}},Ge=()=>{K.value={level1:"",level2:"",level3:""},D.value="",S.value&&ol(S.value),q(),A.value=!1,Q.nk.success("已清除分组设置")},Qe=()=>{Oe.value=[{field:"",direction:"asc"}],S.value&&ol(S.value),q(),Me.value=!1,Q.nk.success("已清除排序设置")},He=(0,G.KR)(!1),je=(0,G.KR)([]),Ye=(0,t.EW)({get:()=>je.value.every((e=>e.visible)),set:e=>{je.value.forEach((l=>l.visible=e))}}),Je=()=>{je.value=o.value.map((e=>({...e,visible:!1!==e.visible}))),He.value=!0},Ze=e=>{je.value.forEach((l=>l.visible=e))},el=()=>{je.value=o.value.map((e=>({...e,visible:!0})))},ll=()=>{},al=()=>{o.value=o.value.map((e=>{const l=je.value.find((l=>l.prop===e.prop));return{...e,visible:!l||l.visible}})),S.value&&ol(S.value),He.value=!1,Q.nk.success("字段配置已更新")},tl=()=>{localStorage.setItem("fbxViews",JSON.stringify(T.value))},ol=e=>{const l=T.value.findIndex((l=>l.id===e));l>-1&&(T.value[l]={...T.value[l],columns:o.value.map((e=>({prop:e.prop,visible:!1!==e.visible}))),filters:h.value,filterLogic:y.value,groupSettings:K.value,sortSettings:Oe.value},tl())},il=e=>{const l=T.value.find((l=>l.id===e));l&&(l.columns&&(o.value=o.value.map((e=>{const a=l.columns.find((l=>l.prop===e.prop));return{...e,visible:!a||a.visible}}))),l.filters&&(h.value=[...l.filters],y.value=l.filterLogic||"and"),l.groupSettings&&(K.value={...l.groupSettings}),l.sortSettings&&(Oe.value=[...l.sortSettings]),q())},nl=(0,G.KR)(""),rl=(0,G.KR)(!1),ul=(0,G.KR)(!1),sl=(0,G.KR)({followUp:"",memo:"",pcType:"delivery",targetWarehouse:""}),dl=e=>{0!==d.value.length?(nl.value=e,sl.value.followUp="",sl.value.memo="",sl.value.pcType="delivery",sl.value.targetWarehouse="",rl.value=!0):Q.nk.warning("请先选择要操作的数据")},pl=()=>{switch(nl.value){case"followUp":if(!sl.value.followUp)return void Q.nk.warning("请输入跟进记录");Q.nk.success(`已为${d.value.length}条记录添加跟进记录`),rl.value=!1;break;case"memo":if(!sl.value.memo)return void Q.nk.warning("请输入MEMO");Q.nk.success(`已为${d.value.length}条记录添加MEMO`),rl.value=!1;break;case"createPC":if("transfer"===sl.value.pcType&&!sl.value.targetWarehouse)return void Q.nk.warning("请选择目标仓库");rl.value=!1,"delivery"===sl.value.pcType?ul.value=!0:Q.nk.success(`已创建调拨PC，包含${d.value.length}条记录`);break}},cl=e=>{Le.value[Ne.value.prop]=e,xe.value=!1},ml=e=>{switch(e){case"电话预约":return"warning";case"平台预约":return"";case"邮件预约":return"info";case"未预约":return"danger";default:return""}},vl=e=>{switch(e.trim()){case"加急":return"danger";case"特殊处理":return"warning";default:return""}},bl=e=>{e.appointmentStatus="",Q.nk.success("已移除预约状态")},gl=(e,l)=>{if(e.tags){if("string"===typeof e.tags){const a=e.tags.split(","),t=a.filter((e=>e.trim()!==l.trim()));e.tags=t.join(",")}else e.tags="";Q.nk.success("已移除标签")}},kl=(0,G.KR)(!1),fl=(0,G.KR)({memo:""}),hl=(0,G.KR)(!1),yl=(0,G.KR)({content:"",type:"primary"}),wl=(0,G.KR)([]),Cl=(0,G.KR)(!1),Fl=(0,G.KR)([]),Vl=(0,G.KR)(null),_l=()=>{fl.value.memo.trim()?(Vl.value&&(Vl.value.remarks=fl.value.memo,Nl(Vl.value,"memo","更新备注"),Q.nk.success("保存成功")),kl.value=!1):Q.nk.warning("请输入备注内容")},Sl=e=>{wl.value=[{time:"2024-03-20 10:00:00",content:`客户确认收货地址 - ${e.address||"未知地址"}`,operator:"张三",type:"primary"},{time:"2024-03-20 14:30:00",content:`预约派送时间 - ${e.deliveryAppointmentTime||"未设置"}`,operator:"李四",type:"warning"}]},Tl=e=>{Vl.value=e,yl.value={content:"",type:"danger"},hl.value=!0},xl=()=>{if(yl.value.content.trim()){if(Vl.value){if(wl.value.unshift({time:(new Date).toLocaleString(),content:yl.value.content,operator:"当前用户",type:yl.value.type}),"danger"===yl.value.type){let e=[];if("string"===typeof Vl.value.tags&&Vl.value.tags?e=Vl.value.tags.split(",").map((e=>e.trim())):Array.isArray(Vl.value.tags)&&(e=[...Vl.value.tags]),!e.includes("异常")){e.push("异常"),Vl.value.tags=e.join(",");const l=n.value.findIndex((e=>e.id===Vl.value.id));-1!==l&&(n.value[l]={...Vl.value});const a=r.value.findIndex((e=>e.id===Vl.value.id));-1!==a&&(r.value[a]={...Vl.value})}}Nl(Vl.value,"followUp","添加跟进记录"),yl.value.content="",yl.value.type="primary",Q.nk.success("保存成功")}hl.value=!1}else Q.nk.warning("请输入跟进内容")},Ll=e=>{Fl.value=[{time:"2024-03-20 10:00:00",content:`创建订单 - ${e.containerNumber||"未知集装箱号"}`,operator:"系统",type:"primary"},{time:"2024-03-20 14:30:00",content:`更新备注信息 - ${e.remarks||"无备注"}`,operator:"张三",type:"info"},{time:"2024-03-20 16:00:00",content:`添加跟进记录 - ${e.followUpRecord||"无跟进记录"}`,operator:"李四",type:"warning"}]},Nl=(e,l,a)=>{Fl.value.unshift({time:(new Date).toLocaleString(),content:a,operator:"当前用户",type:"memo"===l?"info":"followUp"===l?"warning":"primary"})},Wl=(0,G.KR)(!1),Dl=e=>{Vl.value=e,Wl.value=!0},Rl=async e=>{try{console.log("上传POD文件:",e),Q.nk.success("POD上传成功"),Vl.value&&(Vl.value.podStatus="已上传",Vl.value.receiveTime=e.get("receiveTime"))}catch(l){console.error("上传POD失败:",l),Q.nk.error("上传POD失败，请重试")}},Ul=(0,ie.rd)(),$l=(0,t.EW)((()=>o.value.filter((e=>["trainNumber","loadingType","loadingStatus","loadingStartTime","loadingEndTime","loader","dockNumber","actualPallets","deliveryType","supplier","driverPhone","licensePlate","destination","deliveryCost","driverLicense","driverPhone","loadingStatus","loadingAppointmentTime","appointmentStatus","tags","followUpRecord","remarks","internalRemarks","quotationLianyu","shippingMark","platformQuotation"].includes(e.prop)))));return{tableColumns:o,childColumns:i,tableData:n,displayData:r,loading:u,visibleColumns:s,selectedRows:d,warehouse:p,createDateType:c,dateRange:m,searchType:v,searchText:b,sendOrder:g,currentStatus:k,filterPanelVisible:f,activeFilters:h,filterLogic:y,currentPage:w,pageSize:C,totalItems:F,total:V,currentView:_,selectedCustomView:S,customViews:T,saveViewDialogVisible:x,viewOptionsDialogVisible:L,renameViewDialogVisible:N,tempGroupField:W,groupField:D,viewForm:R,currentEditingView:U,renameForm:$,groupableFields:X,groupModalVisible:A,groupSettings:K,hasGroupedData:P,getGroupTagType:E,showGroupModal:Ke,applyGroupSettings:Pe,handleSaveView:J,saveView:ae,handleDeleteView:te,loadSavedViews:oe,getStatusTagType:Y,handleDetail:ne,handleCommand:re,showFilterPanel:ue,showAddTrainDialog:se,handleExpandChange:de,handleSelectionChange:j,handleSortChange:pe,handleSizeChange:me,handleCurrentChange:ve,handleSearch:be,applyFilters:ge,cancelFilters:ke,fetchData:I,applyFiltersAndPagination:q,groupData:B,handleViewOptions:fe,handleRenameView:he,saveRenameView:ye,handleCopyView:we,contextMenuVisible:Ce,contextMenuX:Fe,contextMenuY:Ve,handleContextMenu:_e,closeContextMenu:Se,editingCell:Te,editDialogVisible:xe,editingRow:Le,editingColumn:Ne,editingForm:We,handleCellClick:De,handleCellDbClick:Re,saveEdit:Ue,saveDialogEdit:$e,getOptionsForColumn:Ae,getGroupColumnLabel:ce,sortModalVisible:Me,sortSettings:Oe,sortableFields:ze,showSortModal:Xe,addSortField:Ie,removeSortField:qe,applySortSettings:Be,clearGroupSettings:Ge,clearSortSettings:Qe,columnSettingsVisible:He,columnSettingsList:je,allColumnsSelected:Ye,showColumnSettings:Je,handleSelectAllColumns:Ze,resetColumnSettings:el,handleDragEnd:ll,applyColumnSettings:al,saveViewsToStorage:tl,updateViewConfig:ol,applyViewConfig:il,batchOperation:nl,batchDialogVisible:rl,batchForm:sl,handleBatchOperation:dl,handleBatchSubmit:pl,handleSaveEdit:cl,getAppointmentStatusType:ml,getTagType:vl,removeAppointmentStatus:bl,removeTag:gl,memoDialogVisible:kl,memoForm:fl,followUpDialogVisible:hl,followUpForm:yl,followUpHistory:wl,historyDialogVisible:Cl,historyRecords:Fl,saveMemo:_l,saveFollowUp:xl,loadFollowUpHistory:Sl,loadHistoryRecords:Ll,podDialogVisible:Wl,handleUploadPod:Dl,handlePodSubmit:Rl,createPCDialogVisible:ul,visibleMainTableColumns:$l}}},be=(0,pe.A)(ve,[["render",B],["__scopeId","data-v-4dcd8c19"]]),ge=be},7006:e=>{e.exports=JSON.parse('[{"id":1,"containerNumber":"MAEU1234567","shippingNumber":"SH20240501001","customerService":"王小明","originalAddress":"123 Main St, Newark, NJ 07101","address":"456 Elm St","city":"Los Angeles","state":"CA","zipCode":"90001","deliveryArea":"城区","warehouseCode":"LA001","channel":"海运","boxCount":45,"weight":2500,"volume":65.5,"palletCount":8,"location":"A-12-05","eta":"2024-05-15","containerPickupTime":"2024-05-16 08:30:00","arrivalTime":"2024-05-16 10:15:00","expectedUnpackingTime":"2024-05-16 13:00:00","unpackingCompletedTime":"2024-05-16 16:45:00","appointmentNumber":"APP00125","deliveryAppointmentTime":"2024-05-18 09:00:00","deliveryTime":"2024-05-18 09:15:00","deliveryCompany":"速达物流","deliveryDriver":"李强","driverPhone":"13812345678","pcNumber":"PC2024050101","appointmentStatus":"已确认","tags":["优先处理","特殊货物"],"followUpRecord":"客户已确认送货时间","remarks":"请轻拿轻放，货物易碎","internalRemarks":"VIP客户，优先处理","quotationLianyu":5600,"shippingMark":"ACME-2024","platformQuotation":5800,"children":[{"id":101,"itemCode":"I2024050101","trackingNumber":"TRK000123456","productName":"电子显示器","quantity":20,"weight":500,"volume":12.5},{"id":102,"itemCode":"I2024050102","trackingNumber":"TRK000123457","productName":"服务器设备","quantity":5,"weight":750,"volume":18.2}]},{"id":2,"containerNumber":"CMAU7654321","shippingNumber":"SH20240501002","customerService":"李娜","originalAddress":"789 Oak St, Seattle, WA 98101","address":"321 Pine Rd","city":"San Francisco","state":"CA","zipCode":"94107","deliveryArea":"郊区","warehouseCode":"SF002","channel":"海运","boxCount":32,"weight":1800,"volume":48.2,"palletCount":6,"location":"B-08-12","eta":"2024-05-18","containerPickupTime":"2024-05-19 07:45:00","arrivalTime":"2024-05-19 09:30:00","expectedUnpackingTime":"2024-05-19 12:00:00","unpackingCompletedTime":"2024-05-19 15:30:00","appointmentNumber":"APP00126","deliveryAppointmentTime":"2024-05-21 14:00:00","deliveryTime":null,"deliveryCompany":"快捷物流","deliveryDriver":"张伟","driverPhone":"13898765432","pcNumber":"PC2024050102","appointmentStatus":"已预约","tags":["常规货物"],"followUpRecord":"等待确认送货时间","remarks":"送货前需电话联系","internalRemarks":"","quotationLianyu":4200,"shippingMark":"BETA-2024","platformQuotation":4500,"children":[{"id":201,"itemCode":"I2024050201","trackingNumber":"TRK000234567","productName":"办公家具","quantity":15,"weight":800,"volume":25.5}]},{"id":3,"containerNumber":"OOLU8765432","shippingNumber":"SH20240502001","customerService":"张伟","originalAddress":"456 Market St, New York, NY 10001","address":"789 Beach Blvd","city":"San Diego","state":"CA","zipCode":"92109","deliveryArea":"远郊","warehouseCode":"SD003","channel":"空运","boxCount":18,"weight":950,"volume":28.4,"palletCount":4,"location":"C-05-07","eta":"2024-05-20","containerPickupTime":"2024-05-20 09:00:00","arrivalTime":"2024-05-20 11:30:00","expectedUnpackingTime":"2024-05-20 14:00:00","unpackingCompletedTime":null,"appointmentNumber":"APP00127","deliveryAppointmentTime":null,"deliveryTime":null,"deliveryCompany":"安顺物流","deliveryDriver":"","driverPhone":"","pcNumber":"PC2024050201","appointmentStatus":"未预约","tags":["易碎品","高价值"],"followUpRecord":"待处理","remarks":"贵重物品，需专人签收","internalRemarks":"保价货物，谨慎操作","quotationLianyu":7800,"shippingMark":"GAMMA-2024","platformQuotation":8200,"children":[{"id":301,"itemCode":"I2024050301","trackingNumber":"TRK000345678","productName":"医疗设备","quantity":8,"weight":450,"volume":15.8},{"id":302,"itemCode":"I2024050302","trackingNumber":"TRK000345679","productName":"医用耗材","quantity":10,"weight":250,"volume":8.5}]}]')},7443:e=>{e.exports=JSON.parse('[{"prop":"itemCode","label":"货件编码","width":140,"sortable":true},{"prop":"trackingNumber","label":"追踪编号","width":160,"sortable":true},{"prop":"productName","label":"货物名称","width":200,"sortable":true},{"prop":"quantity","label":"数量","width":100,"sortable":true},{"prop":"weight","label":"重量(KG)","width":120,"sortable":true},{"prop":"volume","label":"体积(CBM)","width":120,"sortable":true}]')},8597:e=>{e.exports=JSON.parse('[{"prop":"containerNumber","label":"集装箱号","width":140,"sortable":true,"filterType":"text"},{"prop":"shippingNumber","label":"运单号","width":140,"sortable":true,"filterType":"text"},{"prop":"customerService","label":"客服","width":100,"sortable":true,"filterType":"text"},{"prop":"originalAddress","label":"原地址信息","width":180,"sortable":true,"filterType":"text"},{"prop":"address","label":"地址","width":180,"sortable":true,"filterType":"text"},{"prop":"city","label":"City","width":120,"sortable":true,"filterType":"text"},{"prop":"state","label":"State","width":100,"sortable":true,"filterType":"text"},{"prop":"zipCode","label":"Zip_Code","width":120,"sortable":true,"filterType":"text"},{"prop":"deliveryArea","label":"派送区域","width":120,"sortable":true,"filterType":"select","filterOptions":[{"label":"城区","value":"城区"},{"label":"郊区","value":"郊区"},{"label":"远郊","value":"远郊"},{"label":"跨州","value":"跨州"}]},{"prop":"warehouseCode","label":"仓库代码","width":120,"sortable":true,"filterType":"text"},{"prop":"channel","label":"渠道","width":100,"sortable":true,"filterType":"select","filterOptions":[{"label":"海运","value":"海运"},{"label":"空运","value":"空运"},{"label":"铁路","value":"铁路"},{"label":"公路","value":"公路"}]},{"prop":"boxCount","label":"箱数","width":80,"sortable":true,"filterType":"number"},{"prop":"weight","label":"重重","width":100,"sortable":true,"filterType":"number"},{"prop":"volume","label":"方数","width":100,"sortable":true,"filterType":"number"},{"prop":"palletCount","label":"板数","width":80,"sortable":true,"filterType":"number"},{"prop":"location","label":"库位","width":100,"sortable":true,"filterType":"text"},{"prop":"eta","label":"ETA","width":140,"sortable":true,"filterType":"date"},{"prop":"containerPickupTime","label":"提柜时间","width":140,"sortable":true,"filterType":"datetime"},{"prop":"arrivalTime","label":"抵仓时间","width":140,"sortable":true,"filterType":"datetime"},{"prop":"expectedUnpackingTime","label":"预计拆柜时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"unpackingCompletedTime","label":"拆柜完成时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"appointmentNumber","label":"预约号","width":120,"sortable":true,"filterType":"text"},{"prop":"deliveryAppointmentTime","label":"派送预约时间","width":160,"sortable":true,"filterType":"datetime"},{"prop":"deliveryTime","label":"送货时间","width":140,"sortable":true,"filterType":"datetime"},{"prop":"deliveryCompany","label":"送货公司","width":140,"sortable":true,"filterType":"text"},{"prop":"deliveryDriver","label":"送货司机","width":120,"sortable":true,"filterType":"text"},{"prop":"driverPhone","label":"司机电话","width":120,"sortable":true,"filterType":"text"},{"prop":"pcNumber","label":"PC号","width":120,"sortable":true,"filterType":"text"},{"prop":"appointmentStatus","label":"预约状态","width":120,"sortable":true,"filterType":"select","type":"status","options":[{"value":"未预约","type":"info"},{"value":"已预约","type":"warning"},{"value":"已确认","type":"primary"},{"value":"已抵达","type":"success"},{"value":"已取消","type":"danger"}],"filterOptions":[{"label":"未预约","value":"未预约"},{"label":"已预约","value":"已预约"},{"label":"已确认","value":"已确认"},{"label":"已抵达","value":"已抵达"},{"label":"已取消","value":"已取消"}]},{"prop":"tags","label":"标签","width":120,"sortable":false,"filterType":"select","type":"tags"},{"prop":"followUpRecord","label":"跟进记录","width":150,"sortable":false,"filterType":"text"},{"prop":"remarks","label":"MEMO","width":150,"sortable":false,"filterType":"text"},{"prop":"internalRemarks","label":"内部备注","width":150,"sortable":false,"filterType":"text"},{"prop":"quotationLianyu","label":"报价(联宇)","width":150,"sortable":true,"filterType":"number"},{"prop":"shippingMark","label":"唛头","width":120,"sortable":true,"filterType":"text"},{"prop":"platformQuotation","label":"询价平台报价","width":150,"sortable":true,"filterType":"number"},{"prop":"podPhoto","label":"POD照片","width":"120","sortable":true},{"prop":"operation","label":"操作","width":150,"fixed":"right","sortable":false,"type":"operation"}]')}}]);
//# sourceMappingURL=4591.608ef313.js.map