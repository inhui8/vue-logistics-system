"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[582],{7582:(e,a,i)=>{i.r(a),i.d(a,{default:()=>_});var t=i(641),l=i(33);const s={class:"dockyard-container"},d={class:"container"},n={class:"front-yard"},o=["data-id","onClick"],c={key:0,class:"container-id"},r={key:1,class:"mini-progress"},p=["data-id","onClick"],b={key:0,class:"container-id"},u={key:1,class:"mini-progress"},m={class:"parking-area"},g=["data-id","onClick"],v={key:0,class:"container-id"},k={key:1,class:"mini-progress"},y={class:"back-yard"},C=["data-id","onClick"],h={key:0,class:"container-id"},S={key:1,class:"mini-progress"},E={class:"popup-header"},f={class:"popup-body"},I={class:"popup-footer"};function D(e,a,i,D,w,X){const L=(0,t.g2)("el-progress"),_=(0,t.g2)("el-button");return(0,t.uX)(),(0,t.CE)("div",s,[a[8]||(a[8]=(0,t.Fv)('<h1 data-v-7caee314>海柜停车图</h1><div class="header" data-v-7caee314><div class="logo" data-v-7caee314><div class="logo-box" data-v-7caee314>W</div><div data-v-7caee314><div class="company-name" data-v-7caee314>盈仓科技</div><div class="company-name-en" data-v-7caee314>LinkW Technology Logistics Inc.</div></div></div></div>',2)),(0,t.Lk)("div",d,[(0,t.Lk)("div",n,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(w.frontYardRow1,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:(0,l.C4)(["parking-space",X.getContainerClass(e.id)]),"data-id":e.id,onClick:a=>X.showContainerPopup(e.id)},[(0,t.eW)((0,l.v_)(e.label)+" ",1),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",c,(0,l.v_)(w.containerData[e.id].containerId),1)):(0,t.Q3)("",!0),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",{class:"mini-progress-bar",style:(0,l.Tr)({width:w.containerData[e.id].progress+"%"})},(0,l.v_)(w.containerData[e.id].progress)+"% ",5)])):(0,t.Q3)("",!0)],10,o)))),128)),a[1]||(a[1]=(0,t.Lk)("div",{class:"front-yard-label"},[(0,t.eW)("前场"),(0,t.Lk)("br"),(0,t.eW)("100X")],-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(w.frontYardRow2,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:(0,l.C4)(["parking-space",X.getContainerClass(e.id)]),"data-id":e.id,onClick:a=>X.showContainerPopup(e.id)},[(0,t.eW)((0,l.v_)(e.label)+" ",1),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",b,(0,l.v_)(w.containerData[e.id].containerId),1)):(0,t.Q3)("",!0),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",{class:"mini-progress-bar",style:(0,l.Tr)({width:w.containerData[e.id].progress+"%"})},(0,l.v_)(w.containerData[e.id].progress)+"% ",5)])):(0,t.Q3)("",!0)],10,p)))),128))]),a[3]||(a[3]=(0,t.Lk)("div",{class:"warehouse-title"},"仓库",-1)),(0,t.Lk)("div",m,[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(27,(e=>(0,t.Lk)("div",{key:"warehouse-"+e,class:(0,l.C4)(["parking-space",X.getContainerClass(X.formatSpaceId(e))]),"data-id":X.formatSpaceId(e),onClick:a=>X.showContainerPopup(X.formatSpaceId(e))},[(0,t.eW)((0,l.v_)(X.formatSpaceId(e))+" ",1),w.containerData[X.formatSpaceId(e)]?((0,t.uX)(),(0,t.CE)("div",v,(0,l.v_)(w.containerData[X.formatSpaceId(e)].containerId),1)):(0,t.Q3)("",!0),w.containerData[X.formatSpaceId(e)]?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",{class:"mini-progress-bar",style:(0,l.Tr)({width:w.containerData[X.formatSpaceId(e)].progress+"%"})},(0,l.v_)(w.containerData[X.formatSpaceId(e)].progress)+"% ",5)])):(0,t.Q3)("",!0)],10,g))),64))]),(0,t.Lk)("div",y,[a[2]||(a[2]=(0,t.Lk)("div",{class:"back-yard-label"},[(0,t.eW)("后场"),(0,t.Lk)("br"),(0,t.eW)("120X")],-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(w.backYardSpaces,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:(0,l.C4)(["parking-space",X.getContainerClass(e.id)]),"data-id":e.id,onClick:a=>X.showContainerPopup(e.id)},[(0,t.eW)((0,l.v_)(e.label)+" ",1),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",h,(0,l.v_)(w.containerData[e.id].containerId),1)):(0,t.Q3)("",!0),w.containerData[e.id]?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",{class:"mini-progress-bar",style:(0,l.Tr)({width:w.containerData[e.id].progress+"%"})},(0,l.v_)(w.containerData[e.id].progress)+"% ",5)])):(0,t.Q3)("",!0)],10,C)))),128))])]),w.popupVisible?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"custom-popup",style:(0,l.Tr)(w.popupStyle)},[(0,t.Lk)("div",E,[a[4]||(a[4]=(0,t.Lk)("span",{class:"popup-title"},"停车位信息",-1)),(0,t.Lk)("button",{class:"popup-close",onClick:a[0]||(a[0]=(...e)=>X.closePopup&&X.closePopup(...e))},"×")]),(0,t.Lk)("div",f,[(0,t.Lk)("p",null,"停车位号: "+(0,l.v_)(w.selectedSpace),1),(0,t.Lk)("p",null,"柜号: "+(0,l.v_)(X.selectedContainer?X.selectedContainer.containerId:"空"),1),a[5]||(a[5]=(0,t.Lk)("p",null,"拆柜进度:",-1)),(0,t.bF)(L,{percentage:X.selectedContainer?X.selectedContainer.progress:0,status:X.selectedContainer&&X.selectedContainer.progress>=100?"success":""},null,8,["percentage","status"])]),(0,t.Lk)("div",I,[(0,t.bF)(_,{type:"primary",onClick:X.dispatchContainer},{default:(0,t.k6)((()=>a[6]||(a[6]=[(0,t.eW)("调度上口")]))),_:1},8,["onClick"]),(0,t.bF)(_,{type:"danger",onClick:X.removeContainer},{default:(0,t.k6)((()=>a[7]||(a[7]=[(0,t.eW)("移除海柜")]))),_:1},8,["onClick"])])],4)):(0,t.Q3)("",!0)])}const w={name:"DockyardView",data(){return{containerData:{"05":{containerId:"FRNT5723",progress:70},14:{containerId:"FRNT8912",progress:40},19:{containerId:"FRNT4567",progress:30},"01":{containerId:"WHSE7845",progress:65},"02":{containerId:"WHSE3912",progress:30},"09":{containerId:"WHSE4523",progress:80},47:{containerId:"BACK4755",progress:25},"41-2":{containerId:"BACK4102",progress:50},"35-2":{containerId:"BACK3520",progress:100}},frontYardRow1:[{id:"46",label:"46"},{id:"45",label:"45"},{id:"44",label:"44"},{id:"43",label:"43"},{id:"42",label:"42"},{id:"41",label:"41"},{id:"40",label:"40"},{id:"39",label:"39"},{id:"38",label:"38"},{id:"37",label:"37"},{id:"36",label:"36"},{id:"35",label:"35"},{id:"34",label:"34"},{id:"33",label:"33"},{id:"32",label:"32"},{id:"31",label:"31"},{id:"empty1",label:"",isEmptySpace:!0},{id:"empty2",label:"",isEmptySpace:!0},{id:"30",label:"30"},{id:"29",label:"29"},{id:"28",label:"28"},{id:"27",label:"27"},{id:"26",label:"26"},{id:"empty3",label:"",isEmptySpace:!0},{id:"empty4",label:"",isEmptySpace:!0},{id:"XX1",label:"XX"},{id:"XX2",label:"XX"},{id:"empty5",label:"",isEmptySpace:!0}],frontYardRow2:[{id:"03",label:"03"},{id:"04",label:"04"},{id:"05",label:"05"},{id:"empty6",label:"",isEmptySpace:!0},{id:"07",label:"07"},{id:"08",label:"08"},{id:"09",label:"09"},{id:"10",label:"10"},{id:"11",label:"11"},{id:"12",label:"12"},{id:"13",label:"13"},{id:"14",label:"14"},{id:"empty7",label:"",isEmptySpace:!0},{id:"16",label:"16"},{id:"empty8",label:"",isEmptySpace:!0},{id:"empty9",label:"",isEmptySpace:!0},{id:"empty10",label:"",isEmptySpace:!0},{id:"17",label:"17"},{id:"18",label:"18"},{id:"19",label:"19"},{id:"20",label:"20"},{id:"21",label:"21"},{id:"22",label:"22"},{id:"23",label:"23"},{id:"24",label:"24"},{id:"25",label:"25"}],backYardSpaces:[{id:"47",label:"47"},{id:"48",label:"48"},{id:"empty11",label:"",isEmptySpace:!0},{id:"49",label:"49"},{id:"44-2",label:"44"},{id:"43-2",label:"43"},{id:"42-2",label:"42"},{id:"41-2",label:"41"},{id:"40-2",label:"40"},{id:"39-2",label:"39"},{id:"38-2",label:"38"},{id:"37-2",label:"37"},{id:"36-2",label:"36"},{id:"35-2",label:"35"},{id:"34-2",label:"34"},{id:"33-2",label:"33"},{id:"32-2",label:"32"},{id:"31-2",label:"31"},{id:"31-1",label:"31-1"},{id:"31-2",label:"31-2"},{id:"empty12",label:"",isEmptySpace:!0},{id:"30-2",label:"30"},{id:"29-2",label:"29"},{id:"28-2",label:"28"},{id:"29-1",label:"28-1"},{id:"26-2",label:"28-2"}],popupVisible:!1,selectedSpace:"",popupStyle:{position:"absolute",margin:"0",padding:"0",top:"0px",left:"0px"}}},computed:{selectedContainer(){return this.containerData[this.selectedSpace]||null}},methods:{formatSpaceId(e){return e.toString().padStart(2,"0")},getContainerClass(e){return this.containerData[e]?this.containerData[e].progress>=100?"empty-container":"loading-container":"no-container"},showContainerPopup(e){const a=this.frontYardRow1.some((a=>a.id===e&&a.isEmptySpace))||this.frontYardRow2.some((a=>a.id===e&&a.isEmptySpace))||this.backYardSpaces.some((a=>a.id===e&&a.isEmptySpace));a||(this.selectedSpace=e,this.$nextTick((()=>{const a=document.querySelector(`.parking-space[data-id="${e}"]`);if(a){const e=a.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;this.popupStyle={position:"absolute",margin:"0",padding:"0",top:e.top+i-30+"px",left:`${e.right+t+10}px`};const l=window.innerWidth;e.right+310>l&&(this.popupStyle.left=e.left+t-310+"px"),this.popupVisible=!0}else this.popupStyle={position:"relative",margin:"0 auto"},this.popupVisible=!0})))},closePopup(){this.popupVisible=!1},dispatchContainer(){this.containerData[this.selectedSpace]?(this.$message.success(`集装箱 ${this.containerData[this.selectedSpace].containerId} 已从停车位 ${this.selectedSpace} 调度`),this.$delete(this.containerData,this.selectedSpace),this.popupVisible=!1):this.$message.warning(`停车位 ${this.selectedSpace} 没有集装箱可调度`)},removeContainer(){this.containerData[this.selectedSpace]?(this.$message.success(`集装箱 ${this.containerData[this.selectedSpace].containerId} 已从停车位 ${this.selectedSpace} 移除`),this.$delete(this.containerData,this.selectedSpace),this.popupVisible=!1):this.$message.warning(`停车位 ${this.selectedSpace} 没有集装箱可移除`)}}};var X=i(6262);const L=(0,X.A)(w,[["render",D],["__scopeId","data-v-7caee314"]]),_=L}}]);
//# sourceMappingURL=582.2b03fd94.js.map