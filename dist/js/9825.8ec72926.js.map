{"version":3,"file":"js/9825.8ec72926.js","mappings":"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","sources":["webpack://vue-logistics-system/./src/views/MessageDetail.vue","webpack://vue-logistics-system/./src/views/MessageDetail.vue?3077"],"sourcesContent":["<template>\r\n  <div class=\"message-detail\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span class=\"message-type\" :class=\"message.type\">{{ getTypeText(message.type) }}</span>\r\n          <span class=\"message-number\">单号：{{ message.number }}</span>\r\n        </div>\r\n      </template>\r\n      <div class=\"message-info\">\r\n        <div class=\"info-item\">\r\n          <span class=\"label\">标题：</span>\r\n          <span class=\"value\">{{ message.title }}</span>\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <span class=\"label\">发送时间：</span>\r\n          <span class=\"value\">{{ formatTime(message.createTime) }}</span>\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <span class=\"label\">发送方式：</span>\r\n          <span class=\"value\">{{ message.isSystem ? '系统自动' : '人工发送' }}</span>\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <span class=\"label\">接收对象：</span>\r\n          <span class=\"value\">{{ formatReceivers(message.receivers) }}</span>\r\n        </div>\r\n        <div class=\"info-item\">\r\n          <span class=\"label\">状态：</span>\r\n          <span class=\"value\" :class=\"{ unread: !message.read }\">\r\n            {{ message.read ? '已读' : '未读' }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"message-content\" v-html=\"message.content\"></div>\r\n      <div class=\"message-actions\">\r\n        <el-button type=\"primary\" @click=\"markAsRead\" v-if=\"!message.read\">标记已读</el-button>\r\n        <el-button type=\"danger\" @click=\"deleteMessage\">删除</el-button>\r\n        <el-button @click=\"goBack\">返回</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { formatTime } from '@/utils/time'\r\n\r\nexport default {\r\n  name: 'MessageDetail',\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const message = ref({\r\n      id: 0,\r\n      type: '',\r\n      number: '',\r\n      title: '',\r\n      content: '',\r\n      createTime: new Date(),\r\n      read: false,\r\n      isSystem: false,\r\n      receivers: []\r\n    })\r\n\r\n    const getTypeText = (type) => {\r\n      const typeMap = {\r\n        command: '指令工单',\r\n        exception: '异常工单',\r\n        'value-added': '增值服务',\r\n        announcement: '系统公告',\r\n        admin: '管理员信息'\r\n      }\r\n      return typeMap[type] || '未知类型'\r\n    }\r\n\r\n    const formatReceivers = (receivers) => {\r\n      if (receivers.includes('all')) {\r\n        return '全体用户'\r\n      }\r\n      return receivers.length + '个用户'\r\n    }\r\n\r\n    const fetchMessageDetail = (id) => {\r\n      // 这里应该是从API获取数据\r\n      const mockMessage = {\r\n        id: id,\r\n        type: 'command',\r\n        number: 'CMD20240315001',\r\n        title: '新的指令工单',\r\n        content: '<p>您有一个新的指令工单需要处理</p><p>工单号：CMD20240315001</p><p>请及时处理</p>',\r\n        createTime: new Date(),\r\n        read: false,\r\n        isSystem: true,\r\n        receivers: ['all']\r\n      }\r\n      message.value = mockMessage\r\n    }\r\n\r\n    const markAsRead = () => {\r\n      message.value.read = true\r\n      ElMessage.success('已标记为已读')\r\n    }\r\n\r\n    const deleteMessage = () => {\r\n      ElMessageBox.confirm('确定要删除这条消息吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 这里应该是调用API删除消息\r\n        ElMessage.success('删除成功')\r\n        goBack()\r\n      })\r\n    }\r\n\r\n    const goBack = () => {\r\n      router.back()\r\n    }\r\n\r\n    onMounted(() => {\r\n      const id = route.query.id\r\n      if (id) {\r\n        fetchMessageDetail(id)\r\n      }\r\n    })\r\n\r\n    return {\r\n      message,\r\n      formatTime,\r\n      getTypeText,\r\n      formatReceivers,\r\n      markAsRead,\r\n      deleteMessage,\r\n      goBack\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.message-detail {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.message-type {\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n\r\n.message-type.command {\r\n  background-color: #409EFF;\r\n}\r\n\r\n.message-type.exception {\r\n  background-color: #F56C6C;\r\n}\r\n\r\n.message-type.value-added {\r\n  background-color: #67C23A;\r\n}\r\n\r\n.message-type.announcement {\r\n  background-color: #E6A23C;\r\n}\r\n\r\n.message-type.admin {\r\n  background-color: #909399;\r\n}\r\n\r\n.message-number {\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.message-info {\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background-color: #f5f7fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.info-item {\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.info-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.label {\r\n  width: 80px;\r\n  color: #606266;\r\n}\r\n\r\n.value {\r\n  color: #303133;\r\n}\r\n\r\n.value.unread {\r\n  color: #F56C6C;\r\n}\r\n\r\n.message-content {\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n}\r\n\r\n.message-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n</style> ","import { render } from \"./MessageDetail.vue?vue&type=template&id=64a238b6&scoped=true\"\nimport script from \"./MessageDetail.vue?vue&type=script&lang=js\"\nexport * from \"./MessageDetail.vue?vue&type=script&lang=js\"\n\nimport \"./MessageDetail.vue?vue&type=style&index=0&id=64a238b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64a238b6\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_normalizeClass","$setup","message","type","getTypeText","_hoisted_3","_toDisplayString","number","default","_hoisted_4","_hoisted_5","_hoisted_6","title","_hoisted_7","_hoisted_8","formatTime","createTime","_hoisted_9","_hoisted_10","isSystem","_hoisted_11","_hoisted_12","formatReceivers","receivers","_hoisted_13","unread","read","innerHTML","content","_hoisted_14","_hoisted_15","_createCommentVNode","_createBlock","_component_el_button","key","onClick","markAsRead","_cache","_createTextVNode","_","deleteMessage","goBack","name","setup","route","useRoute","router","useRouter","ref","id","Date","typeMap","command","exception","announcement","admin","includes","length","fetchMessageDetail","mockMessage","value","ElMessage","success","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","back","onMounted","query","__exports__","render"],"sourceRoot":""}