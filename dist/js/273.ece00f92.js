"use strict";(self["webpackChunkvue_logistics_system"]=self["webpackChunkvue_logistics_system"]||[]).push([[273],{6273:(e,l,a)=>{a.r(l),a.d(l,{default:()=>le});var t=a(641),o=a(953),d=a(33),u=a(163),i=a(7918),r=a(8548),s=a(432),n=a.n(s);const p={class:"fixed-quote-list-container"},v={class:"card-header"},c={class:"header-actions"},b={class:"view-selector"},m={class:"advanced-filter"},k={class:"filter-header"},f={class:"filter-conditions"},h={class:"dialog-footer"},F={class:"group-settings"},_={class:"group-levels"},g={class:"group-level"},y={class:"group-level"},w={class:"group-level"},W={class:"dialog-footer"},V={class:"sort-settings"},C={class:"dialog-footer"},x={class:"column-settings"},R={class:"settings-header"},L={class:"column-item"},K={class:"dialog-footer"},U={key:0},D={key:1},A={key:0,class:"quote-details"},S={key:0,class:"warehouse-details"},E={class:"warehouse-summary",style:{"margin-top":"15px","text-align":"right"}},X={style:{"margin-left":"20px"}},z={class:"approval-history",style:{"margin-top":"20px"}},I={key:0,style:{color:"#666"}},T={class:"dialog-footer"},B={class:"dialog-footer"},M={class:"view-list"},N={class:"dialog-footer"},Q={class:"follow-up-container"},P={class:"follow-up-form"},j={class:"form-footer"},q={class:"follow-up-history"},H={class:"dialog-footer"},O={key:0,class:"quote-details"},J={class:"warehouse-quotes-table"},Y={class:"quote-summary",style:{"margin-top":"15px","text-align":"right"}},G={style:{"margin-left":"20px"}},$={__name:"FixedQuoteList",setup(e){const l=(0,o.KR)([{id:"supplier_1",name:"测试供应商A - 专做提框服务"},{id:"supplier_2",name:"测试供应商B - FBA派送专家"},{id:"supplier_3",name:"测试供应商C - 全能型选手"}]),a=(0,o.KR)([{code:"ONT9",name:"Redlands",state:"CA",city:"Redlands",zipcode:"92374",address:"2125 W. San Bernardino Ave"},{code:"HOU2",name:"Houston",state:"TX",city:"Houston",zipcode:"77038",address:"10550 Ella Blvd."},{code:"HOU3",name:"Brookshire",state:"TX",city:"Brookshire",zipcode:"77423",address:"31555 Highway 90 E"},{code:"XUS8",name:"Dallas",state:"TX",city:"Dallas",zipcode:"76155",address:"14900 Frye Rd.Fort Worth, Tarrant"},{code:"FTW1",name:"Dallas",state:"TX",city:"Dallas",zipcode:"75241",address:"33333 LBJ FWY"},{code:"FTW2",name:"Dallas",state:"TX",city:"Dallas",zipcode:"75261",address:"2701 West Bethel Road"},{code:"RIC1",name:"Petersburg",state:"VA",city:"Petersburg",zipcode:"23803",address:"5000 Commerce Way"},{code:"RIC2",name:"Chester",state:"VA",city:"Chester",zipcode:"23836",address:"1901 Meadowville Technology Parkway"},{code:"RIC3",name:"Richmond",state:"VA",city:"Richmond",zipcode:"23234-2207",address:"4949 Commerce Rd"},{code:"BFI1",name:"Sumner",state:"WA",city:"Sumner",zipcode:"98390",address:"1800 140th Ave.E Pierce County"},{code:"BFI3",name:"Dupont",state:"WA",city:"Dupont",zipcode:"98327",address:"2700 Center Drive Pierce County"},{code:"XUSD",name:"Stockton",state:"CA",city:"Stockton",zipcode:"95206",address:"1909 Zephyr St"},{code:"BFI4",name:"Kent",state:"WA",city:"Kent",zipcode:"98032",address:"21005 64th Ave S"},{code:"BFI5",name:"Kent",state:"WA",city:"Kent",zipcode:"98032",address:"20526 59th Place South, King County"},{code:"PHX3",name:"Phoenix",state:"AZ",city:"Phoenix",zipcode:"85043",address:"6835 West Buckeye Road"},{code:"BFI7",name:"Sumner",state:"WA",city:"Sumner",zipcode:"98390",address:"1901 140th Ave E"},{code:"SEA6",name:"Seattle",state:"WA",city:"Seattle",zipcode:"98144",address:"2646 Rainier Ave.South King Coun"},{code:"SEA8",name:"Bellevue",state:"WA",city:"Bellevue",zipcode:"98005",address:"1227 124th Avenue Northeast"},{code:"MKE1",name:"Kenosha",state:"WI",city:"Kenosha",zipcode:"53144",address:"3501 120th Avenue"},{code:"ATL6",name:"East Point",state:"GA",city:"East Point",zipcode:"30344",address:"4200 North Commerce"},{code:"MGE3",name:"Jefferson",state:"GA",city:"Jefferson",zipcode:"30549",address:"808 Hog Mountain Road"},{code:"MDW2",name:"Joliet",state:"IL",city:"Joliet",zipcode:"60433",address:"250 Emerald Drive"},{code:"MDW6",name:"Romeoville",state:"IL",city:"ROMEOVILLE",zipcode:"60446",address:"1125 W REMINGTON BLVD"},{code:"SNA4",name:"Rialto",state:"CA",city:"Rialto",zipcode:"92376",address:"2496 W Walnut Ave"},{code:"MDW7",name:"Monee",state:"IL",city:"Monee",zipcode:"60449",address:"6605 Monee Manhattan Road"},{code:"MDW8",name:"Waukegan",state:"IL",city:"Waukegan",zipcode:"60085",address:"1750 Bridge Drive"},{code:"MDW9",name:"Aurora",state:"IL",city:"Aurora",zipcode:"60502",address:"2865 Duke Parkway"}]),s=(0,o.KR)([]),$=e=>{const l=["72inch","80inch","96inch","不限高"],a=e.split("").reduce(((e,l)=>e+l.charCodeAt(0)),0)%l.length;return{warehouseCode:e,maxHeight:l[a]}},Z=(e=50)=>{const t=["LAX 港 - FBA 仓库提柜","LGB 港 - FBA 仓库提柜","NY/NJ 港 - FBA 仓库提柜"],o=["FBA","FBX"],d=["pending","first_approved","final_approved","rejected","active","expired"],u=[],i=Date.now();for(let r=0;r<e;r++){const e=l.value[Math.floor(Math.random()*l.value.length)],s=d[Math.floor(Math.random()*d.length)],n=o[Math.floor(Math.random()*o.length)],p=new Date(i-Math.floor(60*Math.random()*24*60*60*1e3)),v=new Date(p.getTime()+Math.floor(10*Math.random()*24*60*60*1e3)),c=new Date(v.getFullYear()+1,v.getMonth(),v.getDate());let b=[];"first_approved"!==s&&"final_approved"!==s&&"rejected"!==s||b.push({timestamp:new Date(p.getTime()+864e5).toLocaleString(),approver:"审批员 L1",action:"初审",approved:"rejected"!==s||Math.random()>.5,comment:"rejected"===s&&Math.random()<.5?"价格偏高":""}),("final_approved"===s||"rejected"===s&&b[0]?.approved)&&b.push({timestamp:new Date(p.getTime()+2592e5).toLocaleString(),approver:"审批经理 L2",action:"终审",approved:"final_approved"===s,comment:"rejected"===s?"市场价格已变动":""});let m=[];"FBA"===n&&(m=a.value.map((e=>({...e,price:parseFloat((1e3*Math.random()+200).toFixed(2)),palletRules:$(e.code)})))),u.push({id:"fq_"+(i-r),supplierId:e.id,supplierName:e.name,quoteType:n,serviceDescription:t[Math.floor(Math.random()*t.length)]+(Math.random()>.5?" (含燃油)":""),price:"FBA"===n?m.reduce(((e,l)=>e+l.price),0)/m.length:parseFloat((1e3*Math.random()+200).toFixed(2)),validFrom:v.toISOString().split("T")[0],validTo:c.toISOString().split("T")[0],submittedAt:p.toLocaleString(),status:s,approvalHistory:b,warehouseQuotes:"FBA"===n?m:null})}return u},ee=[{value:"pending",label:"待初审",tag:"warning"},{value:"first_approved",label:"待终审",tag:"primary"},{value:"final_approved",label:"已批准 (待生效)",tag:"success"},{value:"active",label:"生效中",tag:"success"},{value:"rejected",label:"已拒绝",tag:"danger"},{value:"expired",label:"已过期",tag:"info"}],le=(0,o.Kh)({supplierId:"",status:"",serviceDescription:"",validityRange:[]}),ae=(0,o.Kh)({currentPage:1,pageSize:10}),te=(0,t.EW)((()=>oe.value.length)),oe=(0,t.EW)((()=>s.value.filter((e=>{const l=!le.supplierId||e.supplierId===le.supplierId,a=!le.status||e.status===le.status,t=!le.serviceDescription||e.serviceDescription.includes(le.serviceDescription),o=!le.validityRange||2!==le.validityRange.length||e.validFrom<=le.validityRange[1]&&e.validTo>=le.validityRange[0];return l&&a&&t&&o})))),de=(0,t.EW)((()=>{const e=(ae.currentPage-1)*ae.pageSize,l=e+ae.pageSize;return oe.value.slice(e,l)})),ue=(0,o.KR)(!1),ie=(0,o.KR)(null),re=(0,o.KR)(!1),se=(0,o.KR)(null),ne=(0,o.KR)(!1),pe=(0,o.KR)(""),ve=(0,o.KR)({step:"",approved:!0}),ce=(0,o.KR)("通过"),be=(0,o.KR)("拒绝"),me=e=>ee.find((l=>l.value===e))?.label||e,ke=e=>ee.find((l=>l.value===e))?.tag||"info",fe=e=>{switch(e){case"pending":return"待 L1 初审";case"first_approved":return"待 L2 终审";case"final_approved":return"审批完成 (待生效)";case"active":return"审批完成 (生效中)";case"rejected":return"审批流程已拒绝";case"expired":return"已过期";default:return"未知"}},he=(e,l)=>"first_approve"===l?"pending"===e.status:"final_approve"===l&&"first_approved"===e.status,Fe=()=>{ae.currentPage=1},_e=e=>{ae.pageSize=e,ae.currentPage=1},ge=e=>{ae.currentPage=e},ye=e=>{se.value=JSON.parse(JSON.stringify(e)),ne.value=!1,re.value=!0},we=(e,l,a)=>{se.value=JSON.parse(JSON.stringify(e)),pe.value="",ve.value={step:l,approved:a},ne.value=!0,"first_approve"===l?(ce.value=a?"初审通过":"初审拒绝",be.value="初审拒绝"):(ce.value=a?"最终批准":"最终拒绝",be.value="最终拒绝"),re.value=!0},We=e=>{console.log("查看报价历史 for:",e.serviceDescription,"by",e.supplierName),u.nk.info("跳转到报价历史页面 (待实现)")},Ve=(0,o.KR)("all"),Ce=(0,o.KR)(""),xe=(0,o.KR)([]),Re=(0,o.KR)(!1),Le=(0,o.KR)(!1),Ke=(0,o.KR)({name:"",columns:[]}),Ue=(0,o.KR)([]),De=e=>{switch(e){case"save":Ke.value={name:"",columns:Ul.value.filter((e=>!1!==e.visible)).map((e=>e.prop))},Re.value=!0;break;case"manage":Le.value=!0;break}},Ae=e=>{switch(e){case"export":Se();break;case"approve":Ee();break;case"reject":Xe();break}},Se=()=>{Ue.value.length?(console.log("导出选中数据:",Ue.value),u.nk.success("导出成功")):u.nk.warning("请先选择要导出的数据")},Ee=()=>{Ue.value.length?i.s.confirm(`确定要批量通过选中的 ${Ue.value.length} 条报价吗？`,"批量审批",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log("批量通过:",Ue.value),u.nk.success("批量审批成功")})):u.nk.warning("请先选择要审批的数据")},Xe=()=>{Ue.value.length?i.s.confirm(`确定要批量拒绝选中的 ${Ue.value.length} 条报价吗？`,"批量拒绝",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{console.log("批量拒绝:",Ue.value),u.nk.success("批量拒绝成功")})):u.nk.warning("请先选择要拒绝的数据")},ze=()=>{if(!Ke.value.name)return void u.nk.warning("请输入视图名称");const e={id:Date.now().toString(),name:Ke.value.name,columns:Ke.value.columns,filters:je.value,sortSettings:Ge.value};xe.value.push(e),Te(),Re.value=!1,u.nk.success("视图保存成功")},Ie=(e,l)=>{switch(l){case"edit":break;case"copy":break;case"delete":i.s.confirm("确定要删除该视图吗？","删除视图",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=xe.value.findIndex((l=>l.id===e.id));l>-1&&(xe.value.splice(l,1),Te(),u.nk.success("视图删除成功"))}));break}},Te=()=>{localStorage.setItem("fixedQuoteViews",JSON.stringify(xe.value))},Be=()=>{const e=localStorage.getItem("fixedQuoteViews");e&&(xe.value=JSON.parse(e))},Me=e=>{"all"===e?(le.supplierId="",le.status="",le.serviceDescription="",le.validityRange=[]):le.status=e,Fe()},Ne=e=>{Ue.value=e},Qe=(0,o.KR)(!1),Pe=(0,o.KR)("and"),je=(0,o.KR)([]),qe=(0,t.EW)((()=>[{prop:"supplierName",label:"供应商"},{prop:"serviceDescription",label:"服务描述"},{prop:"price",label:"报价"},{prop:"status",label:"状态"},{prop:"validFrom",label:"生效开始日期"},{prop:"validTo",label:"生效结束日期"},{prop:"submittedAt",label:"提交时间"}])),He=(0,o.KR)(!1),Oe=(0,o.KR)({level1:"",level2:"",level3:""}),Je=(0,t.EW)((()=>qe.value.filter((e=>"operation"!==e.prop)))),Ye=(0,o.KR)(!1),Ge=(0,o.KR)([{field:"",direction:"asc"}]),$e=(0,t.EW)((()=>qe.value.filter((e=>"operation"!==e.prop)))),Ze=()=>{Qe.value=!0},el=()=>{je.value.push({field:"",operator:"eq",value:""})},ll=e=>{je.value.splice(e,1)},al=()=>{Fe(),Qe.value=!1},tl=()=>{He.value=!0},ol=()=>{Oe.value={level1:"",level2:"",level3:""}},dl=()=>{const e=[Oe.value.level1,Oe.value.level2,Oe.value.level3].filter(Boolean);e.length>0&&(console.log("应用分组:",e),Fe()),He.value=!1},ul=()=>{Ye.value=!0},il=()=>{Ge.value.push({field:"",direction:"asc"})},rl=e=>{Ge.value.splice(e,1),0===Ge.value.length&&Ge.value.push({field:"",direction:"asc"})},sl=()=>{Ge.value=[{field:"",direction:"asc"}]},nl=()=>{const e=Ge.value.filter((e=>e.field));e.length>0&&(console.log("应用排序:",e),Fe()),Ye.value=!1},pl=(0,o.KR)(!1),vl=(0,o.KR)([]),cl=(0,t.EW)({get:()=>vl.value.length>0&&vl.value.every((e=>e.visible)),set:e=>{vl.value.forEach((l=>{l.visible=e}))}}),bl=()=>{vl.value=Ul.value.map((e=>({prop:e.prop,label:e.label,visible:!1!==e.visible,width:e.width||120}))),pl.value=!0},ml=e=>{vl.value.forEach((l=>{l.visible=e}))},kl=()=>{vl.value=Ul.value.map((e=>({prop:e.prop,label:e.label,visible:!0,width:e.width||120})))},fl=()=>{Ul.value=vl.value.map((e=>({...Ul.value.find((l=>l.prop===e.prop)),visible:e.visible,width:e.width})))},hl=()=>{Ul.value=vl.value.map((e=>({...Ul.value.find((l=>l.prop===e.prop)),visible:e.visible,width:e.width}))),Ce.value&&Al(Ce.value),pl.value=!1,u.nk.success("字段配置已更新")},Fl=(0,o.KR)(!1),_l=(0,o.KR)({content:"",type:"primary"}),gl=(0,o.KR)([]),yl=(0,o.KR)(null),wl=(0,o.KR)(!1),Wl=(0,o.KR)({content:""}),Vl=(e,l)=>{switch(e){case"first_approve":we(l,"first_approve",!0);break;case"first_reject":we(l,"first_approve",!1);break;case"final_approve":we(l,"final_approve",!0);break;case"final_reject":we(l,"final_approve",!1);break;case"history":We(l);break;case"followUp":Cl(l);break;case"memo":Rl(l);break;case"export":Se([l]);break;case"seeQuote":Kl(l);break}},Cl=e=>{yl.value=e,_l.value={content:"",type:"primary"},gl.value=[{timestamp:"2024-01-01 10:00:00",content:"报价已提交，等待初审",type:"primary"},{timestamp:"2024-01-02 14:30:00",content:"初审通过，等待终审",type:"success"}],Fl.value=!0},xl=()=>{_l.value.content?(gl.value.unshift({timestamp:(new Date).toLocaleString(),content:_l.value.content,type:_l.value.type}),_l.value.content="",u.nk.success("跟进记录已添加")):u.nk.warning("请输入跟进内容")},Rl=e=>{yl.value=e,Wl.value={content:e.memo||""},wl.value=!0},Ll=()=>{yl.value&&(yl.value.memo=Wl.value.content,wl.value=!1,u.nk.success("备注已保存"))},Kl=e=>{"FBA"===e.quoteType?(ie.value={...e,warehouseDetails:a.value.find((l=>e.serviceDescription.includes(l.code)))},ue.value=!0):u.nk.info("FBX报价详情查看功能开发中")},Ul=(0,o.KR)([{prop:"supplierName",label:"供应商",width:200,visible:!0},{prop:"serviceDescription",label:"服务/线路描述",minWidth:250,visible:!0},{prop:"quoteType",label:"报价类型",width:100,visible:!0},{prop:"serviceWarehouse",label:"服务仓库",width:120,visible:!0},{prop:"price",label:"报价 (USD)",width:120,visible:!0},{prop:"validFrom",label:"生效开始日期",width:130,visible:!0},{prop:"validTo",label:"生效结束日期",width:130,visible:!0},{prop:"submittedAt",label:"提交时间",width:160,visible:!0},{prop:"status",label:"状态",width:120,visible:!0},{prop:"approvalProgress",label:"审批进度",width:150,visible:!0},{prop:"operation",label:"操作",width:220,fixed:"right",visible:!0}]),Dl=[{value:"west1",label:"美西一号仓"},{value:"west2",label:"美西二号仓"},{value:"east",label:"美东仓"}],Al=e=>{const l=xe.value.find((l=>l.id===e));l&&(l.columns=Ul.value.map((e=>({prop:e.prop,visible:e.visible,width:e.width}))),Te())};return(0,t.sV)((()=>{s.value=Z(),Be()})),(e,a)=>{const u=(0,t.g2)("el-icon"),i=(0,t.g2)("el-button"),s=(0,t.g2)("el-dropdown-item"),$=(0,t.g2)("el-dropdown-menu"),Z=(0,t.g2)("el-dropdown"),oe=(0,t.g2)("el-radio-button"),ne=(0,t.g2)("el-option"),pe=(0,t.g2)("el-select"),ve=(0,t.g2)("el-radio-group"),ce=(0,t.g2)("el-form-item"),be=(0,t.g2)("el-input"),we=(0,t.g2)("el-date-picker"),We=(0,t.g2)("el-form"),Se=(0,t.g2)("el-radio"),Ee=(0,t.g2)("el-dialog"),Xe=(0,t.g2)("el-checkbox"),Te=(0,t.g2)("el-input-number"),Be=(0,t.g2)("el-table-column"),yl=(0,t.g2)("el-tag"),Cl=(0,t.g2)("el-tooltip"),Rl=(0,t.g2)("el-table"),Kl=(0,t.g2)("el-pagination"),Ul=(0,t.g2)("el-descriptions-item"),Al=(0,t.g2)("el-descriptions"),Sl=(0,t.g2)("el-timeline-item"),El=(0,t.g2)("el-timeline"),Xl=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(Xl,null,{header:(0,t.k6)((()=>[(0,t.Lk)("div",v,[a[39]||(a[39]=(0,t.Lk)("span",null,"固定报价列表 (待审核/已生效)",-1)),(0,t.Lk)("div",c,[(0,t.bF)(Z,{onCommand:De},{dropdown:(0,t.k6)((()=>[(0,t.bF)($,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{command:"save"},{default:(0,t.k6)((()=>a[33]||(a[33]=[(0,t.eW)("保存当前视图")]))),_:1}),(0,t.bF)(s,{command:"manage"},{default:(0,t.k6)((()=>a[34]||(a[34]=[(0,t.eW)("管理视图")]))),_:1})])),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(i,{type:"primary",plain:""},{default:(0,t.k6)((()=>[a[32]||(a[32]=(0,t.eW)(" 视图管理 ")),(0,t.bF)(u,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(r.yd$))])),_:1})])),_:1})])),_:1}),(0,t.bF)(Z,{onCommand:Ae,disabled:!Ue.value.length},{dropdown:(0,t.k6)((()=>[(0,t.bF)($,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{command:"export"},{default:(0,t.k6)((()=>a[36]||(a[36]=[(0,t.eW)("导出选中")]))),_:1}),(0,t.bF)(s,{command:"approve"},{default:(0,t.k6)((()=>a[37]||(a[37]=[(0,t.eW)("批量通过")]))),_:1}),(0,t.bF)(s,{command:"reject"},{default:(0,t.k6)((()=>a[38]||(a[38]=[(0,t.eW)("批量拒绝")]))),_:1})])),_:1})])),default:(0,t.k6)((()=>[(0,t.bF)(i,{type:"primary",plain:""},{default:(0,t.k6)((()=>[a[35]||(a[35]=(0,t.eW)(" 批量操作 ")),(0,t.bF)(u,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(r.yd$))])),_:1})])),_:1})])),_:1},8,["disabled"])])])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[(0,t.bF)(ve,{modelValue:Ve.value,"onUpdate:modelValue":a[1]||(a[1]=e=>Ve.value=e),onChange:Me},{default:(0,t.k6)((()=>[(0,t.bF)(oe,{label:"all"},{default:(0,t.k6)((()=>a[40]||(a[40]=[(0,t.eW)("全部")]))),_:1}),(0,t.bF)(oe,{label:"pending"},{default:(0,t.k6)((()=>a[41]||(a[41]=[(0,t.eW)("待审核")]))),_:1}),(0,t.bF)(oe,{label:"approved"},{default:(0,t.k6)((()=>a[42]||(a[42]=[(0,t.eW)("已通过")]))),_:1}),(0,t.bF)(oe,{label:"rejected"},{default:(0,t.k6)((()=>a[43]||(a[43]=[(0,t.eW)("已拒绝")]))),_:1}),(0,t.bF)(oe,{label:"active"},{default:(0,t.k6)((()=>a[44]||(a[44]=[(0,t.eW)("生效中")]))),_:1}),(0,t.bF)(oe,{label:"expired"},{default:(0,t.k6)((()=>a[45]||(a[45]=[(0,t.eW)("已过期")]))),_:1}),(0,t.bF)(pe,{modelValue:Ce.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Ce.value=e),placeholder:"自定义视图",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(xe.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])]),(0,t.bF)(We,{inline:!0,model:le,class:"filter-form"},{default:(0,t.k6)((()=>[(0,t.bF)(ce,{label:"供应商"},{default:(0,t.k6)((()=>[(0,t.bF)(pe,{modelValue:le.supplierId,"onUpdate:modelValue":a[2]||(a[2]=e=>le.supplierId=e),placeholder:"选择供应商",clearable:"",filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ce,{label:"状态"},{default:(0,t.k6)((()=>[(0,t.bF)(pe,{modelValue:le.status,"onUpdate:modelValue":a[3]||(a[3]=e=>le.status=e),placeholder:"选择状态",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(ee,(e=>(0,t.bF)(ne,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(ce,{label:"服务描述"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{modelValue:le.serviceDescription,"onUpdate:modelValue":a[4]||(a[4]=e=>le.serviceDescription=e),placeholder:"输入线路/服务关键字",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(ce,{label:"有效期"},{default:(0,t.k6)((()=>[(0,t.bF)(we,{modelValue:le.validityRange,"onUpdate:modelValue":a[5]||(a[5]=e=>le.validityRange=e),type:"daterange","range-separator":"至","start-placeholder":"生效开始","end-placeholder":"生效结束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ce,null,{default:(0,t.k6)((()=>[(0,t.bF)(i,{type:"primary",onClick:Fe},{default:(0,t.k6)((()=>a[46]||(a[46]=[(0,t.eW)("查询")]))),_:1}),(0,t.bF)(i,{onClick:Ze},{default:(0,t.k6)((()=>a[47]||(a[47]=[(0,t.eW)("高级筛选")]))),_:1}),(0,t.bF)(i,{onClick:tl},{default:(0,t.k6)((()=>a[48]||(a[48]=[(0,t.eW)("分组设置")]))),_:1}),(0,t.bF)(i,{onClick:ul},{default:(0,t.k6)((()=>a[49]||(a[49]=[(0,t.eW)("排序设置")]))),_:1}),(0,t.bF)(i,{onClick:bl},{default:(0,t.k6)((()=>a[50]||(a[50]=[(0,t.eW)("字段配置")]))),_:1})])),_:1})])),_:1},8,["model"]),(0,t.bF)(Ee,{modelValue:Qe.value,"onUpdate:modelValue":a[8]||(a[8]=e=>Qe.value=e),title:"高级筛选",width:"800px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",h,[(0,t.bF)(i,{onClick:a[7]||(a[7]=e=>Qe.value=!1)},{default:(0,t.k6)((()=>a[55]||(a[55]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:al},{default:(0,t.k6)((()=>a[56]||(a[56]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",m,[(0,t.Lk)("div",k,[(0,t.bF)(ve,{modelValue:Pe.value,"onUpdate:modelValue":a[6]||(a[6]=e=>Pe.value=e)},{default:(0,t.k6)((()=>[(0,t.bF)(Se,{label:"and"},{default:(0,t.k6)((()=>a[51]||(a[51]=[(0,t.eW)("且")]))),_:1}),(0,t.bF)(Se,{label:"or"},{default:(0,t.k6)((()=>a[52]||(a[52]=[(0,t.eW)("或")]))),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(i,{type:"primary",link:"",onClick:el},{default:(0,t.k6)((()=>a[53]||(a[53]=[(0,t.eW)("添加条件")]))),_:1})]),(0,t.Lk)("div",f,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(je.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"filter-item"},[(0,t.bF)(pe,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择字段",style:{width:"150px"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(qe.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(pe,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,placeholder:"选择操作符",style:{width:"120px"}},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{label:"等于",value:"eq"}),(0,t.bF)(ne,{label:"不等于",value:"ne"}),(0,t.bF)(ne,{label:"包含",value:"contains"}),(0,t.bF)(ne,{label:"不包含",value:"notContains"}),(0,t.bF)(ne,{label:"大于",value:"gt"}),(0,t.bF)(ne,{label:"小于",value:"lt"}),(0,t.bF)(ne,{label:"大于等于",value:"ge"}),(0,t.bF)(ne,{label:"小于等于",value:"le"}),(0,t.bF)(ne,{label:"开始于",value:"startWith"}),(0,t.bF)(ne,{label:"结束于",value:"endWith"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(be,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"输入值",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),(0,t.bF)(i,{type:"danger",link:"",onClick:e=>ll(l)},{default:(0,t.k6)((()=>a[54]||(a[54]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128))])])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:He.value,"onUpdate:modelValue":a[12]||(a[12]=e=>He.value=e),title:"分组设置",width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",W,[(0,t.bF)(i,{onClick:ol},{default:(0,t.k6)((()=>a[60]||(a[60]=[(0,t.eW)("清除分组")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:dl},{default:(0,t.k6)((()=>a[61]||(a[61]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",F,[(0,t.Lk)("div",_,[(0,t.Lk)("div",g,[a[57]||(a[57]=(0,t.Lk)("span",{class:"level-label"},"一级分组：",-1)),(0,t.bF)(pe,{modelValue:Oe.value.level1,"onUpdate:modelValue":a[9]||(a[9]=e=>Oe.value.level1=e),placeholder:"选择分组字段",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Je.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",y,[a[58]||(a[58]=(0,t.Lk)("span",{class:"level-label"},"二级分组：",-1)),(0,t.bF)(pe,{modelValue:Oe.value.level2,"onUpdate:modelValue":a[10]||(a[10]=e=>Oe.value.level2=e),placeholder:"选择分组字段",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Je.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t.Lk)("div",w,[a[59]||(a[59]=(0,t.Lk)("span",{class:"level-label"},"三级分组：",-1)),(0,t.bF)(pe,{modelValue:Oe.value.level3,"onUpdate:modelValue":a[11]||(a[11]=e=>Oe.value.level3=e),placeholder:"选择分组字段",clearable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Je.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:Ye.value,"onUpdate:modelValue":a[13]||(a[13]=e=>Ye.value=e),title:"排序设置",width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",C,[(0,t.bF)(i,{onClick:sl},{default:(0,t.k6)((()=>a[64]||(a[64]=[(0,t.eW)("清除排序")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:nl},{default:(0,t.k6)((()=>a[65]||(a[65]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ge.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"sort-item"},[(0,t.bF)(pe,{modelValue:e.field,"onUpdate:modelValue":l=>e.field=l,placeholder:"选择排序字段",style:{width:"200px"}},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)($e.value,(e=>((0,t.uX)(),(0,t.Wv)(ne,{key:e.prop,label:e.label,value:e.prop},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(pe,{modelValue:e.direction,"onUpdate:modelValue":l=>e.direction=l,placeholder:"排序方向",style:{width:"120px"}},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{label:"升序",value:"asc"}),(0,t.bF)(ne,{label:"降序",value:"desc"})])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(i,{type:"danger",link:"",onClick:e=>rl(l)},{default:(0,t.k6)((()=>a[62]||(a[62]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])))),128)),(0,t.bF)(i,{type:"primary",link:"",onClick:il},{default:(0,t.k6)((()=>a[63]||(a[63]=[(0,t.eW)("添加排序")]))),_:1})])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:pl.value,"onUpdate:modelValue":a[17]||(a[17]=e=>pl.value=e),title:"字段配置",width:"800px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",K,[(0,t.bF)(i,{onClick:a[16]||(a[16]=e=>pl.value=!1)},{default:(0,t.k6)((()=>a[68]||(a[68]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:hl},{default:(0,t.k6)((()=>a[69]||(a[69]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",x,[(0,t.Lk)("div",R,[(0,t.bF)(Xe,{modelValue:cl.value,"onUpdate:modelValue":a[14]||(a[14]=e=>cl.value=e),onChange:ml},{default:(0,t.k6)((()=>a[66]||(a[66]=[(0,t.eW)(" 全选/取消全选 ")]))),_:1},8,["modelValue"]),(0,t.bF)(i,{type:"primary",link:"",onClick:kl},{default:(0,t.k6)((()=>a[67]||(a[67]=[(0,t.eW)("重置")]))),_:1})]),(0,t.bF)((0,o.R1)(n()),{modelValue:vl.value,"onUpdate:modelValue":a[15]||(a[15]=e=>vl.value=e),"item-key":"prop",handle:".drag-handle",onEnd:fl},{item:(0,t.k6)((({element:e})=>[(0,t.Lk)("div",L,[(0,t.bF)(u,{class:"drag-handle"},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(r.rgM))])),_:1}),(0,t.bF)(Xe,{modelValue:e.visible,"onUpdate:modelValue":l=>e.visible=l},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),e.visible?((0,t.uX)(),(0,t.Wv)(Te,{key:0,modelValue:e.width,"onUpdate:modelValue":l=>e.width=l,min:80,max:500,size:"small",style:{width:"100px"},placeholder:"宽度"},null,8,["modelValue","onUpdate:modelValue"])):(0,t.Q3)("",!0)])])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"]),(0,t.bF)(Rl,{data:de.value,style:{width:"100%"},border:"",onSelectionChange:Ne},{default:(0,t.k6)((()=>[(0,t.bF)(Be,{type:"selection",width:"55"}),(0,t.bF)(Be,{prop:"supplierName",label:"供应商",width:"200","show-overflow-tooltip":""}),(0,t.bF)(Be,{prop:"serviceDescription",label:"服务/线路描述",minWidth:"250","show-overflow-tooltip":""}),(0,t.bF)(Be,{prop:"quoteType",label:"报价类型",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(yl,{type:"FBA"===e.row.quoteType?"success":"warning"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(e.row.quoteType),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(Be,{prop:"serviceWarehouse",label:"服务仓库",width:"120"},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(e.row.serviceWarehouse?Dl.find((l=>l.value===e.row.serviceWarehouse)).label:"-"),1)])),_:1}),(0,t.bF)(Be,{prop:"price",label:"报价 (USD)",width:"120"},{default:(0,t.k6)((e=>[(0,t.eW)((0,d.v_)(e.row.price?e.row.price.toFixed(2):"-"),1)])),_:1}),(0,t.bF)(Be,{prop:"validFrom",label:"生效开始日期",width:"130"}),(0,t.bF)(Be,{prop:"validTo",label:"生效结束日期",width:"130"}),(0,t.bF)(Be,{prop:"submittedAt",label:"提交时间",width:"160"}),(0,t.bF)(Be,{prop:"status",label:"状态",width:"120"},{default:(0,t.k6)((e=>[(0,t.bF)(yl,{type:ke(e.row.status)},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(me(e.row.status)),1)])),_:2},1032,["type"])])),_:1}),(0,t.bF)(Be,{label:"审批进度",width:"150"},{default:(0,t.k6)((e=>[(0,t.bF)(Cl,{placement:"top"},{content:(0,t.k6)((()=>[e.row.approvalHistory&&e.row.approvalHistory.length>0?((0,t.uX)(),(0,t.CE)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.row.approvalHistory,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l},(0,d.v_)(e.timestamp)+": "+(0,d.v_)(e.approver)+" "+(0,d.v_)(e.action)+" "+(0,d.v_)(e.comment?"- "+e.comment:""),1)))),128))])):((0,t.uX)(),(0,t.CE)("div",D,"暂无审批记录"))])),default:(0,t.k6)((()=>[(0,t.Lk)("span",null,(0,d.v_)(fe(e.row.status)),1)])),_:2},1024)])),_:1}),(0,t.bF)(Be,{label:"操作",fixed:"right",width:"220"},{default:(0,t.k6)((e=>[(0,t.bF)(i,{text:"",type:"primary",size:"small",onClick:l=>ye(e.row)},{default:(0,t.k6)((()=>a[70]||(a[70]=[(0,t.eW)("详情")]))),_:2},1032,["onClick"]),(0,t.bF)(Z,{size:"small",onCommand:l=>Vl(l,e.row)},{dropdown:(0,t.k6)((()=>[(0,t.bF)($,null,{default:(0,t.k6)((()=>[he(e.row,"first_approve")?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(s,{command:"first_approve",divided:""},{default:(0,t.k6)((()=>a[72]||(a[72]=[(0,t.eW)("初审通过")]))),_:1}),(0,t.bF)(s,{command:"first_reject"},{default:(0,t.k6)((()=>a[73]||(a[73]=[(0,t.eW)("初审拒绝")]))),_:1})],64)):he(e.row,"final_approve")?((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(s,{command:"final_approve",divided:""},{default:(0,t.k6)((()=>a[74]||(a[74]=[(0,t.eW)("最终批准")]))),_:1}),(0,t.bF)(s,{command:"final_reject"},{default:(0,t.k6)((()=>a[75]||(a[75]=[(0,t.eW)("最终拒绝")]))),_:1})],64)):(0,t.Q3)("",!0),(0,t.bF)(s,{command:"history"},{default:(0,t.k6)((()=>a[76]||(a[76]=[(0,t.eW)("查看历史")]))),_:1}),(0,t.bF)(s,{command:"followUp"},{default:(0,t.k6)((()=>a[77]||(a[77]=[(0,t.eW)("跟进记录")]))),_:1}),(0,t.bF)(s,{command:"memo"},{default:(0,t.k6)((()=>a[78]||(a[78]=[(0,t.eW)("备注")]))),_:1}),(0,t.bF)(s,{command:"export"},{default:(0,t.k6)((()=>a[79]||(a[79]=[(0,t.eW)("导出")]))),_:1}),(0,t.bF)(s,{command:"seeQuote"},{default:(0,t.k6)((()=>a[80]||(a[80]=[(0,t.eW)("查看报价")]))),_:1})])),_:2},1024)])),default:(0,t.k6)((()=>[(0,t.bF)(i,{text:"",type:"primary",size:"small"},{default:(0,t.k6)((()=>a[71]||(a[71]=[(0,t.eW)(" 更多"),(0,t.Lk)("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)]))),_:1})])),_:2},1032,["onCommand"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(Kl,{style:{"margin-top":"20px","justify-content":"flex-end"},background:"",layout:"total, sizes, prev, pager, next, jumper",total:te.value,"page-sizes":[10,20,50,100],"page-size":ae.pageSize,"current-page":ae.currentPage,onSizeChange:_e,onCurrentChange:ge},null,8,["total","page-size","current-page"]),(0,t.bF)(Ee,{modelValue:re.value,"onUpdate:modelValue":a[19]||(a[19]=e=>re.value=e),title:"报价详情",width:"80%","close-on-click-modal":!1},{footer:(0,t.k6)((()=>[(0,t.Lk)("div",T,[(0,t.bF)(i,{onClick:a[18]||(a[18]=e=>re.value=!1)},{default:(0,t.k6)((()=>a[83]||(a[83]=[(0,t.eW)("关闭")]))),_:1})])])),default:(0,t.k6)((()=>[se.value?((0,t.uX)(),(0,t.CE)("div",A,[(0,t.bF)(Al,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ul,{label:"供应商"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.supplierName),1)])),_:1}),(0,t.bF)(Ul,{label:"服务描述"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.serviceDescription),1)])),_:1}),(0,t.bF)(Ul,{label:"报价类型"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.quoteType),1)])),_:1}),(0,t.bF)(Ul,{label:"服务仓库"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.serviceWarehouse?Dl.find((e=>e.value===se.value.serviceWarehouse)).label:"-"),1)])),_:1}),(0,t.bF)(Ul,{label:"价格"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.price)+" USD",1)])),_:1}),(0,t.bF)(Ul,{label:"有效期"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.validFrom)+" 至 "+(0,d.v_)(se.value.validTo),1)])),_:1}),(0,t.bF)(Ul,{label:"提交时间"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(se.value.submittedAt),1)])),_:1}),(0,t.bF)(Ul,{label:"状态",span:2},{default:(0,t.k6)((()=>[(0,t.bF)(yl,{type:e.getStatusType(se.value.status)},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(me(se.value.status)),1)])),_:1},8,["type"])])),_:1})])),_:1}),"FBA"===se.value.quoteType&&se.value.warehouseQuotes?((0,t.uX)(),(0,t.CE)("div",S,[a[81]||(a[81]=(0,t.Lk)("h3",null,"仓库报价详情",-1)),(0,t.bF)(Rl,{data:se.value.warehouseQuotes,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Be,{prop:"warehouseCode",label:"仓库代码",width:"120"}),(0,t.bF)(Be,{prop:"warehouseName",label:"仓库名称",width:"180"}),(0,t.bF)(Be,{prop:"state",label:"州",width:"100"}),(0,t.bF)(Be,{prop:"zipcode",label:"邮编",width:"100"}),(0,t.bF)(Be,{prop:"address",label:"详细地址"}),(0,t.bF)(Be,{prop:"price",label:"价格",width:"120"},{default:(0,t.k6)((({row:e})=>[(0,t.eW)((0,d.v_)(e.price)+" USD ",1)])),_:1})])),_:1},8,["data"]),(0,t.Lk)("div",E,[(0,t.Lk)("span",null,"平均价格："+(0,d.v_)((se.value.warehouseQuotes.reduce(((e,l)=>e+l.price),0)/se.value.warehouseQuotes.length).toFixed(2))+" USD",1),(0,t.Lk)("span",X,"仓库数量："+(0,d.v_)(se.value.warehouseQuotes.length),1)])])):(0,t.Q3)("",!0),(0,t.Lk)("div",z,[a[82]||(a[82]=(0,t.Lk)("h3",null,"审批历史",-1)),(0,t.bF)(El,null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(se.value.approvalHistory,((e,l)=>((0,t.uX)(),(0,t.Wv)(Sl,{key:l,timestamp:e.timestamp,type:e.approved?"success":"danger"},{default:(0,t.k6)((()=>[(0,t.Lk)("h4",null,(0,d.v_)(e.approver)+" - "+(0,d.v_)(e.action),1),(0,t.Lk)("p",null,(0,d.v_)(e.approved?"通过":"拒绝"),1),e.comment?((0,t.uX)(),(0,t.CE)("p",I,"备注："+(0,d.v_)(e.comment),1)):(0,t.Q3)("",!0)])),_:2},1032,["timestamp","type"])))),128))])),_:1})])])):(0,t.Q3)("",!0)])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:Re.value,"onUpdate:modelValue":a[22]||(a[22]=e=>Re.value=e),title:"保存视图",width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",B,[(0,t.bF)(i,{onClick:a[21]||(a[21]=e=>Re.value=!1)},{default:(0,t.k6)((()=>a[84]||(a[84]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:ze},{default:(0,t.k6)((()=>a[85]||(a[85]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(We,{model:Ke.value,"label-width":"80px"},{default:(0,t.k6)((()=>[(0,t.bF)(ce,{label:"视图名称"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{modelValue:Ke.value.name,"onUpdate:modelValue":a[20]||(a[20]=e=>Ke.value.name=e),placeholder:"请输入视图名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:Le.value,"onUpdate:modelValue":a[24]||(a[24]=e=>Le.value=e),title:"管理视图",width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",N,[(0,t.bF)(i,{onClick:a[23]||(a[23]=e=>Le.value=!1)},{default:(0,t.k6)((()=>a[89]||(a[89]=[(0,t.eW)("关闭")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",M,[(0,t.bF)(Rl,{data:xe.value,style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Be,{prop:"name",label:"视图名称"}),(0,t.bF)(Be,{label:"操作",width:"200"},{default:(0,t.k6)((e=>[(0,t.bF)(i,{text:"",type:"primary",onClick:l=>Ie(e.row,"edit")},{default:(0,t.k6)((()=>a[86]||(a[86]=[(0,t.eW)("编辑")]))),_:2},1032,["onClick"]),(0,t.bF)(i,{text:"",type:"primary",onClick:l=>Ie(e.row,"copy")},{default:(0,t.k6)((()=>a[87]||(a[87]=[(0,t.eW)("复制")]))),_:2},1032,["onClick"]),(0,t.bF)(i,{text:"",type:"danger",onClick:l=>Ie(e.row,"delete")},{default:(0,t.k6)((()=>a[88]||(a[88]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:Fl.value,"onUpdate:modelValue":a[27]||(a[27]=e=>Fl.value=e),title:"跟进记录",width:"800px"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",Q,[(0,t.Lk)("div",P,[(0,t.bF)(We,{model:_l.value,"label-width":"80px"},{default:(0,t.k6)((()=>[(0,t.bF)(ce,{label:"跟进内容"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{modelValue:_l.value.content,"onUpdate:modelValue":a[25]||(a[25]=e=>_l.value.content=e),type:"textarea",rows:4,placeholder:"请输入跟进内容"},null,8,["modelValue"])])),_:1}),(0,t.bF)(ce,{label:"跟进类型"},{default:(0,t.k6)((()=>[(0,t.bF)(pe,{modelValue:_l.value.type,"onUpdate:modelValue":a[26]||(a[26]=e=>_l.value.type=e),placeholder:"请选择跟进类型",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(ne,{label:"常规跟进",value:"primary"}),(0,t.bF)(ne,{label:"重要跟进",value:"warning"}),(0,t.bF)(ne,{label:"紧急跟进",value:"danger"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,t.Lk)("div",j,[(0,t.bF)(i,{type:"primary",onClick:xl},{default:(0,t.k6)((()=>a[90]||(a[90]=[(0,t.eW)("添加跟进")]))),_:1})])]),(0,t.Lk)("div",q,[(0,t.bF)(El,null,{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(gl.value,((e,l)=>((0,t.uX)(),(0,t.Wv)(Sl,{key:l,timestamp:e.timestamp,type:e.type},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(e.content),1)])),_:2},1032,["timestamp","type"])))),128))])),_:1})])])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:wl.value,"onUpdate:modelValue":a[30]||(a[30]=e=>wl.value=e),title:"备注",width:"600px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",H,[(0,t.bF)(i,{onClick:a[29]||(a[29]=e=>wl.value=!1)},{default:(0,t.k6)((()=>a[91]||(a[91]=[(0,t.eW)("取消")]))),_:1}),(0,t.bF)(i,{type:"primary",onClick:Ll},{default:(0,t.k6)((()=>a[92]||(a[92]=[(0,t.eW)("确定")]))),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(We,{model:Wl.value,"label-width":"80px"},{default:(0,t.k6)((()=>[(0,t.bF)(ce,{label:"备注内容"},{default:(0,t.k6)((()=>[(0,t.bF)(be,{modelValue:Wl.value.content,"onUpdate:modelValue":a[28]||(a[28]=e=>Wl.value.content=e),type:"textarea",rows:4,placeholder:"请输入备注内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.bF)(Ee,{modelValue:ue.value,"onUpdate:modelValue":a[31]||(a[31]=e=>ue.value=e),title:"FBA报价详情",width:"90%"},{default:(0,t.k6)((()=>[ie.value?((0,t.uX)(),(0,t.CE)("div",O,[(0,t.bF)(Al,{column:2,border:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ul,{label:"供应商"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ie.value.supplierName),1)])),_:1}),(0,t.bF)(Ul,{label:"报价类型"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ie.value.quoteType),1)])),_:1}),(0,t.bF)(Ul,{label:"服务描述"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ie.value.serviceDescription),1)])),_:1}),(0,t.bF)(Ul,{label:"服务仓库"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ie.value.serviceWarehouse?Dl.find((e=>e.value===ie.value.serviceWarehouse)).label:"-"),1)])),_:1}),(0,t.bF)(Ul,{label:"生效日期"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(ie.value.validFrom)+" 至 "+(0,d.v_)(ie.value.validTo),1)])),_:1})])),_:1}),(0,t.Lk)("div",J,[a[95]||(a[95]=(0,t.Lk)("h3",null,"仓库报价明细",-1)),(0,t.bF)(Rl,{data:ie.value.warehouseQuotes,border:"",style:{width:"100%","margin-top":"15px"}},{default:(0,t.k6)((()=>[(0,t.bF)(Be,{prop:"platformName",label:"平台名称",width:"120"},{default:(0,t.k6)((()=>a[93]||(a[93]=[(0,t.eW)("Amazon")]))),_:1}),(0,t.bF)(Be,{prop:"code",label:"仓库代码",width:"120"}),(0,t.bF)(Be,{prop:"country",label:"国家",width:"100"},{default:(0,t.k6)((()=>a[94]||(a[94]=[(0,t.eW)("US")]))),_:1}),(0,t.bF)(Be,{prop:"state",label:"省/州",width:"100"}),(0,t.bF)(Be,{prop:"city",label:"城市",width:"120"}),(0,t.bF)(Be,{prop:"address",label:"详细地址","min-width":"250","show-overflow-tooltip":""}),(0,t.bF)(Be,{prop:"zipcode",label:"邮编",width:"100"}),(0,t.bF)(Be,{prop:"price",label:"报价 (USD)",width:"120"},{default:(0,t.k6)((({row:e})=>[(0,t.eW)((0,d.v_)(e.price.toFixed(2)),1)])),_:1}),(0,t.bF)(Be,{prop:"palletRules.maxHeight",label:"打板规则",width:"120"},{default:(0,t.k6)((({row:e})=>[(0,t.eW)((0,d.v_)(e.palletRules.maxHeight),1)])),_:1})])),_:1},8,["data"]),(0,t.Lk)("div",Y,[(0,t.Lk)("span",null,"仓库数量："+(0,d.v_)(ie.value.warehouseQuotes.length),1),(0,t.Lk)("span",G,"平均价格："+(0,d.v_)((ie.value.warehouseQuotes.reduce(((e,l)=>e+l.price),0)/ie.value.warehouseQuotes.length).toFixed(2))+" USD",1)])])])):(0,t.Q3)("",!0)])),_:1},8,["modelValue"])])),_:1})])}}};var Z=a(6262);const ee=(0,Z.A)($,[["__scopeId","data-v-083f1d34"]]),le=ee}}]);
//# sourceMappingURL=273.ece00f92.js.map